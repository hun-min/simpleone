/*! For license information please see main.5fdafea6.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case T:return"SuspenseList";case I:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case S:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return O(e(t))}catch(al){}}return null}var P=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},M=[],F=-1;function z(e){return{current:e}}function V(e){0>F||(e.current=M[F],M[F]=null,F--)}function U(e,t){F++,M[F]=e.current,e.current=t}var B,H,q=z(null),K=z(null),W=z(null),G=z(null);function Q(e,t){switch(U(W,t),U(K,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(q),U(q,e)}function Y(){V(q),V(K),V(W)}function X(e){null!==e.memoizedState&&U(G,e);var t=q.current,n=bd(t,e.type);t!==n&&(U(K,e),U(q,n))}function J(e){K.current===e&&(V(q),V(K)),G.current===e&&(V(G),dh._currentValue=j)}function $(e){if(void 0===B)try{throw Error()}catch(al){var t=al.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",H=-1<al.stack.indexOf("\n    at")?" (<anonymous>)":-1<al.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(al){var r=al}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==t&&null!==t?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return $("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(al){return"\nError generating stack: "+al.message+"\n"+al.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,oe=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Se(e)/ke|0)|0},Se=Math.log,ke=Math.LN2;var xe=256,Te=262144,Ee=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ie(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=_e(r):0!==(o&=s)?i=_e(o):n||0!==(n=s&~e)&&(i=_e(n)):0!==(s=r&~a)?i=_e(s):0!==o?i=_e(o):n||0!==(n=r&~e)&&(i=_e(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function De(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:je(n))&(e.suspendedLanes|t))?0:n}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Ih(e.type)}function ze(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ve=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Ve,Be="__reactProps$"+Ve,He="__reactContainer$"+Ve,qe="__reactEvents$"+Ve,Ke="__reactListeners$"+Ve,We="__reactHandles$"+Ve,Ge="__reactResources$"+Ve,Qe="__reactMarker$"+Ve;function Ye(e){delete e[Ue],delete e[Be],delete e[qe],delete e[Ke],delete e[We]}function Xe(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[Ue])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Ue]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},st={};function lt(e,t,n){if(i=t,re.call(st,i)||!re.call(ot,i)&&(at.test(i)?st[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?wt(e,o,dt(t)):null!=n?wt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function bt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(P(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Tt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&_t(e,a,t[a])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ot(){}var Pt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,jt=null;function Mt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Be]||null;if(!i)throw Error(o(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Ft=!1;function zt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Lt||null!==jt)&&(eu(),Lt&&(t=Lt,e=jt,jt=Lt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Vt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch($h){Bt=!1}var qt=null,Kt=null,Wt=null;function Gt(){if(Wt)return Wt;var e,t,n=Kt,r=n.length,i="value"in qt?qt.value:qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Xt(){return!1}function Jt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Xt,this.isPropagationStopped=Xt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var $t,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),rn=f({},tn,{view:0,detail:0}),an=Jt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?($t=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=$t=0,en=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Jt(on),ln=Jt(f({},on,{dataTransfer:0})),cn=Jt(f({},rn,{relatedTarget:0})),un=Jt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Jt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Jt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Jt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Jt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Jt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),Sn=Jt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Jt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Jt(f({},tn,{newState:0,oldState:0})),Tn=[9,13,27,32],En=Ut&&"CompositionEvent"in window,_n=null;Ut&&"documentMode"in document&&(_n=document.documentMode);var In=Ut&&"TextEvent"in window&&!_n,Cn=Ut&&(!En||_n&&8<_n&&11>=_n),Nn=String.fromCharCode(32),An=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function jn(e,t,n,r){Lt?jt?jt.push(r):jt=[r]:Lt=r,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Fn=null;function zn(e){Xu(e,0)}function Vn(e){if(pt($e(e)))return e}function Un(e,t){if("change"===e)return t}var Bn=!1;if(Ut){var Hn;if(Ut){var qn="oninput"in document;if(!qn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),qn="function"===typeof Kn.oninput}Hn=qn}else Hn=!1;Bn=Hn&&(!document.documentMode||9<document.documentMode)}function Wn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),Fn=Mn=null)}function Gn(e){if("value"===e.propertyName&&Vn(Fn)){var t=[];jn(t,Fn,e,Rt(e)),zt(zn,t)}}function Qn(e,t,n){"focusin"===e?(Wn(),Fn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Wn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Fn)}function Xn(e,t){if("click"===e)return Vn(t)}function Jn(e,t){if("input"===e||"change"===e)return Vn(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Ut&&"documentMode"in document&&11>=document.documentMode,or=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==or||or!==mt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=id(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Ut&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),Sr=mr("transitioncancel"),kr=mr("transitionend"),xr=new Map,Tr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){xr.set(e,t),rt(t,[e])}Tr.push("scrollEnd");var _r="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ir=[],Cr=0,Nr=0;function Ar(){for(var e=Cr,t=Nr=Cr=0;t<e;){var n=Ir[t];Ir[t++]=null;var r=Ir[t];Ir[t++]=null;var i=Ir[t];Ir[t++]=null;var a=Ir[t];if(Ir[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Rr(n,i,a)}}function Dr(e,t,n,r){Ir[Cr++]=e,Ir[Cr++]=t,Ir[Cr++]=n,Ir[Cr++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Dr(e,t,n,r),Lr(e)}function Pr(e,t){return Dr(e,null,null,t),Lr(e)}function Rr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Lr(e){if(50<Kc)throw Kc=0,Wc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Mr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)zr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=Fr(31,n,t,i)).elementType=I,e.lanes=a,e;case y:return Hr(n.children,i,a,t);case v:s=8,i|=24;break;case b:return(e=Fr(12,n,t,2|i)).elementType=b,e.lanes=a,e;case x:return(e=Fr(13,n,t,i)).elementType=x,e.lanes=a,e;case T:return(e=Fr(19,n,t,i)).elementType=T,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case w:s=9;break e;case k:s=11;break e;case E:s=14;break e;case _:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Kr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Xr=0,Jr=null,$r=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Yr[Xr++]=$r,Yr[Xr++]=Jr,Jr=e,$r=t}function ai(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-we(r)-1;r&=~(1<<i),n+=1;var a=32-we(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-we(t)+i|n<<i|r,ri=a+e}else ni=1<<a|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),ai(e,1,0))}function si(e){for(;e===Jr;)Jr=Yr[--Xr],Yr[Xr]=null,$r=Yr[--Xr],Yr[Xr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,fi=!1,pi=Error(o(519));function mi(e){throw Si(Qr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[Be]=r,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Ju(Qu[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),xt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=r.onScroll&&Ju("scroll",t),null!=r.onScrollEnd&&Ju("scrollend",t),null!=r.onClick&&(t.onclick=Ot),t=!0):t=!1,t||mi(e,!0)}function yi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function vi(e){if(e!==ci)return!1;if(!di)return yi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&ui&&mi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=jd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=jd(e)}else 27===n?(n=ui,Id(e.type)?(e=Ld,Ld=null,ui=e):ui=n):ui=ci?Rd(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,di=!1}function wi(){var e=hi;return null!==e&&(null===Dc?Dc=e:Dc.push.apply(Dc,e),hi=null),e}function Si(e){null===hi?hi=[e]:hi.push(e)}var ki=z(null),xi=null,Ti=null;function Ei(e,t,n){U(ki,t._currentValue),t._currentValue=n}function _i(e){e._currentValue=ki.current,V(ki)}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ii(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ii(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ni(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;$n(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ci(t,e,n,r),t.flags|=262144}function Ai(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){xi=e,Ti=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Oi(e){return Ri(xi,e)}function Pi(e,t){return null===xi&&Di(e),Ri(e,t)}function Ri(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ti){if(null===e)throw Error(o(308));Ti=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ti=Ti.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ji=r.unstable_scheduleCallback,Mi=r.unstable_NormalPriority,Fi={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Li,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&ji(Mi,function(){e.controller.abort()})}var Ui=null,Bi=0,Hi=0,qi=null;function Ki(){if(0===--Bi&&null!==Ui){null!==qi&&(qi.status="fulfilled");var e=Ui;Ui=null,Hi=0,qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=R.S;R.S=function(e,t){Rc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ui){var n=Ui=[];Bi=0,Hi=Hu(),qi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bi++,t.then(Ki,Ki)}(0,t),null!==Wi&&Wi(e,t)};var Gi=z(null);function Qi(){var e=Gi.current;return null!==e?e:mc.pooledCache}function Yi(e,t){U(Gi,null===t?Gi.current:t.pool)}function Xi(){var e=Qi();return null===e?null:{parent:Fi._currentValue,pool:e}}var Ji=Error(o(460)),$i=Error(o(474)),Zi=Error(o(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function na(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ot,Ot),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ot,Ot);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw ia=t,Ji}}function ra(e){try{return(0,e._init)(e._payload)}catch(al){if(null!==al&&"object"===typeof al&&"function"===typeof al.then)throw ia=al,Ji;throw al}}var ia=null;function aa(){if(null===ia)throw Error(o(459));var e=ia;return ia=null,e}function oa(e){if(e===Ji||e===Zi)throw Error(o(483))}var sa=null,la=0;function ca(e){var t=la;return la+=1,null===sa&&(sa=[]),na(sa,e,t)}function ua(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function da(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===_&&ra(a)===t.type)?(ua(t=i(t,n.props),n),t.return=e,t):(ua(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ua(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Wr(t,e.mode,n)).return=e,t;case _:return h(e,t=ra(t),n)}if(P(t)||A(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ca(t),n);if(t.$$typeof===S)return h(e,Pi(e,t),n);da(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case _:return f(e,t,n=ra(n),r)}if(P(n)||A(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ca(n),r);if(n.$$typeof===S)return f(e,t,Pi(e,n),r);da(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return p(e,t,n,r=ra(r),i)}if(P(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,ca(r),i);if(r.$$typeof===S)return p(e,t,n,Pi(t,r),i);da(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&ra(b)===c.type){n(l,c.sibling),ua(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ua(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Wr(u,l.mode,d)).return=l,l=d}return s(l);case _:return v(l,c,u=ra(u),d)}if(P(u))return function(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),di&&ii(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,m),c}for(d=r(d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,m),c}(l,c,u,d);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),di&&ii(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return di&&ii(i,g),u}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),di&&ii(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,ca(u),d);if(u.$$typeof===S)return v(l,c,Pi(l,u),d);da(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=qr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{la=0;var i=v(e,t,n,r);return sa=null,i}catch(al){if(al===Ji||al===Zi)throw al;var a=Fr(29,al,null,e.mode);return a.lanes=r,a.return=e,a}}}var fa=ha(!0),pa=ha(!1),ma=!1;function ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),Rr(e,null,n),t}return Dr(e,r,t,n),Lr(e)}function wa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function Sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ka=!1;function xa(){if(ka){if(null!==qi)throw qi}}function Ta(e,t,n,r){ka=!1;var i=e.updateQueue;ma=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(yc&h)===h:(r&h)===h){0!==h&&h===Hi&&(ka=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ma=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),Ec|=o,e.lanes=o,e.memoizedState=d}}function Ea(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function _a(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ea(n[e],t)}var Ia=z(null),Ca=z(0);function Na(e,t){U(Ca,e=xc),U(Ia,t),xc=e|t.baseLanes}function Aa(){U(Ca,xc),U(Ia,Ia.current)}function Da(){xc=Ca.current,V(Ia),V(Ca)}var Oa=z(null),Pa=null;function Ra(e){var t=e.alternate;U(za,1&za.current),U(Oa,e),null===Pa&&(null===t||null!==Ia.current||null!==t.memoizedState)&&(Pa=e)}function La(e){U(za,za.current),U(Oa,e),null===Pa&&(Pa=e)}function ja(e){22===e.tag?(U(za,za.current),U(Oa,e),null===Pa&&(Pa=e)):Ma()}function Ma(){U(za,za.current),U(Oa,Oa.current)}function Fa(e){V(Oa),Pa===e&&(Pa=null),V(za)}var za=z(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Od(n)||Pd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=0,Ba=null,Ha=null,qa=null,Ka=!1,Wa=!1,Ga=!1,Qa=0,Ya=0,Xa=null,Ja=0;function $a(){throw Error(o(321))}function Za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,a){return Ua=a,Ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?gs:ys,Ga=!1,a=n(r,i),Ga=!1,Wa&&(a=no(t,n,r,i)),to(e),a}function to(e){R.H=ms;var t=null!==Ha&&null!==Ha.next;if(Ua=0,qa=Ha=Ba=null,Ka=!1,Ya=0,Xa=null,t)throw Error(o(300));null===e||Ps||null!==(e=e.dependencies)&&Ai(e)&&(Ps=!0)}function no(e,t,n,r){Ba=e;var i=0;do{if(Wa&&(Xa=null),Ya=0,Wa=!1,25<=i)throw Error(o(301));if(i+=1,qa=Ha=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}R.H=vs,a=t(n,r)}while(Wa);return a}function ro(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(Ba.flags|=1024),t}function io(){var e=0!==Qa;return Qa=0,e}function ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ka=!1}Ua=0,qa=Ha=Ba=null,Wa=!1,Ya=Qa=0,Xa=null}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qa?Ba.memoizedState=qa=e:qa=qa.next=e,qa}function lo(){if(null===Ha){var e=Ba.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===qa?Ba.memoizedState:qa.next;if(null!==t)qa=t,Ha=e;else{if(null===e){if(null===Ba.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===qa?Ba.memoizedState=qa=e:qa=qa.next=e}return qa}function co(e){var t=Ya;return Ya+=1,null===Xa&&(Xa=[]),e=na(Xa,e,t),t=Ba,null===(null===qa?t.memoizedState:qa.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?gs:ys),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===S)return Oi(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return mo(lo(),Ha,e)}function mo(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(yc&h)===h:(Ua&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Ua&f)===f){u=u.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,Ba.lanes|=f,Ec|=f}h=u.action,Ga&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,Ba.lanes|=h,Ec|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!$n(a,e.memoizedState)&&(Ps=!0,d&&null!==(n=qi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function go(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);$n(a,t.memoizedState)||(Ps=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yo(e,t,n){var r=Ba,i=lo(),a=di;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!$n((Ha||i).memoizedState,n);if(s&&(i.memoizedState=n,Ps=!0),i=i.queue,Bo(wo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==qa&&1&qa.memoizedState.tag){if(r.flags|=2048,Mo(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),null===mc)throw Error(o(349));a||0!==(127&Ua)||vo(r,t,n)}return n}function vo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,So(t)&&ko(e)}function wo(e,t,n){return n(function(){So(t)&&ko(e)})}function So(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(r){return!0}}function ko(e){var t=Pr(e,2);null!==t&&Yc(t,e,2)}function xo(e){var t=so();if("function"===typeof e){var n=e;if(e=n(),Ga){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function To(e,t,n,r){return e.baseState=n,mo(e,Ha,"function"===typeof r?r:fo)}function Eo(e,t,n,r,i){if(hs(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==R.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,_o(t,a)):(a.next=n.next,t.pending=n.next=a)}}function _o(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=R.T,o={};R.T=o;try{var s=n(i,r),l=R.S;null!==l&&l(o,s),Io(e,t,s)}catch(c){No(e,t,c)}finally{null!==a&&null!==o.types&&(a.types=o.types),R.T=a}}else try{Io(e,t,a=n(i,r))}catch(u){No(e,t,u)}}function Io(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Co(e,t,n)},function(n){return No(e,t,n)}):Co(e,t,n)}function Co(e,t,n){t.status="fulfilled",t.value=n,Ao(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,_o(e,n)))}function No(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ao(t),t=t.next}while(t!==r)}e.action=null}function Ao(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Do(e,t){return t}function Oo(e,t){if(di){var n=mc.formState;if(null!==n){e:{var r=Ba;if(di){if(ui){t:{for(var i=ui,a=fi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Rd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ui=Rd(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=so()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},n.queue=r,n=cs.bind(null,Ba,r),r.dispatch=n,r=xo(!1),a=ds.bind(null,Ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=so()).queue=i,n=Eo.bind(null,Ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Po(e){return Ro(lo(),Ha,e)}function Ro(e,t,n){if(t=mo(e,t,Do)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=co(t)}catch(al){if(al===Ji)throw Zi;throw al}else r=t;var i=(t=lo()).queue,a=i.dispatch;return n!==t.memoizedState&&(Ba.flags|=2048,Mo(9,{destroy:void 0},Lo.bind(null,i,n),null)),[r,a,e]}function Lo(e,t){e.action=t}function jo(e){var t=lo(),n=Ha;if(null!==n)return Ro(t,n,e);lo(),t=t.memoizedState;var r=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Mo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return lo().memoizedState}function zo(e,t,n,r){var i=so();Ba.flags|=e,i.memoizedState=Mo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Vo(e,t,n,r){var i=lo();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ha&&null!==r&&Za(r,Ha.memoizedState.deps)?i.memoizedState=Mo(t,a,n,r):(Ba.flags|=e,i.memoizedState=Mo(1|t,a,n,r))}function Uo(e,t){zo(8390656,8,e,t)}function Bo(e,t){Vo(2048,8,e,t)}function Ho(e){var t=lo().memoizedState;return function(e){Ba.flags|=4;var t=Ba.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ba.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function qo(e,t){return Vo(4,2,e,t)}function Ko(e,t){return Vo(4,4,e,t)}function Wo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Wo.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Za(t,r[1]))return r[0];if(r=e(),Ga){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Jo(e,t,n){return void 0===n||0!==(1073741824&Ua)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),Ba.lanes|=e,Ec|=e,n)}function $o(e,t,n,r){return $n(n,t)?n:null!==Ia.current?(e=Jo(e,n,r),$n(e,t)||(Ps=!0),e):0===(42&Ua)||0!==(1073741824&Ua)&&0===(261930&yc)?(Ps=!0,e.memoizedState=n):(e=Qc(),Ba.lanes|=e,Ec|=e,t)}function Zo(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var o=R.T,s={};R.T=s,ds(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else us(e,t,r,Gc())}catch(u){us(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{L.p=a,null!==o&&null!==s.types&&(o.types=s.types),R.T=o}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=ns(e).queue;Zo(e,i,t,j,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},Gc())}function is(){return Oi(dh)}function as(){return lo().memoizedState}function os(){return lo().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=ba(t,e=va(n),n);return null!==r&&(Yc(r,t,n),wa(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?fs(t,n):null!==(n=Or(e,t,n,r))&&(Yc(n,e,r),ps(n,t,r))}function cs(e,t,n){us(e,t,n,Gc())}function us(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))fs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,$n(s,o))return Dr(e,t,i,0),null===mc&&Ar(),!1}catch(l){}if(null!==(n=Or(e,t,i,r)))return Yc(n,e,r),ps(n,t,r),!0}return!1}function ds(e,t,n,r){if(r={lane:2,revertLane:Hu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(o(479))}else null!==(t=Or(e,n,r,2))&&Yc(t,e,2)}function hs(e){var t=e.alternate;return e===Ba||null!==t&&t===Ba}function fs(e,t){Wa=Ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ps(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var ms={readContext:Oi,use:uo,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useLayoutEffect:$a,useInsertionEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useSyncExternalStore:$a,useId:$a,useHostTransitionStatus:$a,useFormState:$a,useActionState:$a,useOptimistic:$a,useMemoCache:$a,useCacheRefresh:$a};ms.useEffectEvent=$a;var gs={readContext:Oi,use:uo,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:Oi,useEffect:Uo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){zo(4,2,e,t)},useMemo:function(e,t){var n=so();t=void 0===t?null:t;var r=e();if(Ga){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=so();if(void 0!==n){var i=n(t);if(Ga){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ls.bind(null,Ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},so().memoizedState=e},useState:function(e){var t=(e=xo(e)).queue,n=cs.bind(null,Ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qo,useDeferredValue:function(e,t){return Jo(so(),e,t)},useTransition:function(){var e=xo(!1);return e=Zo.bind(null,Ba,e.queue,!0,!1),so().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ba,i=so();if(di){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===mc)throw Error(o(349));0!==(127&yc)||vo(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Uo(wo.bind(null,r,a,e),[e]),r.flags|=2048,Mo(9,{destroy:void 0},bo.bind(null,r,a,n,t),null),n},useId:function(){var e=so(),t=mc.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-we(ni)-1)).toString(32)+n),0<(n=Qa++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ja++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:is,useFormState:Oo,useActionState:Oo,useOptimistic:function(e){var t=so();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return so().memoizedState=ss.bind(null,Ba)},useEffectEvent:function(e){var t=so(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ys={readContext:Oi,use:uo,useCallback:Yo,useContext:Oi,useEffect:Bo,useImperativeHandle:Go,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Xo,useReducer:po,useRef:Fo,useState:function(){return po(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){return $o(lo(),Ha.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:as,useHostTransitionStatus:is,useFormState:Po,useActionState:Po,useOptimistic:function(e,t){return To(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:os};ys.useEffectEvent=Ho;var vs={readContext:Oi,use:uo,useCallback:Yo,useContext:Oi,useEffect:Bo,useImperativeHandle:Go,useInsertionEffect:qo,useLayoutEffect:Ko,useMemo:Xo,useReducer:go,useRef:Fo,useState:function(){return go(fo)},useDebugValue:Qo,useDeferredValue:function(e,t){var n=lo();return null===Ha?Jo(n,e,t):$o(n,Ha.memoizedState,e,t)},useTransition:function(){var e=go(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:as,useHostTransitionStatus:is,useFormState:jo,useActionState:jo,useOptimistic:function(e,t){var n=lo();return null!==Ha?To(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:os};function bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vs.useEffectEvent=Ho;var ws={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=va(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ba(e,i,r))&&(Yc(t,e,r),wa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=va(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ba(e,i,r))&&(Yc(t,e,r),wa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=va(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ba(e,r,n))&&(Yc(t,e,n),wa(t,e,n))}};function Ss(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,a))}function ks(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function xs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Ts(e){_r(e)}function Es(e){console.error(e)}function _s(e){_r(e)}function Is(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Cs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ns(e,t,n){return(n=va(n)).tag=3,n.payload={element:null},n.callback=function(){Is(e,t)},n}function As(e){return(e=va(e)).tag=3,e}function Ds(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Cs(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Cs(t,n,r),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Os=Error(o(461)),Ps=!1;function Rs(e,t,n,r){t.child=null===e?pa(t,null,n,r):fa(t,e.child,n,r)}function Ls(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Di(t),r=eo(e,t,n,o,a,i),s=io(),null===e||Ps?(di&&s&&oi(t),t.flags|=1,Rs(e,t,r,i),t.child):(ao(e,t,i),il(e,t,i))}function js(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||zr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ms(e,t,a,r,i))}if(a=e.child,!ol(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Vr(a,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Ps=!1,t.pendingProps=r=a,!ol(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ps=!0)}}return qs(e,t,n,r,i)}function Fs(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Vs(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Vs(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==a?a.cachePool:null),null!==a?Na(t,a):Aa(),ja(t)}else null!==a?(Yi(0,a.cachePool),Na(t,a),Ma(),t.memoizedState=null):(null!==e&&Yi(0,null),Aa(),Ma());return Rs(e,t,i,n),t.child}function zs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vs(e,t,n,r,i){var a=Qi();return a=null===a?null:{parent:Fi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Yi(0,null),Aa(),ja(t),null!==e&&Ni(e,t,r,!0),t.childLanes=i,null}function Us(e,t){return(t=Zs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bs(e,t,n){return fa(t,e.child,null,n),(e=Us(t,t.pendingProps)).flags|=2,Fa(t),t.memoizedState=null,e}function Hs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qs(e,t,n,r,i){return Di(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||Ps?(di&&r&&oi(t),t.flags|=1,Rs(e,t,n,i),t.child):(ao(e,t,i),il(e,t,i))}function Ks(e,t,n,r,i,a){return Di(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||Ps?(di&&r&&oi(t),t.flags|=1,Rs(e,t,n,a),t.child):(ao(e,t,a),il(e,t,a))}function Ws(e,t,n,r,i){if(Di(t),null===t.stateNode){var a=jr,o=n.contextType;"object"===typeof o&&null!==o&&(a=Oi(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=ws,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ga(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Oi(o):jr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(bs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&ws.enqueueReplaceState(a,a.state,null),Ta(t,r,a,i),xa(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=xs(n,s);a.props=l;var c=a.context,u=n.contextType;o=jr,"object"===typeof u&&null!==u&&(o=Oi(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&ks(t,a,r,o),ma=!1;var h=t.memoizedState;a.state=h,Ta(t,r,a,i),xa(),c=t.memoizedState,s||h!==c||ma?("function"===typeof d&&(bs(t,n,d,r),c=t.memoizedState),(l=ma||Ss(t,n,l,r,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ya(e,t),u=xs(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=jr,"object"===typeof c&&null!==c&&(l=Oi(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ks(t,a,r,l),ma=!1,h=t.memoizedState,a.state=h,Ta(t,r,a,i),xa();var f=t.memoizedState;o!==d||h!==f||ma||null!==e&&null!==e.dependencies&&Ai(e.dependencies)?("function"===typeof s&&(bs(t,n,s,r),f=t.memoizedState),(u=ma||Ss(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ai(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Hs(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=fa(t,e.child,null,i),t.child=fa(t,null,n,i)):Rs(e,t,n,i),t.memoizedState=a.state,e=t.child):e=il(e,t,i),e}function Gs(e,t,n,r){return bi(),t.flags|=256,Rs(e,t,n,r),t.child}var Qs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ys(e){return{baseLanes:e,cachePool:Xi()}}function Xs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function Js(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&za.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(a?Ra(t):Ma(),(e=ui)?null!==(e=null!==(e=Dd(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return Pd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Ma(),l=Zs({mode:"hidden",children:l},a=t.mode),i=Hr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Ys(n),i.childLanes=Xs(e,r,n),t.memoizedState=Qs,zs(null,i)):(Ra(t),$s(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Ra(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Ma(),t.child=e.child,t.flags|=128,t=null):(Ma(),l=i.fallback,a=t.mode,i=Zs({mode:"visible",children:i.children},a),(l=Hr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fa(t,e.child,null,n),(i=t.child).memoizedState=Ys(n),i.childLanes=Xs(e,r,n),t.memoizedState=Qs,t=zs(null,i));else if(Ra(t),Pd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,Si({value:i,source:null,stack:null}),t=el(e,t,n)}else if(Ps||Ni(e,t,n,!1),r=0!==(n&e.childLanes),Ps||r){if(null!==(r=mc)&&(0!==(i=Le(r,n))&&i!==c.retryLane))throw c.retryLane=i,Pr(e,i),Yc(r,e,i),Os;Od(l)||su(),t=el(e,t,n)}else Od(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Rd(l.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=$s(t,i.children)).flags|=4096);return t}return a?(Ma(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Vr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Vr(u,l):(l=Hr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,zs(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Ys(n):(null!==(a=l.cachePool)?(c=Fi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Xi(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=Xs(e,r,n),t.memoizedState=Qs,zs(e.child,i)):(Ra(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function $s(e,t){return(t=Zs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zs(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function el(e,t,n){return fa(t,e.child,null,n),(e=$s(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function nl(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=za.current,s=0!==(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,U(za,o),Rs(e,t,r,n),r=di?$r:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,a,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ni(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ai(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ps=!0;else{if(!ol(e,n)&&0===(128&t.flags))return Ps=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ei(0,Fi,e.memoizedState.cache),bi();break;case 27:case 5:X(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ei(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,La(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ra(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Js(e,t,n):(Ra(t),null!==(e=il(e,t,n))?e.sibling:null);Ra(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ni(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(za,za.current),r)break;return null;case 22:return t.lanes=0,Fs(e,t,n,t.pendingProps);case 24:Ei(0,Fi,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Ps=0!==(131072&e.flags)}else Ps=!1,di&&0!==(1048576&t.flags)&&ai(t,$r,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ra(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===k){t.tag=11,t=Ls(null,t,e,r,n);break e}if(i===E){t.tag=14,t=js(null,t,e,r,n);break e}}throw t=O(e)||e,Error(o(306,t,""))}zr(e)?(r=xs(e,r),t.tag=1,t=Ws(null,t,e,r,n)):(t.tag=0,t=qs(null,t,e,r,n))}return t;case 0:return qs(e,t,t.type,t.pendingProps,n);case 1:return Ws(e,t,r=t.type,i=xs(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ya(e,t),Ta(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ei(0,Fi,r),r!==a.cache&&Ci(t,[Fi],n,!0),xa(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Gs(e,t,r,n);break e}if(r!==i){Si(i=Qr(Error(o(424)),t)),t=Gs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Rd(e.firstChild),ci=t,di=!0,hi=null,fi=!0,n=pa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=il(e,t,n);break e}Rs(e,t,r,n)}t=t.child}return t;case 26:return Hs(e,t),null===e?(n=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=yd(W.current).createElement(n))[Ue]=t,r[Be]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&di&&(r=t.stateNode=Fd(t.type,t.pendingProps,W.current),ci=t,fi=!0,i=ui,Id(t.type)?(Ld=i,ui=Rd(r.firstChild)):ui=i),Rs(e,t,t.pendingProps.children,n),Hs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Rd(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),X(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,wd(i,a)?r=null:null!==s&&wd(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),dh._currentValue=i),Hs(e,t),Rs(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||mi(t)),null;case 13:return Js(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fa(t,null,r,n):Rs(e,t,r,n),t.child;case 11:return Ls(e,t,t.type,t.pendingProps,n);case 7:return Rs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Rs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ei(0,t.type,r.value),Rs(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Di(t),r=r(i=Oi(i)),t.flags|=1,Rs(e,t,r,n),t.child;case 14:return js(e,t,t.type,t.pendingProps,n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Us(t,r),t.lanes=536870912,zs(null,e);if(La(t),(e=ui)?null!==(e=null!==(e=Dd(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return Us(t,r)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(La(t),i)if(256&t.flags)t.flags&=-257,t=Bs(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(Ps||Ni(e,t,n,!1),i=0!==(n&e.childLanes),Ps||i){if(null!==(r=mc)&&0!==(s=Le(r,n))&&s!==a.retryLane)throw a.retryLane=s,Pr(e,s),Yc(r,e,s),Os;su(),t=Bs(e,t,n)}else e=a.treeContext,ui=Rd(s.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Us(t,r)).flags|=4096;return t}return(e=Vr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Fs(e,t,n,t.pendingProps);case 24:return Di(t),r=Oi(Fi),null===e?(null===(i=Qi())&&(i=mc,a=zi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ga(t),Ei(0,Fi,i)):(0!==(e.lanes&n)&&(ya(e,t),Ta(t,null,null,n),xa()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ei(0,Fi,r)):(r=a.cache,Ei(0,Fi,r),r!==i.cache&&Ci(t,[Fi],n,!0))),Rs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ia=ea,$i;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!iu())throw ia=ea,$i;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Nc|=t)}function hl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(si(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_i(Fi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wi())),fl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(ll(t),null!==a?(fl(t),ul(t,a)):(fl(t),cl(t,i,0,0,n))):a?a!==e.memoizedState?(ll(t),fl(t),ul(t,a)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if(J(t),n=W.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return fl(t),null}e=q.current,vi(t)?gi(t):(e=Fd(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return fl(t),null}if(a=q.current,vi(t))gi(t);else{var s=yd(W.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Ue]=t,a[Be]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(fd(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=W.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||mi(t,!0)}else(e=yd(e).createTextNode(r))[Ue]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[Ue]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fa(t),t):(Fa(t),null);if(0!==(128&t.flags))throw Error(o(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Ue]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Fa(t),t):(Fa(t),null)}return Fa(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return Y(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return _i(t.type),fl(t),null;case 19:if(V(za),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)hl(r,!1);else{if(0!==Tc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Va(e))){for(t.flags|=128,hl(r,!1),e=a.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return U(za,1&za.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Lc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Va(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!di)return fl(t),null}else 2*le()-r.renderingStartTime>Lc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=za.current,U(za,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Fa(t),Da(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_i(Fi),fl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ml(e,t){switch(si(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _i(Fi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(Fa(t),null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fa(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(za),null;case 4:return Y(),null;case 10:return _i(t.type),null;case 22:case 23:return Fa(t),Da(),null!==e&&V(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _i(Fi),null;default:return null}}function gl(e,t){switch(si(t),t.tag){case 3:_i(Fi),Y();break;case 26:case 27:case 5:J(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Fa(t);break;case 13:Fa(t);break;case 19:V(za);break;case 10:_i(t.type);break;case 22:case 23:Fa(t),Da(),null!==e&&V(Gi);break;case 24:_i(Fi)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){Tu(t,t.return,s)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){Tu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){Tu(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{_a(t,n)}catch(r){Tu(e,e.return,r)}}}function wl(e,t,n){n.props=xs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Tu(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Tu(e,t,i)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Tu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Tu(e,t,a)}else n.current=null}function xl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Tu(e,e.return,i)}}function Tl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void vt(e,s,l,c,u,d,a,i);case"select":for(a in p=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||dd(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&dd(e,t,i,a,r,c)}return t=l,n=s,r=p,void(null!=f?St(e,!!n,f,!1):!!r!==!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&dd(e,t,s,i,r,a)}return void kt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(Ct(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&dd(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(i){Tu(e,e.return,i)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Id(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Id(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ot));else if(4!==r&&(27===r&&Id(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Il(e,t,n),e=e.sibling;null!==e;)Il(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Id(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,r,n),t[Ue]=e,t[Be]=n}catch(a){Tu(e,e.return,a)}}var Al=!1,Dl=!1,Ol=!1,Pl="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Ll(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&yl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){Tu(n,n.return,o)}else{var i=xs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Tu(n,n.return,s)}}64&r&&bl(n),512&r&&Sl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{_a(e,t)}catch(o){Tu(n,n.return,o)}}break;case 27:null===t&&4&r&&Nl(n);case 26:case 5:Yl(e,n),null===t&&4&r&&xl(n),512&r&&Sl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Ul(e,n);break;case 13:Yl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Cu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Dl,i=Al;var a=Dl;Al=r,(Dl=t)&&!a?Jl(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Al=i,Dl=a}break;case 30:break;default:Yl(e,n)}}function jl(e){var t=e.alternate;null!==t&&(e.alternate=null,jl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Fl=!1;function zl(e,t,n){for(n=n.child;null!==n;)Vl(e,t,n),n=n.sibling}function Vl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:Dl||kl(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Dl||kl(n,t);var r=Ml,i=Fl;Id(n.type)&&(Ml=n.stateNode,Fl=!1),zl(e,t,n),zd(n.stateNode),Ml=r,Fl=i;break;case 5:Dl||kl(n,t);case 6:if(r=Ml,i=Fl,Ml=null,zl(e,t,n),Fl=i,null!==(Ml=r))if(Fl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(o){Tu(n,t,o)}else try{Ml.removeChild(n.stateNode)}catch(o){Tu(n,t,o)}break;case 18:null!==Ml&&(Fl?(Cd(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Kh(e)):Cd(Ml,n.stateNode));break;case 4:r=Ml,i=Fl,Ml=n.stateNode.containerInfo,Fl=!0,zl(e,t,n),Ml=r,Fl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Dl||vl(4,n,t),zl(e,t,n);break;case 1:Dl||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Dl=(r=Dl)||null!==n.memoizedState,zl(e,t,n),Dl=r;break;default:zl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Kh(e)}catch(n){Tu(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Kh(e)}catch(n){Tu(t,t.return,n)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Nu.bind(null,e,t);t.then(r,r)}})}function ql(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Id(l.type)){Ml=l.stateNode,Fl=!1;break e}break;case 5:Ml=l.stateNode,Fl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ml)throw Error(o(160));Vl(a,s,i),Ml=null,Fl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var Kl=null;function Wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ql(t,e),Gl(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:ql(t,e),Gl(e),512&r&&(Dl||null===n||kl(n,n.return)),64&r&&Al&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Kl;if(ql(t,e),Gl(e),512&r&&(Dl||null===n||kl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Qe]||a[Ue]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),fd(a,r,n),a[Ue]=e,et(a),r=a;break e;case"link":var s=rh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}fd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}fd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Ue]=e,et(a),r=a}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=$d(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?ih(i,e.type,e.stateNode):$d(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Tl(e,e.memoizedProps,n.memoizedProps)}break;case 27:ql(t,e),Gl(e),512&r&&(Dl||null===n||kl(n,n.return)),null!==n&&4&r&&Tl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ql(t,e),Gl(e),512&r&&(Dl||null===n||kl(n,n.return)),32&e.flags){i=e.stateNode;try{Tt(i,"")}catch(m){Tu(e,e.return,m)}}4&r&&null!=e.stateNode&&Tl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Ol=!0);break;case 6:if(ql(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Tu(e,e.return,m)}}break;case 3:if(nh=null,i=Kl,Kl=Bd(t.containerInfo),ql(t,e),Kl=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kh(t.containerInfo)}catch(m){Tu(e,e.return,m)}Ol&&(Ol=!1,Ql(e));break;case 4:r=Kl,Kl=Bd(e.stateNode.containerInfo),ql(t,e),Gl(e),Kl=r;break;case 12:default:ql(t,e),Gl(e);break;case 31:case 19:ql(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 13:ql(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Pc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,d=Dl;if(Al=u||i,Dl=d||c,ql(t,e),Dl=d,Al=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Al||Dl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Tu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Tu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Nd(p,!0):Nd(c.stateNode,!1)}catch(m){Tu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Cl(e,_l(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Tt(a,""),n.flags&=-33),Cl(e,_l(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Il(e,_l(e),s);break;default:throw Error(o(161))}}catch(l){Tu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Xl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Xl(t);break;case 27:zd(t.stateNode);case 26:case 5:kl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Jl(i,a,n),yl(4,a);break;case 1:if(Jl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Tu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ea(l[i],s)}catch(c){Tu(r,r.return,c)}}n&&64&o&&bl(a),Sl(a,a.return);break;case 27:Nl(a);case 26:case 5:Jl(i,a,n),n&&null===r&&4&o&&xl(a),Sl(a,a.return);break;case 12:Jl(i,a,n);break;case 31:Jl(i,a,n),n&&4&o&&Ul(i,a);break;case 13:Jl(i,a,n),n&&4&o&&Bl(i,a);break;case 22:null===a.memoizedState&&Jl(i,a,n),Sl(a,a.return);break;case 30:break;default:Jl(i,a,n)}t=t.sibling}}function $l(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Tu(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?ec(e,t,n,r):rc(e,t):2&a._visibility?ec(e,t,n,r):(a._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&$l(o,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:nc(a,o,s,l,i),yl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?nc(a,o,s,l,i):rc(a,o):(u._visibility|=2,nc(a,o,s,l,i)),i&&2048&c&&$l(o.alternate,o);break;case 24:nc(a,o,s,l,i),i&&2048&c&&Zl(o.alternate,o);break;default:nc(a,o,s,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&$l(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function ac(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gd(r.href),a=t.querySelector(Qd(i));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Yd(r),(i=Vd.get(i))&&eh(r,i),et(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Kl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Kl;Kl=Bd(e.stateNode.containerInfo),ac(e,t,n),Kl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,ac(e,t,n),ic=r):ac(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,a=r.return;if(jl(r),r===n){Rl=null;break e}if(null!==i){i.return=a,Rl=i;break e}Rl=a}}}var hc={getCacheForType:function(e){var t=Oi(Fi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Oi(Fi).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,yc=0,vc=0,bc=null,wc=!1,Sc=!1,kc=!1,xc=0,Tc=0,Ec=0,_c=0,Ic=0,Cc=0,Nc=0,Ac=null,Dc=null,Oc=!1,Pc=0,Rc=0,Lc=1/0,jc=null,Mc=null,Fc=0,zc=null,Vc=null,Uc=0,Bc=0,Hc=null,qc=null,Kc=0,Wc=null;function Gc(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==R.T?Hu():Fe()}function Qc(){if(0===Cc)if(0===(536870912&yc)||di){var e=Te;0===(3932160&(Te<<=1))&&(Te=262144),Cc=e}else Cc=536870912;return null!==(e=Oa.current)&&(e.flags|=32),Cc}function Yc(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Cc,!1)),Oe(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(_c|=n),4===Tc&&Zc(e,yc,Cc,!1)),ju(e))}function Xc(e,t,n){if(0!==(6&pc))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=au(),i=ou();mc!==e||yc!==t?(jc=null,Lc=le()+500,nu(e,t)):Sc=Ce(e,t);e:for(;;)try{if(0!==vc&&null!==gc){t=gc;var a=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,a,1);break;case 2:case 9:if(ta(a)){vc=0,bc=null,hu(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),ju(e)},a.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ta(a)?(vc=0,bc=null,hu(t)):(vc=0,bc=null,fu(e,t,a,7));break;case 5:var s=null;switch(gc.tag){case 26:s=gc.memoizedState;case 5:case 27:var l=gc;if(s?ah(s):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}vc=0,bc=null,fu(e,t,a,5);break;case 6:vc=0,bc=null,fu(e,t,a,6);break;case 8:tu(),Tc=6;break e;default:throw Error(o(462))}}uu();break}catch(d){ru(e,d)}return Ti=xi=null,R.H=r,R.A=i,pc=n,null!==gc?0:(mc=null,yc=0,Ar(),Tc)}(e,t):lu(e,t,!0),a=r;;){if(0===i){Sc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!a||$c(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,s).flags|=256),2!==(s=lu(l,s,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=a,_c|=a,i=4;break e}a=Dc,Dc=i,null!==a&&(null===Dc?Dc=a:Dc.push.apply(Dc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Cc,!wc);break e;case 2:Dc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Pc+300-le())){if(Zc(r,t,Cc,!wc),0!==Ie(r,0,!0))break e;Uc=t,r.timeoutHandle=kd(Jc.bind(null,r,n,Dc,jc,Oc,t,Cc,_c,Nc,wc,a,"Throttled",-0,0),i)}else Jc(r,n,Dc,jc,Oc,t,Cc,_c,Nc,wc,a,null,-0,0)}break}i=lu(e,t,!1),a=!1}ju(e)}function Jc(e,t,n,r,i,a,o,s,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){oc(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ot});var p=(62914560&a)===a?Pc-le():(4194048&a)===a?Rc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&pd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(a+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p),null!==p)return Uc=a,e.cancelPendingCommit=p(gu.bind(null,e,t,a,n,r,i,o,s,l,u,d,null,h,f)),void Zc(e,a,o,!c)}gu(e,t,a,n,r,i,o,s,l)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!$n(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Ic,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-we(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Pe(e,n,t)}function eu(){return 0!==(6&pc)||(Mu(0,!1),!1)}function tu(){if(null!==gc){if(0===vc)var e=gc.return;else Ti=xi=null,oo(e=gc),sa=null,la=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,tu(),mc=e,gc=n=Vr(e.current,null),yc=t,vc=0,bc=null,wc=!1,Sc=Ce(e,t),kc=!1,Nc=Cc=Ic=_c=Ec=Tc=0,Dc=Ac=null,Oc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),a=1<<i;t|=e[i],r&=~a}return xc=t,Ar(),n}function ru(e,t){Ba=null,R.H=ms,t===Ji||t===Zi?(t=aa(),vc=3):t===$i?(t=aa(),vc=4):vc=t===Os?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Tc=1,Is(e,Qr(t,e.current)))}function iu(){var e=Oa.current;return null===e||((4194048&yc)===yc?null===Pa:((62914560&yc)===yc||0!==(536870912&yc))&&e===Pa)}function au(){var e=R.H;return R.H=ms,null===e?ms:e}function ou(){var e=R.A;return R.A=hc,e}function su(){Tc=4,wc||(4194048&yc)!==yc&&null!==Oa.current||(Sc=!0),0===(134217727&Ec)&&0===(134217727&_c)||null===mc||Zc(mc,yc,Cc,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=au(),a=ou();mc===e&&yc===t||(jc=null,nu(e,t)),t=!1;var o=Tc;e:for(;;)try{if(0!==vc&&null!==gc){var s=gc,l=bc;switch(vc){case 8:tu(),o=6;break e;case 3:case 2:case 9:case 6:null===Oa.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,s,l,c),n&&Sc){o=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,s,l,c)}}cu(),o=Tc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ti=xi=null,pc=r,R.H=i,R.A=a,null===gc&&(mc=null,yc=0,Ar()),o}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!oe();)du(gc)}function du(e){var t=sl(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ks(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Ks(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:oo(t);default:gl(n,t),t=sl(n,t=gc=Ur(t,xc),xc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){Ti=xi=null,oo(t),sa=null,la=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ni(t,n,i,!0),null!==(n=Oa.current)){switch(n.tag){case 31:case 13:return null===Pa?su():null===n.alternate&&0===Tc&&(Tc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,i)),!1;case 22:return n.flags|=65536,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,i)),!1}throw Error(o(435,n.tag))}return Eu(e,r,i),su(),!1}if(di)return null!==(t=Oa.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&Si(Qr(e=Error(o(422),{cause:r}),n))):(r!==pi&&Si(Qr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Qr(r,n),Sa(e,i=Ns(e.stateNode,r,i)),4!==Tc&&(Tc=2)),!1;var a=Error(o(520),{cause:r});if(a=Qr(a,n),null===Ac?Ac=[a]:Ac.push(a),4!==Tc&&(Tc=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Sa(n,e=Ns(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Mc||!Mc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Ds(i=As(i),e,n,r),Sa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yc))return Tc=1,Is(e,Qr(n,e.current)),void(gc=null)}catch(a){if(null!==i)throw gc=i,a;return Tc=1,Is(e,Qr(n,e.current)),void(gc=null)}32768&t.flags?(di||1===r?e=!0:Sc||0!==(536870912&yc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Oa.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=pl(t.alternate,t,xc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Tc&&(Tc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Tc=6,gc=null}function gu(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{Su()}while(0!==Fc);if(0!==(6&pc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-we(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Pe(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Nr,s,l,c),e===mc&&(gc=mc=null,yc=0),Vc=t,zc=e,Uc=n,Bc=a,Hc=i,qc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,i=L.p,L.p=2,s=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=wh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wh=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(a=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=xs(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Tu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{pc=s,L.p=i,R.T=r}}Fc=1,yu(),vu(),bu()}}function yu(){if(1===Fc){Fc=0;var e=zc,t=Vc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Wl(t,e);var a=gd,o=rr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&ir(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=tr(s,m),v=tr(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!md,gd=md=null}finally{pc=i,L.p=r,R.T=n}}e.current=t,Fc=2}}function vu(){if(2===Fc){Fc=0;var e=zc,t=Vc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=L.p;L.p=2;var i=pc;pc|=4;try{Ll(e,t.alternate,t)}finally{pc=i,L.p=r,R.T=n}}Fc=3}}function bu(){if(4===Fc||3===Fc){Fc=0,se();var e=zc,t=Vc,n=Uc,r=qc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Vc=zc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Me(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,i=L.p,L.p=2,R.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{R.T=t,L.p=i}}0!==(3&Uc)&&Su(),ju(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Wc?Kc++:(Kc=0,Wc=e):Kc=0,Mu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function Su(){return yu(),vu(),bu(),ku()}function ku(){if(5!==Fc)return!1;var e=zc,t=Bc;Bc=0;var n=Me(Uc),r=R.T,i=L.p;try{L.p=32>n?32:n,R.T=null,n=Hc,Hc=null;var a=zc,s=Uc;if(Fc=0,Vc=zc=null,Uc=0,0!==(6&pc))throw Error(o(331));var l=pc;if(pc|=4,cc(a.current),tc(a,a.current,s,n),pc=l,Mu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,a)}catch(c){}return!0}finally{L.p=i,R.T=r,wu(e,t)}}function xu(e,t,n){t=Qr(n,t),null!==(e=ba(e,t=Ns(e.stateNode,t,2),2))&&(Oe(e,2),ju(e))}function Tu(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Qr(n,e),null!==(r=ba(t,n=As(2),2))&&(Ds(n,r,t,e),Oe(r,2),ju(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(kc=!0,i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===Tc||3===Tc&&(62914560&yc)===yc&&300>le()-Pc?0===(2&pc)&&nu(e,0):Ic|=n,Nc===yc&&(Nc=0)),ju(e)}function Iu(e,t){0===t&&(t=Ae()),null!==(e=Pr(e,t))&&(Oe(e,t),ju(e))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Iu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Iu(e,n)}var Au=null,Du=null,Ou=!1,Pu=!1,Ru=!1,Lu=0;function ju(e){e!==Du&&null===e.next&&(null===Du?Au=Du=e:Du=Du.next=e),Pu=!0,Ou||(Ou=!0,Ed(function(){0!==(6&pc)?ie(ue,Fu):zu()}))}function Mu(e,t){if(!Ru&&Pu){Ru=!0;do{for(var n=!1,r=Au;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-we(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Bu(r,a))}else a=yc,0===(3&(a=Ie(r,r===mc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ce(r,a)||(n=!0,Bu(r,a));r=r.next}}while(n);Ru=!1}}function Fu(){zu()}function zu(){Pu=Ou=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Sd&&(Sd=e,!0);return Sd=null,!1}()&&(e=Lu);for(var t=le(),n=null,r=Au;null!==r;){var i=r.next,a=Vu(r,t);0===a?(r.next=null,null===n?Au=i:n.next=i,null===i&&(Du=n)):(n=r,(0!==e||0!==(3&a))&&(Pu=!0)),r=i}0!==Fc&&5!==Fc||Mu(e,!1),0!==Lu&&(Lu=0)}function Vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-we(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Ne(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=yc,n=Ie(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Uu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Ie(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),Vu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function Bu(e,t){if(Su())return null;Xc(e,t,!0)}function Hu(){if(0===Lu){var e=Hi;0===e&&(e=xe,0===(261888&(xe<<=1))&&(xe=256)),Lu=e}return Lu}function qu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Ku(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<Tr.length;Wu++){var Gu=Tr[Wu];Er(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}Er(gr,"onAnimationEnd"),Er(yr,"onAnimationIteration"),Er(vr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(br,"onTransitionRun"),Er(wr,"onTransitionStart"),Er(Sr,"onTransitionCancel"),Er(kr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Xu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){_r(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){_r(u)}i.currentTarget=null,a=l}}}}function Ju(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function $u(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||$u(t,!1,e),$u(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,$u("selectionchange",!1,t))}}function td(e,t,n,r){switch(Ih(t)){case 2:var i=Sh;break;case 8:i=kh;break;default:i=xh}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Xe(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}zt(function(){var r=a,i=Rt(n),o=[];e:{var s=xr.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case yr:case vr:c=un;break;case kr:c=Sn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=xn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Vt(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Xe(u)&&!u[He])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Xe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:$e(c),p=null==u?s:$e(u),(s=new d(g,m+"leave",c,n,i)).target=h,s.relatedTarget=p,g=null,Xe(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&od(o,s,c,d,!1),null!==u&&null!==h&&od(o,h,u,d,!0)}if("select"===(c=(s=r?$e(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Un;else if(Ln(s))if(Bn)v=Jn;else{v=Yn;var b=Qn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Ct(r.elementType)&&(v=Un):v=Xn;switch(v&&(v=v(e,r))?jn(o,v,n,i):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&wt(s,"number",s.value)),b=r?$e(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(or=b,sr=r,lr=null);break;case"focusout":lr=sr=or=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(o,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":ur(o,n,i)}var w;if(En)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Pn?Dn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(Cn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Pn&&(w=Gt()):(Kt="value"in(qt=i)?qt.value:qt.textContent,Pn=!0)),0<(b=id(r,S)).length&&(S=new hn(S,e,null,n,i),o.push({event:S,listeners:b}),w?S.data=w:null!==(w=On(n))&&(S.data=w))),(w=In?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(An=!0,Nn);case"textInput":return(e=t.data)===Nn&&An?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!En&&Dn(e,t)?(e=Gt(),Wt=Kt=qt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=id(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:S}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=qu((i[Be]||null).action),o=r.submitter;o&&null!==(t=(t=o[Be]||null)?qu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new nn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lu){var e=o?Ku(i,o):new FormData(i);ts(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Ku(i,o):new FormData(i),ts(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Xu(o,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Vt(e,n))&&r.unshift(rd(e,i,a)),null!=(i=Vt(e,t))&&r.push(rd(e,i,a))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Vt(n,a))&&o.unshift(rd(n,c,l)):i||null!=(c=Vt(n,a))&&o.push(rd(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var sd=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Tt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Tt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":It(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Dt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Nt.get(n)||n,r)}}function hd(e,t,n,r,i,a){switch(n){case"style":It(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Tt(e,r):("number"===typeof r||"bigint"===typeof r)&&Tt(e,""+r);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ot);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Be]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:dd(e,t,r,s,n,null)}}return a&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:dd(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,s,a,!1);case"select":for(a in Ju("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:dd(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?St(e,!!i,t,!1):null!=n&&St(e,!!i,n,!0));case"textarea":for(s in Ju("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:dd(e,t,s,l,n,null)}return void xt(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)Ju(Qu[i],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:dd(e,t,u,i,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,xd="function"===typeof clearTimeout?clearTimeout:void 0,Td="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Td?function(e){return Td.resolve(null).then(e).catch(_d)}:kd;function _d(e){setTimeout(function(){throw e})}function Id(e){return"head"===e}function Cd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Kh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Qe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}else"body"===n&&zd(e.ownerDocument.body);n=i}while(n);Kh(t)}function Nd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Dd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function Od(e){return"$?"===e.data||"$~"===e.data}function Pd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ld=null;function jd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Vd=new Map,Ud=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=L.d;L.d={f:function(){var e=Hd.f(),t=eu();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):Hd.r(e)},D:function(e){Hd.D(e),Kd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),Kd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var r=qd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var a=i;switch(t){case"style":a=Gd(e);break;case"script":a=Xd(e)}Vd.has(a)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Vd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qd(a))||"script"===t&&r.querySelector(Jd(a))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=qd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Xd(e)}if(!Vd.has(a)&&(e=f({rel:"modulepreload",href:e},t),Vd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jd(a)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hd.X(e,t);var n=qd;if(n&&e){var r=Ze(n).hoistableScripts,i=Xd(e),a=r.get(i);a||((a=n.querySelector(Jd(i)))||(e=f({src:e,async:!0},t),(t=Vd.get(i))&&th(e,t),et(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Hd.S(e,t,n);var r=qd;if(r&&e){var i=Ze(r).hoistableStyles,a=Gd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Qd(a)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vd.get(a))&&eh(e,n);var l=o=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Hd.M(e,t);var n=qd;if(n&&e){var r=Ze(n).hoistableScripts,i=Xd(e),a=r.get(i);a||((a=n.querySelector(Jd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Vd.get(i))&&th(e,t),et(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var qd="undefined"===typeof document?null:document;function Kd(e,t,n){var r=qd;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Ud.has(i)||(Ud.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wd(e,t,n,r){var i,a,s,l,c=(c=W.current)?Bd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Vd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vd.set(e,n),u||(i=c,a=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),fd(a,"link",s),et(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Gd(e){return'href="'+yt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+yt(e)+'"]'}function Jd(e){return"script[async]"+e}function $d(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gd(n.href);var a=e.querySelector(Qd(i));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Yd(n),(i=Vd.get(i))&&eh(r,i),et(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(a,"link",r),t.state.loading|=4,Zd(a,n.precedence,e),t.instance=a;case"script":return a=Xd(n.src),(i=e.querySelector(Jd(a)))?(t.instance=i,et(i),i):(r=n,(i=Vd.get(a))&&th(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Qe]||a[Ue]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var oh=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,sh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=sh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:S,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function hh(e,t,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,i,a,o,s,l,c,u,d){return e=new hh(e,t,n,o,l,c,u,d,s),t=1,!0===a&&(t|=24),a=Fr(3,null,null,t),e.current=a,a.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ga(a),e}function ph(e){return e?e=jr:jr}function mh(e,t,n,r,i,a){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=va(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ba(e,r,t))&&(Yc(n,0,t),wa(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Pr(e,67108864);null!==t&&Yc(t,0,67108864),yh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Pr(e,t=je(t));null!==n&&Yc(n,0,t),yh(e,t)}}var wh=!0;function Sh(e,t,n,r){var i=R.T;R.T=null;var a=L.p;try{L.p=2,xh(e,t,n,r)}finally{L.p=a,R.T=i}}function kh(e,t,n,r){var i=R.T;R.T=null;var a=L.p;try{L.p=8,xh(e,t,n,r)}finally{L.p=a,R.T=i}}function xh(e,t,n,r){if(wh){var i=Th(r);if(null===i)nd(e,t,r,Eh,n),jh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nh=Mh(Nh,e,t,n,r,i),!0;case"dragenter":return Ah=Mh(Ah,e,t,n,r,i),!0;case"mouseover":return Dh=Mh(Dh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Oh.set(a,Mh(Oh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ph.set(a,Mh(Ph.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jh(e,r),4&t&&-1<Lh.indexOf(e)){for(;null!==i;){var a=Je(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=_e(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-we(o);s.entanglements[1]|=l,o&=~l}ju(a),0===(6&pc)&&(Lc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(s=Pr(a,2))&&Yc(s,0,2),eu(),yh(a,2)}if(null===(a=Th(r))&&nd(e,t,r,Eh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Th(e){return _h(e=Rt(e))}var Eh=null;function _h(e){if(Eh=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Ih(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ch=!1,Nh=null,Ah=null,Dh=null,Oh=new Map,Ph=new Map,Rh=[],Lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jh(e,t){switch(e){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Ah=null;break;case"mouseover":case"mouseout":Dh=null;break;case"pointerover":case"pointerout":Oh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function Mh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fh(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void ze(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Th(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Vh(e,t,n){zh(e)&&n.delete(t)}function Uh(){Ch=!1,null!==Nh&&zh(Nh)&&(Nh=null),null!==Ah&&zh(Ah)&&(Ah=null),null!==Dh&&zh(Dh)&&(Dh=null),Oh.forEach(Vh),Ph.forEach(Vh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ch||(Ch=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Uh)))}var Hh=null;function qh(e){Hh!==e&&(Hh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hh===e&&(Hh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===_h(r||n))continue;break}var a=Je(n);null!==a&&(e.splice(t,3),t-=3,ts(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Kh(e){function t(t){return Bh(t,e)}null!==Nh&&Bh(Nh,e),null!==Ah&&Bh(Ah,e),null!==Dh&&Bh(Dh,e),Oh.forEach(t),Ph.forEach(t);for(var n=0;n<Rh.length;n++){var r=Rh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rh.length&&null===(n=Rh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Rh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[Be]||null;if("function"===typeof a)o||qh(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Be]||null)s=o.formAction;else if(null!==_h(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),qh(n)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));mh(t.current,Gc(),e,t,null,null)},Qh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[He]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&0!==t&&t<Rh[n].priority;n++);Rh.splice(n,0,e),0===n&&Fh(e)}};var Yh=i.version;if("19.2.0"!==Yh)throw Error(o(527,Yh,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Xh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ye=Jh.inject(Xh),ve=Jh}catch(Zh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=Ts,a=Es,l=_s;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,i,a,l,Wh),e[He]=t.current,ed(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=Ts,l=Es,c=_s,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,i,u,a,l,c,Wh)).context=ph(null),n=t.current,(i=va(r=je(r=Gc()))).callback=null,ba(n,i,r),n=r,t.current.lanes=n,Oe(t,n),ju(t),e[He]=t.current,ed(e),new Qh(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var S=w.prototype=new b;S.constructor=w,g(S,v.prototype),S.isPureReactComponent=!0;var k=Array.isArray;function x(){}var T={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function _(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+N(e,0):a,k(o)?(i="",null!=u&&(i=u.replace(C,"$&/")+"/"),A(o,t,i,"",function(e){return e})):null!=o&&(I(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+u,o=_(l.type,c,l.props)),t.push(o)),1;u=0;var d,f=""===a?".":a+":";if(k(e))for(var m=0;m<e.length;m++)u+=A(a=e[m],t,i,s=f+N(a,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=A(a=a.value,t,i,s=f+N(a,m++),o);else if("object"===s){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(x,x):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=R,t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return T.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return _(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return _(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.T,n={};T.T=n;try{var r=e(),i=T.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(x,P)}catch(a){P(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),T.T=t}},t.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},t.use=function(e){return T.H.use(e)},t.useActionState=function(e,t,n){return T.H.useActionState(e,t,n)},t.useCallback=function(e,t){return T.H.useCallback(e,t)},t.useContext=function(e){return T.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return T.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return T.H.useEffect(e,t)},t.useEffectEvent=function(e){return T.H.useEffectEvent(e)},t.useId=function(){return T.H.useId()},t.useImperativeHandle=function(e,t,n){return T.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.H.useMemo(e,t)},t.useOptimistic=function(e,t){return T.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return T.H.useReducer(e,t,n)},t.useRef=function(e){return T.H.useRef(e)},t.useState=function(e){return T.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,S(e),!m)if(null!==r(c))m=!0,T||(T=!0,x());else{var t=r(u);null!==t&&O(k,t.startTime-e)}}var x,T=!1,E=-1,_=5,I=-1;function C(){return!!y||!(t.unstable_now()-I<_)}function N(){if(y=!1,T){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(E),E=-1),p=!0;var a=f;try{t:{for(S(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,S(e),n=!0;break t}h===r(c)&&i(c),S(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&O(k,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?x():T=!1}}}if("function"===typeof w)x=function(){w(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=N,x=function(){D.postMessage(null)}}else x=function(){v(N,0)};function O(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,O(k,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,T||(T=!0,x()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".a3860d25.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="goal-tracker:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.p="/simpleone/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[o,s,l]=r,c=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkgoal_tracker=self.webpackChunkgoal_tracker||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=n(579);function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const h=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r},f=(e,t,n,r)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const i=Object.getOwnPropertyDescriptor(e,n),a=Object.getOwnPropertyDescriptor(t,n);!p(i,a)&&r||Object.defineProperty(e,n,a)},p=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},m=(e,t)=>"/* Wrapped ".concat(e,"*/\n").concat(t),g=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),y=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");function v(e,t){let{ignoreNonConfigurable:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:r}=e;for(const i of Reflect.ownKeys(t))f(e,t,i,n);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,t),((e,t,n)=>{const r=""===n?"":"with ".concat(n.trim(),"() "),i=m.bind(null,r,t.toString());Object.defineProperty(i,"name",y);const{writable:a,enumerable:o,configurable:s}=g;Object.defineProperty(e,"toString",{value:i,writable:a,enumerable:o,configurable:s})})(e,t,r),e}const b=2147483647,w=new WeakMap,S=new WeakMap,k=new WeakMap;function x(e,t){const n=e.get(t);if(n){if(!(n.maxAge<=Date.now()))return n;e.delete(t)}}function T(e){let{cacheKey:t,cache:n=new Map,maxAge:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===r)return e;if("number"===typeof r&&Number.isFinite(r)){if(r>b)throw new TypeError("The `maxAge` option cannot exceed ".concat(b,"."));if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];const l=t?t(o):o[0],c=x(n,l);if(c)return c.data;const u=e.apply(this,o),d="function"===typeof r?r(...o):r;if(void 0!==d&&d!==Number.POSITIVE_INFINITY){if(!Number.isFinite(d))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(d<=0)return u;if(d>b)throw new TypeError("The `maxAge` function result cannot exceed ".concat(b,"."))}if(n.set(l,{data:u,maxAge:void 0===d||d===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+d}),void 0!==d&&d!==Number.POSITIVE_INFINITY){var h,f;const e=setTimeout(()=>{var t;n.delete(l),null===(t=S.get(i))||void 0===t||t.delete(e)},d);null===(h=e.unref)||void 0===h||h.call(e);const t=null!==(f=S.get(i))&&void 0!==f?f:new Set;t.add(e),S.set(i,t)}return u};return v(i,e,{ignoreNonConfigurable:!0}),w.set(i,n),k.set(i,null!==t&&void 0!==t?t:e=>e[0]),i}function E(e){return"string"===typeof e}function _(e,t,n){return n.indexOf(e)===t}function I(e){return-1===e.indexOf(",")?e:e.split(",")}function C(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return C(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return C(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,i=e.split("-"),a=i[0],o=i[1],s=void 0===o?"":o;return"".concat(a,"-").concat(s.toUpperCase())}var N=T(function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,i=t.fallbackLocale,a=void 0===i?"en-US":i,o=[];if("undefined"!==typeof navigator){for(var s=[],l=0,c=navigator.languages||[];l<c.length;l++){var u=c[l];s=s.concat(I(u))}var d=navigator.language,h=d?I(d):d;o=o.concat(s,h)}return r&&o.push(a),o.filter(E).map(C).filter(_)},{cacheKey:JSON.stringify});var A=T(function(e){return N(e)[0]||null},{cacheKey:JSON.stringify});const D=A;function O(e,t,n){return function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const a=e(r)+i;return t(a)}}function P(e){return function(t){return new Date(e(t).getTime()-1)}}function R(e,t){return function(n){return[e(n),t(n)]}}function L(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;const t=Number.parseInt(e,10);if("string"===typeof e&&!Number.isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function j(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function M(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function F(e){const t=L(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const z=O(L,F,-100),V=O(L,F,100),U=P(V),B=O(L,U,-100),H=(O(L,U,100),R(F,U));function q(e){const t=L(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const K=O(L,q,-10),W=O(L,q,10),G=P(W),Q=O(L,G,-10),Y=(O(L,G,10),R(q,G));function X(e){const t=L(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}const J=O(L,X,-1),$=O(L,X,1),Z=P($),ee=O(L,Z,-1),te=(O(L,Z,1),R(X,Z));function ne(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const i=L(n),a=j(n)+r,o=new Date;return o.setFullYear(i,a,1),o.setHours(0,0,0,0),e(o)}}function re(e){const t=L(e),n=j(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}const ie=ne(re,-1),ae=ne(re,1),oe=P(ae),se=ne(oe,-1),le=(ne(oe,1),R(re,oe));function ce(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const i=L(n),a=j(n),o=M(n)+r,s=new Date;return s.setFullYear(i,a,o),s.setHours(0,0,0,0),e(s)}}function ue(e){const t=L(e),n=j(e),r=M(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}ce(ue,-1);const de=P(ce(ue,1)),he=(ce(de,-1),ce(de,1),R(ue,de));function fe(e){return M(oe(e))}var pe="gregory",me="hebrew",ge="islamic",ye="iso8601",ve={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},be=[0,1,2,3,4,5,6],we=new Map;function Se(e){return function(t,n){return function(e){return function(t,n){var r=t||D();we.has(r)||we.set(r,new Map);var i=we.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r||void 0,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}Se({day:"numeric",month:"numeric",year:"numeric"});var ke=Se({day:"numeric"}),xe=Se({day:"numeric",month:"long",year:"numeric"}),Te=Se({month:"long"}),Ee=Se({month:"long",year:"numeric"}),_e=Se({weekday:"short"}),Ie=Se({weekday:"long"}),Ce=Se({year:"numeric"}),Ne=be[0],Ae=be[5],De=be[6];function Oe(e,t){void 0===t&&(t=ye);var n=e.getDay();switch(t){case ye:return(n+6)%7;case ge:return(n+1)%7;case me:case pe:return n;default:throw new Error("Unsupported calendar type.")}}function Pe(e,t){void 0===t&&(t=ye);var n=L(e),r=j(e),i=e.getDate()-Oe(e,t);return new Date(n,r,i)}function Re(e,t){switch(e){case"century":return F(t);case"decade":return q(t);case"year":return X(t);case"month":return re(t);case"day":return ue(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Le(e,t){switch(e){case"century":return V(t);case"decade":return W(t);case"year":return $(t);case"month":return ae(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function je(e,t){switch(e){case"century":return U(t);case"decade":return G(t);case"year":return Z(t);case"month":return oe(t);case"day":return de(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Me(e,t){switch(e){case"century":return H(t);case"decade":return Y(t);case"year":return te(t);case"month":return le(t);case"day":return he(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Fe(e,t,n){return n.map(function(n){return(t||Ce)(e,n)}).join(" \u2013 ")}function ze(e,t,n){return Fe(e,t,Y(n))}function Ve(e){return e.getDay()===(new Date).getDay()}function Ue(e,t){void 0===t&&(t=ye);var n=e.getDay();switch(t){case ge:case me:return n===Ae||n===De;case ye:case pe:return n===De||n===Ne;default:throw new Error("Unsupported calendar type.")}}var Be="react-calendar__navigation";function He(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=void 0===r?Ee:r,a=e.formatYear,o=void 0===a?Ce:a,s=e.locale,l=e.maxDate,c=e.minDate,d=e.navigationAriaLabel,h=void 0===d?"":d,f=e.navigationAriaLive,p=e.navigationLabel,m=e.next2AriaLabel,g=void 0===m?"":m,y=e.next2Label,v=void 0===y?"\xbb":y,b=e.nextAriaLabel,w=void 0===b?"":b,S=e.nextLabel,k=void 0===S?"\u203a":S,x=e.prev2AriaLabel,T=void 0===x?"":x,E=e.prev2Label,_=void 0===E?"\xab":E,I=e.prevAriaLabel,C=void 0===I?"":I,N=e.prevLabel,D=void 0===N?"\u2039":N,O=e.setActiveStartDate,P=e.showDoubleView,R=e.view,L=e.views.indexOf(R)>0,j="century"!==R,M=function(e,t){switch(e){case"century":return z(t);case"decade":return K(t);case"year":return J(t);case"month":return ie(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,t),F=j?function(e,t){switch(e){case"decade":return K(t,-100);case"year":return J(t,-10);case"month":return ie(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,t):void 0,V=Le(R,t),U=j?function(e,t){switch(e){case"decade":return W(t,100);case"year":return $(t,10);case"month":return ae(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,t):void 0,q=function(){if(M.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return B(t);case"decade":return Q(t);case"year":return ee(t);case"month":return se(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,t);return c&&c>=e}(),G=j&&function(){if(F.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Q(t,-100);case"year":return ee(t,-10);case"month":return se(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(R,t);return c&&c>=e}(),Y=l&&l<V,X=j&&l&&l<U;function Z(e){var t=function(){switch(R){case"century":return function(e,t,n){return Fe(e,t,H(n))}(s,o,e);case"decade":return ze(s,o,e);case"year":return o(s,e);case"month":return i(s,e);default:throw new Error("Invalid view: ".concat(R,"."))}}();return p?p({date:e,label:t,locale:s||A()||void 0,view:R}):t}return(0,u.jsxs)("div",{className:Be,children:[null!==_&&j?(0,u.jsx)("button",{"aria-label":T,className:"".concat(Be,"__arrow ").concat(Be,"__prev2-button"),disabled:G,onClick:function(){O(F,"prev2")},type:"button",children:_}):null,null!==D&&(0,u.jsx)("button",{"aria-label":C,className:"".concat(Be,"__arrow ").concat(Be,"__prev-button"),disabled:q,onClick:function(){O(M,"prev")},type:"button",children:D}),function(){var e="".concat(Be,"__label");return(0,u.jsxs)("button",{"aria-label":h,"aria-live":f,className:e,disabled:!L,onClick:n,style:{flexGrow:1},type:"button",children:[(0,u.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from"),children:Z(t)}),P?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"".concat(e,"__divider"),children:" \u2013 "}),(0,u.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to"),children:Z(V)})]}):null]})}(),null!==k&&(0,u.jsx)("button",{"aria-label":w,className:"".concat(Be,"__arrow ").concat(Be,"__next-button"),disabled:Y,onClick:function(){O(V,"next")},type:"button",children:k}),null!==v&&j?(0,u.jsx)("button",{"aria-label":g,className:"".concat(Be,"__arrow ").concat(Be,"__next2-button"),disabled:X,onClick:function(){O(U,"next2")},type:"button",children:v}):null]})}var qe=function(){return qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qe.apply(this,arguments)},Ke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function We(e){return"".concat(e,"%")}function Ge(e){var t=e.children,n=e.className,i=e.count,a=e.direction,o=e.offset,s=e.style,l=e.wrap,c=Ke(e,["children","className","count","direction","offset","style","wrap"]);return(0,u.jsx)("div",qe({className:n,style:qe({display:"flex",flexDirection:a,flexWrap:l?"wrap":"nowrap"},s)},c,{children:r.Children.map(t,function(e,t){var n=o&&0===t?We(100*o/i):null;return(0,r.cloneElement)(e,qe(qe({},e.props),{style:{flexBasis:We(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))})}))}function Qe(e,t){return t[0]<=e&&t[1]>=e}function Ye(e,t){return Qe(e[0],t)||Qe(e[1],t)}function Xe(e,t,n){var r=[];if(Ye(t,e)){r.push(n);var i=Qe(e[0],t),a=Qe(e[1],t);i&&r.push("".concat(n,"Start")),a&&r.push("".concat(n,"End")),i&&a&&r.push("".concat(n,"BothEnds"))}return r}function Je(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",a=[i];if(!n)return a;var o=new Date,s=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Me(t,n)}();if(Qe(o,s)&&a.push("".concat(i,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return a;var l,c,u=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Me(n,t)}();c=s,(l=u)[0]<=c[0]&&l[1]>=c[1]?a.push("".concat(i,"--active")):Ye(u,s)&&a.push("".concat(i,"--hasActive"));var d=Xe(u,s,"".concat(i,"--range"));a.push.apply(a,d);var h=Array.isArray(t)?t:[t];if(r&&1===h.length){var f=Xe(r>u[0]?[u[0],r]:[r,u[0]],s,"".concat(i,"--hover"));a.push.apply(a,f)}return a}function $e(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,i=e.dateTransform,a=e.dateType,o=e.end,s=e.hover,l=e.offset,c=e.renderTile,d=e.start,h=e.step,f=void 0===h?1:h,p=e.value,m=e.valueType,g=[],y=d;y<=o;y+=f){var v=i(y);g.push(c({classes:Je({date:v,dateType:a,hover:s,value:p,valueType:m}),date:v}))}return(0,u.jsx)(Ge,{className:t,count:r,offset:l,wrap:!0,children:g})}function Ze(e){var t=e.activeStartDate,n=e.children,i=e.classes,a=e.date,o=e.formatAbbr,s=e.locale,l=e.maxDate,c=e.maxDateTransform,d=e.minDate,f=e.minDateTransform,p=e.onClick,m=e.onMouseOver,g=e.style,y=e.tileClassName,v=e.tileContent,b=e.tileDisabled,w=e.view,S=(0,r.useMemo)(function(){return"function"===typeof y?y({activeStartDate:t,date:a,view:w}):y},[t,a,y,w]),k=(0,r.useMemo)(function(){return"function"===typeof v?v({activeStartDate:t,date:a,view:w}):v},[t,a,v,w]);return(0,u.jsxs)("button",{className:h(i,S),disabled:d&&f(d)>a||l&&c(l)<a||(null===b||void 0===b?void 0:b({activeStartDate:t,date:a,view:w})),onClick:p?function(e){return p(a,e)}:void 0,onFocus:m?function(){return m(a)}:void 0,onMouseOver:m?function(){return m(a)}:void 0,style:g,type:"button",children:[o?(0,u.jsx)("abbr",{"aria-label":o(s,a),children:n}):n,k]})}var et=function(){return et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},et.apply(this,arguments)},tt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nt="react-calendar__century-view__decades__decade";function rt(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentCentury,i=e.formatYear,a=void 0===i?Ce:i,o=tt(e,["classes","currentCentury","formatYear"]),s=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),nt&&c.push(nt),F(s).getFullYear()!==r&&c.push("".concat(nt,"--neighboringCentury")),(0,u.jsx)(Ze,et({},o,{classes:c,maxDateTransform:G,minDateTransform:q,view:"century",children:ze(l,a,s)}))}var it=function(){return it=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},it.apply(this,arguments)},at=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ot(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,i=e.value,a=e.valueType,o=at(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=L(F(t)),l=s+(r?119:99);return(0,u.jsx)($e,{className:"react-calendar__century-view__decades",dateTransform:q,dateType:"decade",end:l,hover:n,renderTile:function(e){var n=e.date,r=at(e,["date"]);return(0,u.jsx)(rt,it({},o,r,{activeStartDate:t,currentCentury:s,date:n}),n.getTime())},start:s,step:10,value:i,valueType:a})}var st=function(){return st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},st.apply(this,arguments)};function lt(e){return(0,u.jsx)("div",{className:"react-calendar__century-view",children:(0,u.jsx)(ot,st({},e))})}var ct=function(){return ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ct.apply(this,arguments)},ut=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},dt="react-calendar__decade-view__years__year";function ht(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentDecade,i=e.formatYear,a=void 0===i?Ce:i,o=ut(e,["classes","currentDecade","formatYear"]),s=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),dt&&c.push(dt),q(s).getFullYear()!==r&&c.push("".concat(dt,"--neighboringDecade")),(0,u.jsx)(Ze,ct({},o,{classes:c,maxDateTransform:Z,minDateTransform:X,view:"decade",children:a(l,s)}))}var ft=function(){return ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ft.apply(this,arguments)},pt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function mt(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,i=e.value,a=e.valueType,o=pt(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=L(q(t)),l=s+(r?11:9);return(0,u.jsx)($e,{className:"react-calendar__decade-view__years",dateTransform:X,dateType:"year",end:l,hover:n,renderTile:function(e){var n=e.date,r=pt(e,["date"]);return(0,u.jsx)(ht,ft({},o,r,{activeStartDate:t,currentDecade:s,date:n}),n.getTime())},start:s,value:i,valueType:a})}var gt=function(){return gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gt.apply(this,arguments)};function yt(e){return(0,u.jsx)("div",{className:"react-calendar__decade-view",children:(0,u.jsx)(mt,gt({},e))})}var vt=function(){return vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vt.apply(this,arguments)},bt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function St(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatMonth,i=void 0===r?Te:r,a=e.formatMonthYear,o=void 0===a?Ee:a,s=bt(e,["classes","formatMonth","formatMonthYear"]),l=s.date,c=s.locale;return(0,u.jsx)(Ze,vt({},s,{classes:wt(wt([],n,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:o,maxDateTransform:oe,minDateTransform:re,view:"year",children:i(c,l)}))}var kt=function(){return kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kt.apply(this,arguments)},xt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Tt(e){var t=e.activeStartDate,n=e.hover,r=e.value,i=e.valueType,a=xt(e,["activeStartDate","hover","value","valueType"]),o=L(t);return(0,u.jsx)($e,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(o,e,1),re(t)},dateType:"month",end:11,hover:n,renderTile:function(e){var n=e.date,r=xt(e,["date"]);return(0,u.jsx)(St,kt({},a,r,{activeStartDate:t,date:n}),n.getTime())},start:0,value:r,valueType:i})}var Et=function(){return Et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Et.apply(this,arguments)};function _t(e){return(0,u.jsx)("div",{className:"react-calendar__year-view",children:(0,u.jsx)(Tt,Et({},e))})}var It=function(){return It=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},It.apply(this,arguments)},Ct=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Nt="react-calendar__month-view__days__day";function At(e){var t=e.calendarType,n=e.classes,r=void 0===n?[]:n,i=e.currentMonthIndex,a=e.formatDay,o=void 0===a?ke:a,s=e.formatLongDate,l=void 0===s?xe:s,c=Ct(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=c.date,h=c.locale,f=[];return r&&f.push.apply(f,r),Nt&&f.push(Nt),Ue(d,t)&&f.push("".concat(Nt,"--weekend")),d.getMonth()!==i&&f.push("".concat(Nt,"--neighboringMonth")),(0,u.jsx)(Ze,It({},c,{classes:f,formatAbbr:l,maxDateTransform:de,minDateTransform:ue,view:"month",children:o(h,d)}))}var Dt=function(){return Dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dt.apply(this,arguments)},Ot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Pt(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,i=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,o=e.value,s=e.valueType,l=Ot(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=L(t),d=j(t),h=i||a,f=Oe(t,n),p=h?0:f,m=1+(h?-f:0),g=function(){if(i)return m+42-1;var e=fe(t);if(a){var r=new Date;return r.setFullYear(c,d,e),r.setHours(0,0,0,0),e+(7-Oe(r,n)-1)}return e}();return(0,u.jsx)($e,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(c,d,e),ue(t)},dateType:"day",hover:r,end:g,renderTile:function(e){var r=e.date,i=Ot(e,["date"]);return(0,u.jsx)(At,Dt({},l,i,{activeStartDate:t,calendarType:n,currentMonthIndex:d,date:r}),r.getTime())},offset:p,start:m,value:o,valueType:s})}var Rt="react-calendar__month-view__weekdays",Lt="".concat(Rt,"__weekday");function jt(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=void 0===n?_e:n,i=e.formatWeekday,a=void 0===i?Ie:i,o=e.locale,s=e.onMouseLeave,l=re(new Date),c=L(l),d=j(l),f=[],p=1;p<=7;p+=1){var m=new Date(c,d,p-Oe(l,t)),g=a(o,m);f.push((0,u.jsx)("div",{className:h(Lt,Ve(m)&&"".concat(Lt,"--current"),Ue(m,t)&&"".concat(Lt,"--weekend")),children:(0,u.jsx)("abbr",{"aria-label":g,title:g,children:r(o,m).replace(".","")})},p))}return(0,u.jsx)(Ge,{className:Rt,count:7,onFocus:s,onMouseOver:s,children:f})}var Mt=function(){return Mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mt.apply(this,arguments)},Ft=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zt="react-calendar__tile";function Vt(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=(0,u.jsx)("span",{children:n});if(t){var i=e.date,a=e.onClickWeekNumber,o=e.weekNumber,s=Ft(e,["date","onClickWeekNumber","weekNumber"]);return(0,u.jsx)("button",Mt({},s,{className:zt,onClick:function(e){return a(o,i,e)},type:"button",children:r}))}e.date,e.onClickWeekNumber,e.weekNumber,s=Ft(e,["date","onClickWeekNumber","weekNumber"]);return(0,u.jsx)("div",Mt({},s,{className:zt,children:r}))}function Ut(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=function(){if(a)return 6;var e=fe(t)-(7-Oe(t,n));return 1+Math.ceil(e/7)}(),s=function(){for(var e=L(t),r=j(t),i=M(t),a=[],s=0;s<o;s+=1)a.push(Pe(new Date(e,r,i+7*s),n));return a}(),l=s.map(function(e){return function(e,t){void 0===t&&(t=ye);var n,r=t===pe?pe:ye,i=Pe(e,t),a=L(e)+1;do{n=Pe(new Date(a,0,r===ye?4:1),t),a-=1}while(e<n);return Math.round((i.getTime()-n.getTime())/6048e5)+1}(e,n)});return(0,u.jsx)(Ge,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(e,t){var n=s[t];if(!n)throw new Error("date is not defined");return(0,u.jsx)(Vt,{date:n,onClickWeekNumber:r,weekNumber:e},e)})})}var Bt=function(){return Bt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bt.apply(this,arguments)},Ht=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function qt(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,o=void 0===a?function(e){if(e)for(var t=0,n=Object.entries(ve);t<n.length;t++){var r=n[t],i=r[0];if(r[1].includes(e))return i}return ye}(n):a,s=e.formatShortWeekday,l=e.formatWeekday,c=e.onClickWeekNumber,d=e.showWeekNumbers,f=Ht(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var p="react-calendar__month-view";return(0,u.jsx)("div",{className:h(p,d?"".concat(p,"--weekNumbers"):""),children:(0,u.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[d?(0,u.jsx)(Ut,{activeStartDate:t,calendarType:o,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null,(0,u.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,u.jsx)(jt,{calendarType:o,formatShortWeekday:s,formatWeekday:l,locale:n,onMouseLeave:r}),(0,u.jsx)(Pt,Bt({calendarType:o},f))]})]})})}var Kt=function(){return Kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kt.apply(this,arguments)},Wt="react-calendar",Gt=["century","decade","year","month"],Qt=["decade","year","month","day"],Yt=new Date;Yt.setFullYear(1,0,1),Yt.setHours(0,0,0,0);var Xt=new Date(864e13);function Jt(e){return e instanceof Date?e:new Date(e)}function $t(e,t){return Gt.slice(Gt.indexOf(e),Gt.indexOf(t)+1)}function Zt(e,t,n){return e&&function(e,t,n){return-1!==$t(t,n).indexOf(e)}(e,t,n)?e:n}function en(e){var t=Gt.indexOf(e);return Qt[t]}function tn(e,t){var n=e.value,r=e.minDate,i=e.maxDate,a=e.maxDetail,o=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Jt(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!o)return null;var s=en(a);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return Re(s,o);case 1:return je(s,o);default:throw new Error("Invalid index value: ".concat(t))}}(),r,i)}var nn=function(e){return tn(e,0)},rn=function(e){return tn(e,1)},an=function(e){return[nn,rn].map(function(t){return t(e)})};function on(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,a=e.value;return Re(Zt(e.view,i,n),nn({value:a,minDate:r,maxDate:t,maxDetail:n})||new Date)}function sn(e){return e&&(!Array.isArray(e)||1===e.length)}function ln(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var cn=(0,r.forwardRef)(function(e,t){var n=e.activeStartDate,i=e.allowPartialRange,a=e.calendarType,o=e.className,s=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,d=e.formatDay,f=e.formatLongDate,p=e.formatMonth,m=e.formatMonthYear,g=e.formatShortWeekday,y=e.formatWeekday,v=e.formatYear,b=e.goToRangeStartOnSelect,w=void 0===b||b,S=e.inputRef,k=e.locale,x=e.maxDate,T=void 0===x?Xt:x,E=e.maxDetail,_=void 0===E?"month":E,I=e.minDate,C=void 0===I?Yt:I,N=e.minDetail,A=void 0===N?"century":N,D=e.navigationAriaLabel,O=e.navigationAriaLive,P=e.navigationLabel,R=e.next2AriaLabel,L=e.next2Label,j=e.nextAriaLabel,M=e.nextLabel,F=e.onActiveStartDateChange,z=e.onChange,V=e.onClickDay,U=e.onClickDecade,B=e.onClickMonth,H=e.onClickWeekNumber,q=e.onClickYear,K=e.onDrillDown,W=e.onDrillUp,G=e.onViewChange,Q=e.prev2AriaLabel,Y=e.prev2Label,X=e.prevAriaLabel,J=e.prevLabel,$=e.returnValue,Z=void 0===$?"start":$,ee=e.selectRange,te=e.showDoubleView,ne=e.showFixedNumberOfWeeks,re=e.showNavigation,ie=void 0===re||re,ae=e.showNeighboringCentury,oe=e.showNeighboringDecade,se=e.showNeighboringMonth,le=void 0===se||se,ce=e.showWeekNumbers,ue=e.tileClassName,de=e.tileContent,he=e.tileDisabled,fe=e.value,pe=e.view,me=(0,r.useState)(s),ge=me[0],ye=me[1],ve=(0,r.useState)(null),be=ve[0],we=ve[1],Se=(0,r.useState)(Array.isArray(l)?l.map(function(e){return null!==e?Jt(e):null}):null!==l&&void 0!==l?Jt(l):null),ke=Se[0],xe=Se[1],Te=(0,r.useState)(c),Ee=Te[0],_e=Te[1],Ie=n||ge||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,a=e.maxDate,o=e.maxDetail,s=e.minDate,l=e.minDetail,c=e.value,u=e.view,d=Zt(u,l,o),h=t||n;return h?Re(d,h):on({maxDate:a,maxDetail:o,minDate:s,minDetail:l,value:c||r,view:u||i})}({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:c,maxDate:T,maxDetail:_,minDate:C,minDetail:A,value:fe,view:pe}),Ce=function(){var e=ee&&sn(ke)?ke:void 0!==fe?fe:ke;return e?Array.isArray(e)?e.map(function(e){return null!==e?Jt(e):null}):null!==e?Jt(e):null:null}(),Ne=en(_),Ae=Zt(pe||Ee,A,_),De=$t(A,_),Oe=ee?be:null,Pe=De.indexOf(Ae)<De.length-1,Me=De.indexOf(Ae)>0,Fe=(0,r.useCallback)(function(e){return function(){switch(Z){case"start":return nn;case"end":return rn;case"range":return an;default:throw new Error("Invalid returnValue.")}}()({maxDate:T,maxDetail:_,minDate:C,value:e})},[T,_,C,Z]),ze=(0,r.useCallback)(function(e,t){ye(e);var n={action:t,activeStartDate:e,value:Ce,view:Ae};F&&!ln(Ie,e)&&F(n)},[Ie,F,Ce,Ae]),Ve=(0,r.useCallback)(function(e,t){var n=function(){switch(Ae){case"century":return U;case"decade":return q;case"year":return B;case"month":return V;default:throw new Error("Invalid view: ".concat(Ae,"."))}}();n&&n(e,t)},[V,U,B,q,Ae]),Ue=(0,r.useCallback)(function(e,t){if(Pe){Ve(e,t);var n=De[De.indexOf(Ae)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");ye(e),_e(n);var r={action:"drillDown",activeStartDate:e,value:Ce,view:n};F&&!ln(Ie,e)&&F(r),G&&Ae!==n&&G(r),K&&K(r)}},[Ie,Pe,F,Ve,K,G,Ce,Ae,De]),Be=(0,r.useCallback)(function(){if(Me){var e=De[De.indexOf(Ae)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Re(e,Ie);ye(t),_e(e);var n={action:"drillUp",activeStartDate:t,value:Ce,view:e};F&&!ln(Ie,t)&&F(n),G&&Ae!==e&&G(n),W&&W(n)}},[Ie,Me,F,W,G,Ce,Ae,De]),qe=(0,r.useCallback)(function(e,t){var n=Ce;Ve(e,t);var r,a=ee&&!sn(n);if(ee)if(a)r=Re(Ne,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");r=function(e,t,n){var r=[t,n].sort(function(e,t){return e.getTime()-t.getTime()});return[Re(e,r[0]),je(e,r[1])]}(Ne,n,e)}else r=Fe(e);var o=!ee||a||w?on({maxDate:T,maxDetail:_,minDate:C,minDetail:A,value:r,view:Ae}):null;t.persist(),ye(o),xe(r);var s={action:"onChange",activeStartDate:o,value:r,view:Ae};if(F&&!ln(Ie,o)&&F(s),z)if(ee)if(sn(r)){if(i){if(Array.isArray(r))throw new Error("value must not be an array");z([r||null,null],t)}}else z(r||null,t);else z(r||null,t)},[Ie,i,Fe,w,T,_,C,A,F,z,Ve,ee,Ce,Ne,Ae]);function Ke(e){we(e)}function We(){we(null)}function Ge(e){var t={activeStartDate:e?Le(Ae,Ie):Re(Ae,Ie),hover:Oe,locale:k,maxDate:T,minDate:C,onClick:Pe?Ue:qe,onMouseOver:ee?Ke:void 0,tileClassName:ue,tileContent:de,tileDisabled:he,value:Ce,valueType:Ne};switch(Ae){case"century":return(0,u.jsx)(lt,Kt({formatYear:v,showNeighboringCentury:ae},t));case"decade":return(0,u.jsx)(yt,Kt({formatYear:v,showNeighboringDecade:oe},t));case"year":return(0,u.jsx)(_t,Kt({formatMonth:p,formatMonthYear:m},t));case"month":return(0,u.jsx)(qt,Kt({calendarType:a,formatDay:d,formatLongDate:f,formatShortWeekday:g,formatWeekday:y,onClickWeekNumber:H,onMouseLeave:ee?We:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ne?ne:te,showNeighboringMonth:le,showWeekNumbers:ce},t));default:throw new Error("Invalid view: ".concat(Ae,"."))}}(0,r.useImperativeHandle)(t,function(){return{activeStartDate:Ie,drillDown:Ue,drillUp:Be,onChange:qe,setActiveStartDate:ze,value:Ce,view:Ae}},[Ie,Ue,Be,qe,ze,Ce,Ae]);var Qe=Array.isArray(Ce)?Ce:[Ce];return(0,u.jsxs)("div",{className:h(Wt,ee&&1===Qe.length&&"".concat(Wt,"--selectRange"),te&&"".concat(Wt,"--doubleView"),o),ref:S,children:[ie?(0,u.jsx)(He,{activeStartDate:Ie,drillUp:Be,formatMonthYear:m,formatYear:v,locale:k,maxDate:T,minDate:C,navigationAriaLabel:D,navigationAriaLive:O,navigationLabel:P,next2AriaLabel:R,next2Label:L,nextAriaLabel:j,nextLabel:M,prev2AriaLabel:Q,prev2Label:Y,prevAriaLabel:X,prevLabel:J,setActiveStartDate:ze,showDoubleView:te,view:Ae,views:De}):null,(0,u.jsxs)("div",{className:"".concat(Wt,"__viewContainer"),onBlur:ee?We:void 0,onMouseLeave:ee?We:void 0,children:[Ge(),te?Ge(!0):null]})]})});const un=cn,dn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},hn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new fn;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class fn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pn=function(e){return function(e){const t=dn(e);return hn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},mn=function(e){try{return hn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gn(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const yn=()=>{try{return gn().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/simpleone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&mn(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},vn=e=>{var t;return null===(t=yn())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},bn=()=>{var e;return null===(e=yn())||void 0===e?void 0:e.config},wn=e=>{var t;return null===(t=yn())||void 0===t?void 0:t["_".concat(e)]};class Sn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function kn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function xn(e){return(await fetch(e,{credentials:"include"})).ok}const Tn={};let En=!1;function _n(e,t){if("undefined"===typeof window||"undefined"===typeof document||!kn(window.location.host)||Tn[e]===t||Tn[e]||En)return;function n(e){return"__firebase__banner__".concat(e)}Tn[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tn))Tn[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{En=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function In(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Cn(){var e;const t=null===(e=yn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Nn(){return!Cn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function An(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Dn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}}class On{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Pn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Dn(n,a,t)}}const Pn=/\{\$([^}]+)}/g;function Rn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(Ln(n)&&Ln(a)){if(!Rn(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ln(e){return null!==e&&"object"===typeof e}function jn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Mn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Fn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class zn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Vn),void 0===r.error&&(r.error=Vn),void 0===r.complete&&(r.complete=Vn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vn(){}function Un(e){return e&&e._delegate?e._delegate:e}class Bn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hn="[DEFAULT]";class qn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Sn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Hn})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Hn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hn;return this.component?this.component.multipleInstances?e:Hn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Kn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wn=[];var Gn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Gn||(Gn={}));const Qn={debug:Gn.DEBUG,verbose:Gn.VERBOSE,info:Gn.INFO,warn:Gn.WARN,error:Gn.ERROR,silent:Gn.SILENT},Yn=Gn.INFO,Xn={[Gn.DEBUG]:"log",[Gn.VERBOSE]:"log",[Gn.INFO]:"info",[Gn.WARN]:"warn",[Gn.ERROR]:"error"},Jn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Xn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class $n{constructor(e){this.name=e,this._logLevel=Yn,this._logHandler=Jn,this._userLogHandler=null,Wn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Gn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Qn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gn.DEBUG,...t),this._logHandler(this,Gn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gn.VERBOSE,...t),this._logHandler(this,Gn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gn.INFO,...t),this._logHandler(this,Gn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gn.WARN,...t),this._logHandler(this,Gn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Gn.ERROR,...t),this._logHandler(this,Gn.ERROR,...t)}}let Zn,er;const tr=new WeakMap,nr=new WeakMap,rr=new WeakMap,ir=new WeakMap,ar=new WeakMap;let or={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return nr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||rr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function sr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(er||(er=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ur(this),n),cr(tr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cr(e.apply(ur(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(ur(this),t,...r);return rr.set(a,t.sort?t.sort():[t]),cr(a)}}function lr(e){return"function"===typeof e?sr(e):(e instanceof IDBTransaction&&function(e){if(nr.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});nr.set(e,t)}(e),t=e,(Zn||(Zn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,or):e);var t}function cr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(cr(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&tr.set(t,e)}).catch(()=>{}),ar.set(t,e),t}(e);if(ir.has(e))return ir.get(e);const t=lr(e);return t!==e&&(ir.set(e,t),ar.set(t,e)),t}const ur=e=>ar.get(e);const dr=["get","getKey","getAll","getAllKeys","count"],hr=["put","add","delete","clear"],fr=new Map;function pr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(fr.get(t))return fr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=hr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!dr.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return fr.set(t,a),a}or=(e=>c(c({},e),{},{get:(t,n,r)=>pr(t,n)||e.get(t,n,r),has:(t,n)=>!!pr(t,n)||e.has(t,n)}))(or);class mr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const gr="@firebase/app",yr="0.14.4",vr=new $n("@firebase/app"),br="@firebase/app-compat",wr="@firebase/analytics-compat",Sr="@firebase/analytics",kr="@firebase/app-check-compat",xr="@firebase/app-check",Tr="@firebase/auth",Er="@firebase/auth-compat",_r="@firebase/database",Ir="@firebase/data-connect",Cr="@firebase/database-compat",Nr="@firebase/functions",Ar="@firebase/functions-compat",Dr="@firebase/installations",Or="@firebase/installations-compat",Pr="@firebase/messaging",Rr="@firebase/messaging-compat",Lr="@firebase/performance",jr="@firebase/performance-compat",Mr="@firebase/remote-config",Fr="@firebase/remote-config-compat",zr="@firebase/storage",Vr="@firebase/storage-compat",Ur="@firebase/firestore",Br="@firebase/ai",Hr="@firebase/firestore-compat",qr="firebase",Kr="[DEFAULT]",Wr={[gr]:"fire-core",[br]:"fire-core-compat",[Sr]:"fire-analytics",[wr]:"fire-analytics-compat",[xr]:"fire-app-check",[kr]:"fire-app-check-compat",[Tr]:"fire-auth",[Er]:"fire-auth-compat",[_r]:"fire-rtdb",[Ir]:"fire-data-connect",[Cr]:"fire-rtdb-compat",[Nr]:"fire-fn",[Ar]:"fire-fn-compat",[Dr]:"fire-iid",[Or]:"fire-iid-compat",[Pr]:"fire-fcm",[Rr]:"fire-fcm-compat",[Lr]:"fire-perf",[jr]:"fire-perf-compat",[Mr]:"fire-rc",[Fr]:"fire-rc-compat",[zr]:"fire-gcs",[Vr]:"fire-gcs-compat",[Ur]:"fire-fst",[Hr]:"fire-fst-compat",[Br]:"fire-vertex","fire-js":"fire-js",[qr]:"fire-js-all"},Gr=new Map,Qr=new Map,Yr=new Map;function Xr(e,t){try{e.container.addComponent(t)}catch(n){vr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Jr(e){const t=e.name;if(Yr.has(t))return vr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Yr.set(t,e);for(const n of Gr.values())Xr(n,e);for(const n of Qr.values())Xr(n,e);return!0}function $r(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Zr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const ei=new On("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ti{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}const ni="12.4.0";function ri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:Kr,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=bn()),!n)throw ei.create("no-options");const a=Gr.get(i);if(a){if(Rn(n,a.options)&&Rn(r,a.config))return a;throw ei.create("duplicate-app",{appName:i})}const o=new Kn(i);for(const l of Yr.values())o.addComponent(l);const s=new ti(n,r,o);return Gr.set(i,s),s}function ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr;const t=Gr.get(e);if(!t&&e===Kr&&bn())return ri();if(!t)throw ei.create("no-app",{appName:e});return t}function ai(e,t,n){var r;let i=null!==(r=Wr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void vr.warn(e.join(" "))}Jr(new Bn("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const oi="firebase-heartbeat-store";let si=null;function li(){return si||(si=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=cr(o);return r&&o.addEventListener("upgradeneeded",e=>{r(cr(o.result),e.oldVersion,e.newVersion,cr(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(oi)}catch(n){console.warn(n)}}}).catch(e=>{throw ei.create("idb-open",{originalErrorMessage:e.message})})),si}async function ci(e,t){try{const n=(await li()).transaction(oi,"readwrite"),r=n.objectStore(oi);await r.put(t,ui(e)),await n.done}catch(n){if(n instanceof Dn)vr.warn(n.message);else{const e=ei.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});vr.warn(e.message)}}}function ui(e){return"".concat(e.name,"!").concat(e.options.appId)}class di{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fi(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hi();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){vr.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=hi(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),pi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=pn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return vr.warn(t),""}}}function hi(){return(new Date).toISOString().substring(0,10)}class fi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!An()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await li()).transaction(oi),n=await t.objectStore(oi).get(ui(e));return await t.done,n}catch(t){if(t instanceof Dn)vr.warn(t.message);else{const e=ei.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});vr.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ci(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ci(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pi(e){return pn(JSON.stringify({version:2,heartbeats:e})).length}var mi;mi="",Jr(new Bn("platform-logger",e=>new mr(e),"PRIVATE")),Jr(new Bn("heartbeat",e=>new di(e),"PRIVATE")),ai(gr,yr,mi),ai(gr,yr,"esm2020"),ai("fire-js","");function gi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}ai("firebase","12.4.0","app");const yi=["providerId"],vi=["uid","auth","stsTokenManager"],bi=["providerId","signInMethod"];function wi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Si=wi,ki=new On("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xi=new $n("@firebase/auth");function Ti(e){if(xi.logLevel<=Gn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xi.error("Auth (".concat(ni,"): ").concat(e),...n)}}function Ei(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ai(e,...n)}function _i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ai(e,...n)}function Ii(e,t,n){const r=c(c({},Si()),{},{[t]:n});return new On("auth","Firebase",r).create(t,{appName:e.name})}function Ci(e){return Ii(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ni(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ei(e,"argument-error"),Ii(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ai(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ki.create(e,...n)}function Di(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ai(t,...r)}}function Oi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ti(t),new Error(t)}function Pi(e,t){e||Oi(t)}function Ri(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Li(){return"http:"===ji()||"https:"===ji()}function ji(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Mi(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Li()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Fi{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Mi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zi(e,t){Pi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Vi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ui={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bi=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Hi=new Fi(3e4,6e4);function qi(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function Ki(e,t,n,r){return Wi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=jn(c({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&kn(e.emulatorConfig.host)&&(l.credentials="include"),Vi.fetch()(await Qi(e,e.config.apiHost,n,o),l)})}async function Wi(e,t,n){e._canInitEmulator=!1;const r=c(c({},Ui),t);try{const t=new Xi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ji(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ji(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Ji(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Ji(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Ii(e,s,o);Ei(e,s)}}catch(i){if(i instanceof Dn)throw i;Ei(e,"network-request-failed",{message:String(i)})}}async function Gi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await Ki(e,t,n,r,i);return"mfaPendingCredential"in a&&Ei(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function Qi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,o=a.config.emulator?zi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Bi.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function Yi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(_i(this.auth,"network-request-failed")),Hi.get())})}}function Ji(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_i(e,t,r);return i.customData._tokenResponse=n,i}function $i(e){return void 0!==e&&void 0!==e.enterprise}class Zi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ea(e,t){return Ki(e,"GET","/v2/recaptchaConfig",qi(e,t))}async function ta(e,t){return Ki(e,"POST","/v1/accounts:lookup",t)}function na(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function ra(e){return 1e3*Number(e)}function ia(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ti("JWT malformed, contained fewer than 3 sections"),null;try{const e=mn(n);return e?JSON.parse(e):(Ti("Failed to decode base64 JWT payload"),null)}catch(i){return Ti("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function aa(e){const t=ia(e);return Di(t,"internal-error"),Di("undefined"!==typeof t.exp,"internal-error"),Di("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function oa(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Dn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class sa{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class la{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ca(e){var t;const n=e.auth,r=await e.getIdToken(),i=await oa(e,ta(n,{idToken:r}));Di(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?ua(a.providerUserInfo):[],s=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null!==s&&void 0!==s&&s.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new la(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function ua(e){return e.map(e=>{let{providerId:t}=e,n=gi(e,yi);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Di(e.idToken,"internal-error"),Di("undefined"!==typeof e.idToken,"internal-error"),Di("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):aa(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Di(0!==e.length,"internal-error");const t=aa(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Di(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Wi(e,{},async()=>{const n=jn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await Qi(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&kn(e.emulatorConfig.host)&&(s.credentials="include"),Vi.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new da;return n&&(Di("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Di("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Di("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Oi("not implemented")}}function ha(e,t){Di("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class fa{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=gi(e,vi);this.providerId="firebase",this.proactiveRefresh=new sa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new la(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await oa(this,this.stsTokenManager.getToken(this.auth,e));return Di(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Un(e),r=await n.getIdToken(t),i=ia(r);Di(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:na(ra(i.auth_time)),issuedAtTime:na(ra(i.iat)),expirationTime:na(ra(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Un(e);await ca(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Di(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fa(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Di(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ca(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await oa(this,async function(e,t){return Ki(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,y=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:k,stsTokenManager:x}=t;Di(b&&x,e,"internal-error");const T=da.fromJSON(this.name,x);Di("string"===typeof b,e,"internal-error"),ha(d,e.name),ha(h,e.name),Di("boolean"===typeof w,e,"internal-error"),Di("boolean"===typeof S,e,"internal-error"),ha(f,e.name),ha(p,e.name),ha(m,e.name),ha(g,e.name),ha(y,e.name),ha(v,e.name);const E=new fa({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:T,createdAt:y,lastLoginAt:v});return k&&Array.isArray(k)&&(E.providerData=k.map(e=>c({},e))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new da;r.updateFromServerResponse(t);const i=new fa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ca(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Di(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ua(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),o=new da;o.updateFromIdToken(n);const s=new fa({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new la(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(s,l),s}}const pa=new Map;function ma(e){Pi(e instanceof Function,"Expected a class definition");let t=pa.get(e);return t?(Pi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pa.set(e,t),t)}class ga{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ga.type="NONE";const ya=ga;function va(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ba{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=va(this.userKey,r.apiKey,i),this.fullPersistenceKey=va("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await ta(this.auth,{idToken:e}).catch(()=>{});return t?fa._fromGetAccountInfoResponse(this.auth,t,e):null}return fa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ba(ma(ya),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||ma(ya);const a=va(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await ta(e,{idToken:t}).catch(()=>{});if(!r)break;n=await fa._fromGetAccountInfoResponse(e,r,t)}else n=fa._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new ba(i,e,n)):new ba(i,e,n)}}function wa(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ta(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Sa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_a(t))return"Blackberry";if(Ia(t))return"Webos";if(ka(t))return"Safari";if((t.includes("chrome/")||xa(t))&&!t.includes("edge/"))return"Chrome";if(Ea(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Sa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();return/firefox\//i.test(e)}function ka(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:In()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();return/crios\//i.test(e)}function Ta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();return/iemobile/i.test(e)}function Ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();return/android/i.test(e)}function _a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();return/blackberry/i.test(e)}function Ia(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();return/webos/i.test(e)}function Ca(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Na(){return function(){const e=In();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Aa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In();return Ca(e)||Ea(e)||Ia(e)||_a(e)||/windows phone/i.test(e)||Ta(e)}function Da(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wa(In());break;case"Worker":t="".concat(wa(In()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ni,"/").concat(r)}class Oa{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Pa{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ra{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ja(this),this.idTokenSubscription=new ja(this),this.beforeStateQueue=new Oa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ki,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ma(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ta(this,{idToken:e}),n=await fa._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null===(a=n)||void 0===a?void 0:a._redirectEventId,s=await this.tryRedirectSignIn(e);t&&t!==o||null===s||void 0===s||!s.user||(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Di(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ca(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(Ci(this));const t=e?Un(e):null;return t&&Di(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Di(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ma(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ki(e,"GET","/v2/passwordPolicy",qi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Pa(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new On("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ki(e,"POST","/v2/accounts:revokeToken",qi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ma(e)||this._popupRedirectResolver;Di(t,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[ma(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Di(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Di(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Da(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(xi.logLevel<=Gn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];xi.warn("Auth (".concat(ni,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function La(e){return Un(e)}class ja{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new zn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Di(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ma={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fa(e){return Ma.loadJS(e)}function za(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Va{constructor(){this.enterprise=new Ua}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ua{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ba="NO_RECAPTCHA";class Ha{constructor(e){this.type="recaptcha-enterprise",this.auth=La(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;$i(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ba)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Va).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ea(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Zi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&$i(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ma.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Fa(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function qa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Ha(e);let o;if(i)o=Ba;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Ka(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await qa(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await qa(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var o;if(null!==(o=e._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("PHONE_PROVIDER")){const i=await qa(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await qa(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await qa(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Wa(e){const t=La(e),n=await ea(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Zi(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Ha(t).verify()}}function Ga(e,t,n){const r=La(e);Di(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=Qa(t),{host:o,port:s}=function(e){const t=Qa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ya(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ya(t)}}}(t),l=null===s?"":":".concat(s),c={url:"".concat(a,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Di(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Di(Rn(c,r.config.emulator)&&Rn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,kn(o)?(xn("".concat(a,"//").concat(o).concat(l)),_n("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qa(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ya(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Xa{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function Ja(e,t){return Ki(e,"POST","/v1/accounts:signUp",t)}async function $a(e,t){return Gi(e,"POST","/v1/accounts:signInWithPassword",qi(e,t))}class Za extends Xa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Za(e,t,"password")}static _fromEmailAndCode(e,t){return new Za(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ka(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$a,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Gi(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ka(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ja,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Gi(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eo(e,t){return Gi(e,"POST","/v1/accounts:signInWithIdp",qi(e,t))}class to extends Xa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ei("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=gi(t,bi);if(!n||!r)return null;const a=new to(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return eo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,eo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,eo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jn(t)}return e}}async function no(e,t){return Ki(e,"POST","/v1/accounts:sendVerificationCode",qi(e,t))}const ro={USER_NOT_FOUND:"user-not-found"};class io extends Xa{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new io({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new io({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Gi(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Gi(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,t));if(n.temporaryProof)throw Ji(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Gi(e,"POST","/v1/accounts:signInWithPhoneNumber",qi(e,c(c({},t),{},{operation:"REAUTH"})),ro)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new io({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ao{constructor(e){var t,n,r,i,a,o;const s=Mn(Fn(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Di(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Mn(Fn(e)).link,n=t?Mn(Fn(t)).deep_link_id:null,r=Mn(Fn(e)).deep_link_id;return(r?Mn(Fn(r)).link:null)||r||n||t||e}(e);try{return new ao(t)}catch(n){return null}}}class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(e,t){return Za._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ao.parseLink(t);return Di(n,"argument-error"),Za._fromEmailAndCode(e,n.code,n.tenantId)}}oo.PROVIDER_ID="password",oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class so{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lo extends so{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class co extends lo{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return co.credential(t.oauthAccessToken)}catch(n){return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com",co.PROVIDER_ID="facebook.com";class uo extends lo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return to._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return uo.credential(n,r)}catch(i){return null}}}uo.GOOGLE_SIGN_IN_METHOD="google.com",uo.PROVIDER_ID="google.com";class ho extends lo{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ho.credential(t.oauthAccessToken)}catch(n){return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com",ho.PROVIDER_ID="github.com";class fo extends lo{constructor(){super("twitter.com")}static credential(e,t){return to._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fo.credential(n,r)}catch(i){return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com",fo.PROVIDER_ID="twitter.com";class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await fa._fromIdTokenResponse(e,n,r),a=mo(n);return new po({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=mo(n);return new po({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function mo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class go extends Dn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,go.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new go(e,t,n,r)}}function yo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw go._fromErrorAndOperation(e,n,t,r);throw n})}async function vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await oa(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return po._forOperation(e,"link",r)}async function bo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Zr(r.app))return Promise.reject(Ci(r));const i="reauthenticate";try{const a=await oa(e,yo(r,i,t,e),n);Di(a.idToken,r,"internal-error");const o=ia(a.idToken);Di(o,r,"internal-error");const{sub:s}=o;return Di(e.uid===s,r,"user-mismatch"),po._forOperation(e,i,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&Ei(r,"user-mismatch"),a}}async function wo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Zr(e.app))return Promise.reject(Ci(e));const r="signIn",i=await yo(e,r,t),a=await po._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function So(e,t){return Ki(e,"POST","/v2/accounts/mfaEnrollment:start",qi(e,t))}new WeakMap;const ko="__sak";class xo{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class To extends xo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Aa(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Na()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}To.type="LOCAL";const Eo=To;function _o(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Io(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Co{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Io(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return _o(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Io(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Io(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=_o(n);const i=setInterval(()=>{const e=_o(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Co.type="COOKIE";class No extends xo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}No.type="SESSION";const Ao=No;class Do{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Do(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Oo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Do.receivers=[];class Po{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=Oo("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Ro(){return window}function Lo(){return"undefined"!==typeof Ro().WorkerGlobalScope&&"function"===typeof Ro().importScripts}const jo="firebaseLocalStorageDb",Mo="firebaseLocalStorage",Fo="fbase_key";class zo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vo(e,t){return e.transaction([Mo],t?"readwrite":"readonly").objectStore(Mo)}function Uo(){const e=indexedDB.open(jo,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Mo,{keyPath:Fo})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Mo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(jo);return new zo(e).toPromise()}(),t(await Uo()))})})}async function Bo(e,t,n){const r=Vo(e,!0).put({[Fo]:t,value:n});return new zo(r).toPromise()}function Ho(e,t){const n=Vo(e,!0).delete(t);return new zo(n).toPromise()}class qo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Uo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lo()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Do._getInstance(Lo()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Po(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uo();return await Bo(e,ko,"1"),await Ho(e,ko),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bo(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Vo(e,!1).get(t),r=await new zo(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ho(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Vo(e,!1).getAll();return new zo(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}qo.type="LOCAL";const Ko=qo;function Wo(e,t){return Ki(e,"POST","/v2/accounts/mfaSignIn:start",qi(e,t))}za("rcb"),new Fi(3e4,6e4);const Go="recaptcha";async function Qo(e,t,n){if(!e._getRecaptchaConfig())try{await Wa(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Di("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=Ka(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ba){Di((null===n||void 0===n?void 0:n.type)===Go,e,"argument-error");return So(e,await Yo(e,t,n))}return So(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Di("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Di(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Ka(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ba){Di((null===n||void 0===n?void 0:n.type)===Go,e,"argument-error");return Wo(e,await Yo(e,t,n))}return Wo(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ka(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ba){Di((null===n||void 0===n?void 0:n.type)===Go,e,"argument-error");return no(e,await Yo(e,t,n))}return no(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Yo(e,t,n){Di(n.type===Go,e,"argument-error");const r=await n.verify();Di("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Xo{constructor(e){this.providerId=Xo.PROVIDER_ID,this.auth=La(e)}verifyPhoneNumber(e,t){return Qo(this.auth,e,Un(t))}static credential(e,t){return io._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Xo.credentialFromTaggedObject(t)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?io._fromTokenResponse(n,r):null}}function Jo(e,t){return t?ma(t):(Di(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xo.PROVIDER_ID="phone",Xo.PHONE_SIGN_IN_METHOD="phone";class $o extends Xa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zo(e){return wo(e.auth,new $o(e),e.bypassAuthState)}function es(e){const{auth:t,user:n}=e;return Di(n,t,"internal-error"),bo(n,new $o(e),e.bypassAuthState)}async function ts(e){const{auth:t,user:n}=e;return Di(n,t,"internal-error"),vo(n,new $o(e),e.bypassAuthState)}class ns{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zo;case"linkViaPopup":case"linkViaRedirect":return ts;case"reauthViaPopup":case"reauthViaRedirect":return es;default:Ei(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rs=new Fi(2e3,1e4);class is extends ns{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,is.currentPopupAction&&is.currentPopupAction.cancel(),is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Di(e,this.auth,"internal-error"),e}async onExecution(){Pi(1===this.filter.length,"Popup operations only handle one event");const e=Oo();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,rs.get())};e()}}is.currentPopupAction=null;const as=new Map;class os extends ns{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=as.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=cs(t),r=ls(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}as.set(this.auth._key(),e)}return this.bypassAuthState||as.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ss(e,t){as.set(e._key(),t)}function ls(e){return ma(e._redirectPersistence)}function cs(e){return va("pendingRedirect",e.config.apiKey,e.name)}async function us(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Zr(e.app))return Promise.reject(Ci(e));const r=La(e),i=Jo(r,t),a=new os(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class ds{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!fs(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_i(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hs(e))}saveEventToCache(e){this.cachedEventUids.add(hs(e)),this.lastProcessedEventTime=Date.now()}}function hs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function fs(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const ps=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ms=/^https?/;async function gs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ki(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ys(r))return}catch(n){}Ei(e,"unauthorized-domain")}function ys(e){const t=Ri(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ms.test(n))return!1;if(ps.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vs=new Fi(3e4,6e4);function bs(){const e=Ro().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ws(e){return new Promise((t,n)=>{var r,i;function a(){bs(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bs(),n(_i(e,"network-request-failed"))},timeout:vs.get()})}if(null!==(r=Ro().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Ro().gapi)||void 0===i||!i.load){const t=za("iframefcb");return Ro()[t]=()=>{gapi.load?a():n(_i(e,"network-request-failed"))},Fa("".concat(Ma.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Ss=null,e})}let Ss=null;const ks=new Fi(5e3,15e3),xs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ts=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Es(e){const t=e.config;Di(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?zi(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ni},i=Ts.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(jn(r).slice(1))}async function _s(e){const t=await function(e){return Ss=Ss||ws(e),Ss}(e),n=Ro().gapi;return Di(n,e,"internal-error"),t.open({where:document.body,url:Es(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xs,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=_i(e,"network-request-failed"),a=Ro().setTimeout(()=>{r(i)},ks.get());function o(){Ro().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const Is={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Cs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ns(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=c(c({},Is),{},{width:r.toString(),height:i.toString(),top:a,left:o}),u=In().toLowerCase();n&&(s=xa(u)?"_blank":n),Sa(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Ca(arguments.length>0&&void 0!==arguments[0]?arguments[0]:In())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Cs(null);const h=window.open(t||"",s,d);Di(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Cs(h)}const As="__/auth/handler",Ds="emulator/auth/handler",Os=encodeURIComponent("fac");async function Ps(e,t,n,r,i,a){Di(e.config.authDomain,e,"auth-domain-config-required"),Di(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ni,eventId:i};if(t instanceof so){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof lo){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Os,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(As);return zi(t,Ds)}(e),"?").concat(jn(s).slice(1)).concat(c)}const Rs="webStorageSupport";const Ls=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ao,this._completeRedirectFn=us,this._overrideRedirectResult=ss}async _openPopup(e,t,n,r){var i;Pi(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ns(e,await Ps(e,t,n,Ri(),r),Oo())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ro().location.href=e}(await Ps(e,t,n,Ri(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Pi(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await _s(e),n=new ds(e);return t.register("authEvent",t=>{Di(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rs,{type:Rs},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Rs];void 0!==i&&t(!!i),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Aa()||ka()||Ca()}};var js="@firebase/auth",Ms="1.11.0";class Fs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Di(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zs=wn("authIdTokenMaxAge")||300;let Vs=null;var Us;Ma={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=_i("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Us="Browser",Jr(new Bn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Di(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:Us,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Da(Us)},c=new Ra(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ma);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Jr(new Bn("auth-internal",e=>(e=>new Fs(e))(La(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),ai(js,Ms,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Us)),ai(js,Ms,"esm2020");var Bs,Hs,qs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ks={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a,o=e.g[3];a=t+(o^n&(i^o))+r[0]+3614090360&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[3]+3250441966&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[4]+4118548399&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[7]+4249261313&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[8]+1770035416&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[11]+2304563134&4294967295,a=t+(o^(n=i+(a<<22&4294967295|a>>>10))&(i^o))+r[12]+1804603682&4294967295,a=o+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(a<<12&4294967295|a>>>20),a=i+(n^o&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=o+(a<<17&4294967295|a>>>15))&(o^t))+r[15]+1236535329&4294967295,a=t+(i^o&((n=i+(a<<22&4294967295|a>>>10))^i))+r[1]+4129170786&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[11]+643717713&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[0]+3921069994&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[5]+3593408605&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[15]+3634488961&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[4]+3889429448&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[9]+568446438&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[3]+4107603335&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[8]+1163531501&4294967295,a=t+(i^o&((n=i+(a<<20&4294967295|a>>>12))^i))+r[13]+2850285829&4294967295,a=o+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,o=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(o^t))+r[7]+1735328473&4294967295,a=n+(o^t&((i=o+(a<<14&4294967295|a>>>18))^o))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^o)+r[5]+4294588738&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[11]+1839030562&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[1]+2763975236&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[7]+4139469664&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[13]+681279174&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[3]+3572445317&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^o)+r[9]+3654602809&4294967295,a=o+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(a<<11&4294967295|a>>>21),a=i+(o^t^n)+r[15]+530742520&4294967295,a=n+((i=o+(a<<16&4294967295|a>>>16))^o^t)+r[2]+3299628645&4294967295,a=t+(i^((n=i+(a<<23&4294967295|a>>>9))|~o))+r[0]+4096336452&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[14]+2878612391&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[12]+1700485571&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[10]+4293915773&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[8]+1873313359&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[6]+2734768916&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~o))+r[4]+4149444226&4294967295,a=o+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(a<<10&4294967295|a>>>22),a=i+(t^(o|~n))+r[2]+718787259&4294967295,a=n+(o^((i=o+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let a=this.h,o=0;for(;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function a(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(e<0)return h(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);c.l(e)<=0&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||c.l(e)>0;)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function v(e,t){const n=t>>5;t%=32;const i=e.g.length-n,a=[];for(let r=0;r<i;r++)a[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let a=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),a=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=a>>>16,t&=65535,a&=65535,n[r]=a<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,a=65535&this.i(i),o=e.i(t)>>>16,s=65535&e.i(t);n[2*i+2*t]+=a*s,p(n,2*i+2*t),n[2*i+2*t+1]+=r*s,p(n,2*i+2*t+1),n[2*i+2*t+1]+=a*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Hs=Ks.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=s;for(let s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s);const e=parseInt(t.substring(s,s+a),n);a<8?(a=o(Math.pow(n,a)),i=i.j(a).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},Bs=Ks.Integer=r}).apply("undefined"!==typeof qs?qs:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ws,Gs,Qs,Ys,Xs,Js,$s,Zs,el="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},tl={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof el&&el];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},a=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=s).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){a.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let v,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},S=()=>{const e=Promise.resolve(void 0);v=()=>{e.then(k)}};function k(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function x(){this.u=this.u,this.C=this.C}function T(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},T.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function I(e,t){T.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(I,T),I.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&I.Z.h.call(this)},I.prototype.h=function(){I.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var C="closure_listenable_"+(1e6*Math.random()|0),N=0;function A(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++N,this.da=this.fa=!1}function D(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function O(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<R.length;t++)n=R[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=a>=0)&&Array.prototype.splice.call(i,a,1),r&&(D(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}j.prototype.add=function(e,t,n,r,i){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const o=F(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new A(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),V={};function U(e,t,n,r,i){if(r&&r.once)return H(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)U(e,t[a],n,r,i);return null}return n=X(n),e&&e[C]?e.J(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");const s=o(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[z]=l=new j(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)E||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(W(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)H(e,t[a],n,r,i);return null}return n=X(n),e&&e[C]?e.K(t,n,o(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function q(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)q(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=X(n),e&&e[C]?(e=e.i,(a=String(t).toString())in e.g&&((n=F(t=e.g[a],n,r,i))>-1&&(D(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&K(n))}function K(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[C])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(W(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[z]=null)):D(e)}}}function W(e){return e in V?V[e]:V[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new I(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&K(e),e=n.call(r,t)}return e}function Q(e){return(e=e[z])instanceof j?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function J(){x.call(this),this.i=new j(this),this.M=this,this.G=null}function $(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new T(t,e);else if(t instanceof T)t.target=t.target||e;else{var i=t;L(t=new T(r,e),i)}let a,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=Z(a,r,!0,t)&&i;if(a=t.g=e,i=Z(a,r,!0,t)&&i,i=Z(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Z(a,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){const o=t[a];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&M(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(J,x),J.prototype[C]=!0,J.prototype.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},J.prototype.N=function(){if(J.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)D(n[e]);delete e.g[t],e.h--}}this.G=null},J.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},J.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends x{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){x.call(this),this.h=e,this.g={}}u(ne,x);var re=[];function ie(e){O(e.g,function(e,t){this.g.hasOwnProperty(t)&&K(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=a.JSON.stringify,oe=a.JSON.parse,se=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){T.call(this,"d")}function he(){T.call(this,"c")}u(de,T),u(he,T);var fe={},pe=null;function me(){return pe=pe||new J}function ge(e){T.call(this,fe.Ia,e)}function ye(e){const t=me();$(t,new ge(t))}function ve(e,t){T.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();$(t,new ve(t,e))}function we(e,t){T.call(this,fe.Ja,e),this.size=t}function Se(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function ke(){this.g=!0}function xe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ae(a)}catch(a){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,T),fe.STAT_EVENT="statevent",u(ve,T),fe.Ja="timingevent",u(we,T),ke.prototype.ua=function(){this.g=!1},ke.prototype.info=function(){};var Te,Ee={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_e={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ie(){}function Ce(e){return encodeURIComponent(String(e))}function Ne(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ae(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}u(Ie,le),Ie.prototype.g=function(){return new XMLHttpRequest},Te=new Ie;var Oe={},Pe={};function Re(e,t,n){e.M=1,e.A=at(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new De,e.g=on(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let a=0;a<i.length;a++){const e=U(n,i[a],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?P(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ye(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o="",s=a.split("&");for(let e=0;e<s.length;e++){var l=s[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function je(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pe:(n=Number(t.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>t.length?Pe:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,ze(e,e.H)}function ze(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Se(l(e.aa,e),t)}function Ve(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function He(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Ht(n)}Xt(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Se(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!_(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ye(a,a.h),a.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=an(r,r.L?r.ba:null,r.W),o.L){Xe(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(Ve(s),Fe(s)),r.g=o}else Yt(r);n.i.length>0&&Kt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ye()}catch(u){}}Ae.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Ae.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||4!=l||7==c||ye(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!je(e))return e.g.la();const t=zt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),Ue(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,be(12),Be(this),Ue(this);break e}xe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==Pe){4==l&&(this.m=4,be(14),e=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(t==Oe){this.m=4,be(15),xe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}xe(this.i,this.l,t,null),He(this,t)}if(je(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var s=this.j;s.g==this&&s.aa&&!s.P&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(s),s.P=!0,be(11))}}else xe(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ue(this)}else xe(this.i,this.l,n,null),He(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(_(e[r]))continue;var n=Ne(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ue(this)}}}catch(Ll){}},Ae.prototype.cancel=function(){this.K=!0,Be(this)},Ae.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ye(),be(17)),Be(this),this.m=2,Ue(this)):ze(this,this.T-e)};var qe=class{constructor(e,t){this.g=e,this.map=t}};function Ke(e){this.l=e||10,a.PerformanceNavigationTiming?e=(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function We(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Je(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}Ke.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var $e=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match($e))?(this.l=!1,tt(this,t[1]||"",!0),this.o=ot(t[2]||""),this.g=ot(t[3]||"",!0),nt(this,t[4]),this.h=ot(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=ot(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?ot(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function at(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ot(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,ct,!0),"@"),e.push(Ce(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yt(e,t){return mt(e),t=St(e,t),e.g.has(t)}function vt(e,t){mt(e);let n=[];if("string"===typeof t)yt(e,t)&&(n=n.concat(e.g.get(St(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function xt(){this.g=new se}function Tt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Et(e,t){J.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function _t(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ct(e)}function Ct(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return O(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function At(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"===typeof e?null!=n&&Ce(n):it(e,t,n))}function Dt(e){J.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=St(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,yt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=vt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ce(n);n=vt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ce(n[t])),e.push(r)}}return this.i=e.join("&")},u(Tt,le),Tt.prototype.g=function(){return new Et(this.i,this.h)},u(Et,J),(e=Et.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ct(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ct(this)),this.g&&(this.readyState=3,Ct(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_t(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Ct(this),3==this.readyState&&_t(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Na=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Et.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Dt,J);var Ot=/^https?$/i,Pt=["POST","PUT"];function Rt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Lt(e),Mt(e)}function Lt(e){e.A||(e.A=!0,$(e,"complete"),$(e,"error"))}function jt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if($(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match($e)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!Ot.test(t?t.toLowerCase():"")}n=r}if(n)$(e,"complete"),$(e,"success");else{e.o=6;try{var o=Ft(e)>2?e.g.statusText:""}catch(s){o=""}e.l=o+" ["+e.ca()+"]",Lt(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||$(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function zt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ut(e){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new Ke(e&&e.concurrentRequestLimit),this.Ba=new xt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(qt(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Ae(e,e.j,t)).M=2,t.A=at(et(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=on(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function Ht(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function qt(e){Ht(e),e.v&&(a.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function Kt(e){if(!We(e.h)&&!e.m){e.m=!0;var t=e.Ea;v||S(),b||(v(),b=!0),w.add(t,e),e.D=0}}function Wt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&At(r,e.u,e.o),n=new Ae(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Re(n,r,t)}function Gt(e,t){e.H&&O(e.H,function(e,n){it(t,n,e)}),e.l&&O({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var a=i[c].g;const n=i[c].map;if((a-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{a="req"+a+"_"||0;try{var s=n instanceof Map?n:Object.entries(n);for(const[t,n]of s){let r=n;o(n)&&(r=ae(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(rl){throw e.push(a+"type="+encodeURIComponent("_badmap")),rl}}catch(rl){r&&r(n)}}if(l){s=e.join("&");break e}}s=void 0}return e=e.i.splice(0,n),t.G=e,s}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;v||S(),b||(v(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Se(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function $t(e){e.g=new Ae(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&At(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=at(et(t)),n.u=null,n.R=!0,Le(n,e)}function Zt(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),Jt(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;$(r=me(),new we(r,n)),Kt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Se(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||tt(r,"https"),at(r),t?function(e,t){const n=new ke;if(a.Image){const r=new Image;r.onload=c(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(kt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout(()=>{n.abort(),kt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)}).catch(()=>{clearTimeout(r),kt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),qt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Je(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function an(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function on(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Dt(new Tt({ab:n})):new Dt(e.ma)).Fa(e.L),t}function sn(){}function ln(){}function cn(e,t){J.call(this),this.g=new Ut(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!_(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Dt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Te.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Rt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(Pt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Rt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,$(this,"complete"),$(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),Dt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?jt(this):this.Xa())},e.Xa=function(){jt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),oe(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Ut.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=an(this,null,this.W),Kt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ae(this,this.j,e);let a=this.o;if(this.U&&(a?(a=P(a),L(a,this.U)):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),a&&(this.R?t="headers="+Ce(Nt(a))+"&"+t:this.u&&At(n,this.u,a)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Re(i,n,null)):Re(i,n,t),this.I=2}}else 3==this.I&&(e?Wt(this,e):0==this.i.length||We(this.h)||Wt(this))},e.Da=function(){if(this.v=null,$t(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Se(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ht(this),$t(this))},e.Va=function(){null!=this.C&&(this.C=null,Ht(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,J),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ae(e),e=n);t.i.push(new qe(t.Ya++,e)),3==t.I&&Kt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,sn),hn.prototype.ra=function(){$(this.g,"a")},hn.prototype.qa=function(e){$(this.g,new un(e))},hn.prototype.pa=function(e){$(this.g,new dn)},hn.prototype.oa=function(){$(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Zs=tl.createWebChannelTransport=function(){return new ln},$s=tl.getStatEventTarget=function(){return me()},Js=tl.Event=fe,Xs=tl.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Ys=tl.ErrorCode=Ee,_e.COMPLETE="complete",Qs=tl.EventType=_e,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",J.prototype.listen=J.prototype.J,Gs=tl.WebChannel=ce,tl.FetchXmlHttpFactory=Tt,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,Ws=tl.XhrIo=Dt}).apply("undefined"!==typeof el?el:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const nl="@firebase/firestore",rl="4.9.2";class il{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}il.UNAUTHENTICATED=new il(null),il.GOOGLE_CREDENTIALS=new il("google-credentials-uid"),il.FIRST_PARTY=new il("first-party-uid"),il.MOCK_USER=new il("mock-user");let al="12.3.0";const ol=new $n("@firebase/firestore");function sl(){return ol.logLevel}function ll(e){if(ol.logLevel<=Gn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dl);ol.debug("Firestore (".concat(al,"): ").concat(e),...i)}}function cl(e){if(ol.logLevel<=Gn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dl);ol.error("Firestore (".concat(al,"): ").concat(e),...i)}}function ul(e){if(ol.logLevel<=Gn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dl);ol.warn("Firestore (".concat(al,"): ").concat(e),...i)}}function dl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function hl(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,fl(e,r,n)}function fl(e,t,n){let r="FIRESTORE (".concat(al,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw cl(r),new Error(r)}function pl(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||fl(t,i,r)}function ml(e,t){return e}const gl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yl extends Dn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class vl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class wl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(il.UNAUTHENTICATED))}shutdown(){}}class Sl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kl{constructor(e){this.t=e,this.currentUser=il.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pl(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new vl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vl,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{ll("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ll("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vl)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(ll("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(pl("string"==typeof t.accessToken,31837,{l:t}),new bl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pl(null===e||"string"==typeof e,2055,{h:e}),new il(e)}}class xl{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=il.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tl{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new xl(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(il.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class El{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _l{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pl(void 0===this.o,3512);const n=e=>{null!=e.error&&ll("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,ll("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{ll("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):ll("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new El(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(pl("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new El(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Il(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Cl{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Il(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Nl(e,t){return e<t?-1:e>t?1:0}function Al(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Pl(n)===Pl(i)?Nl(n,i):Pl(n)?1:-1}return Nl(e.length,t.length)}const Dl=55296,Ol=57343;function Pl(e){const t=e.charCodeAt(0);return t>=Dl&&t<=Ol}function Rl(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ll="__name__";class jl{constructor(e,t,n){void 0===t?t=0:t>e.length&&hl(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&hl(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===jl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=jl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Nl(e.length,t.length)}static compareSegments(e,t){const n=jl.isNumericId(e),r=jl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?jl.extractNumericId(e).compare(jl.extractNumericId(t)):Al(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class Ml extends jl{construct(e,t,n){return new Ml(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new yl(gl.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Ml(e)}static emptyPath(){return new Ml([])}}const Fl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zl extends jl{construct(e,t,n){return new zl(e,t,n)}static isValidIdentifier(e){return Fl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Ll}static keyField(){return new zl([Ll])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new yl(gl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new yl(gl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yl(gl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new yl(gl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zl(t)}static emptyPath(){return new zl([])}}class Vl{constructor(e){this.path=e}static fromPath(e){return new Vl(Ml.fromString(e))}static fromName(e){return new Vl(Ml.fromString(e).popFirst(5))}static empty(){return new Vl(Ml.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ml.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ml.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vl(new Ml(e.slice()))}}function Ul(e,t,n){if(!n)throw new yl(gl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Bl(e){if(!Vl.isDocumentKey(e))throw new yl(gl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Hl(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function ql(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":hl(12329,{type:typeof e})}function Kl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yl(gl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ql(e);throw new yl(gl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Wl(e,t){const n={typeString:e};return t&&(n.value=t),n}function Gl(e,t){if(!Hl(e))throw new yl(gl.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const o=e[r];if(i&&typeof o!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&o!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new yl(gl.INVALID_ARGUMENT,n);return!0}const Ql=-62135596800,Yl=1e6;class Xl{static now(){return Xl.fromMillis(Date.now())}static fromDate(e){return Xl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Yl);return new Xl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yl(gl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yl(gl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ql)throw new yl(gl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yl(gl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yl}_compareTo(e){return this.seconds===e.seconds?Nl(this.nanoseconds,e.nanoseconds):Nl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gl(e,Xl._jsonSchema))return new Xl(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ql;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xl._jsonSchemaVersion="firestore/timestamp/1.0",Xl._jsonSchema={type:Wl("string",Xl._jsonSchemaVersion),seconds:Wl("number"),nanoseconds:Wl("number")};class Jl{static fromTimestamp(e){return new Jl(e)}static min(){return new Jl(new Xl(0,0))}static max(){return new Jl(new Xl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $l=-1;class Zl{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Zl.UNKNOWN_ID=-1;function ec(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Jl.fromTimestamp(1e9===r?new Xl(n+1,0):new Xl(n,r));return new nc(i,Vl.empty(),t)}function tc(e){return new nc(e.readTime,e.key,$l)}class nc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new nc(Jl.min(),Vl.empty(),$l)}static max(){return new nc(Jl.max(),Vl.empty(),$l)}}function rc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Vl.comparator(e.documentKey,t.documentKey),0!==n?n:Nl(e.largestBatchId,t.largestBatchId))}const ic="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ac{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function oc(e){if(e.code!==gl.FAILED_PRECONDITION||e.message!==ic)throw e;ll("LocalStore","Unexpectedly lost primary lease")}class sc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hl(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new sc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof sc?t:sc.resolve(t)}catch(e){return sc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):sc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):sc.reject(t)}static resolve(e){return new sc((t,n)=>{t(e)})}static reject(e){return new sc((t,n)=>{n(e)})}static waitFor(e){return new sc((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=sc.resolve(!1);for(const n of e)t=t.next(e=>e?sc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new sc((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new sc((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function lc(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cc(e){return"IndexedDbTransactionError"===e.name}class uc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uc.ce=-1;const dc=-1;function hc(e){return null==e}function fc(e){return 0===e&&1/e==-1/0}function pc(e){return"number"==typeof e&&Number.isInteger(e)&&!fc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const mc="\x01";function gc(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=vc(t)),t=yc(e.get(n),t);return vc(t)}function yc(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case mc:n+="\x01\x11";break;default:n+=t}}return n}function vc(e){return e+mc+"\x01"}const bc="remoteDocuments",wc="owner",Sc="mutationQueues",kc="mutations";const xc="documentMutations",Tc="remoteDocumentsV14",Ec="remoteDocumentGlobal",_c="targets",Ic="targetDocuments",Cc="targetGlobal",Nc="collectionParents",Ac="clientMetadata",Dc="bundles",Oc="namedQueries",Pc="indexConfiguration",Rc="indexState",Lc="indexEntries",jc="documentOverlays",Mc="globals",Fc=[Sc,kc,xc,bc,_c,wc,Cc,Ic,Ac,Ec,Nc,Dc,Oc],zc=[Sc,kc,xc,Tc,_c,wc,Cc,Ic,Ac,Ec,Nc,Dc,Oc,jc],Vc=zc,Uc=[...Vc,Pc,Rc,Lc];function Bc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Kc{constructor(e,t){this.comparator=e,this.root=t||Gc.EMPTY}insert(e,t){return new Kc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gc.BLACK,null,null))}remove(e){return new Kc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Gc.RED,this.left=null!=r?r:Gc.EMPTY,this.right=null!=i?i:Gc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Gc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Gc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hl(43730,{key:this.key,value:this.value});if(this.right.isRed())throw hl(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw hl(27949);return e+(this.isRed()?0:1)}}Gc.EMPTY=null,Gc.RED=!0,Gc.BLACK=!1,Gc.EMPTY=new class{constructor(){this.size=0}get key(){throw hl(57766)}get value(){throw hl(16141)}get color(){throw hl(16727)}get left(){throw hl(29726)}get right(){throw hl(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Gc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qc{constructor(e){this.comparator=e,this.data=new Kc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yc(this.data.getIterator())}getIteratorFrom(e){return new Yc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Qc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qc(this.comparator);return t.data=e,t}}class Yc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xc{constructor(e){this.fields=e,e.sort(zl.comparator)}static empty(){return new Xc([])}unionWith(e){let t=new Qc(zl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Xc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Jc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $c{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Jc("Invalid base64 string: "+e):e}}(e);return new $c(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new $c(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$c.EMPTY_BYTE_STRING=new $c("");const Zc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eu(e){if(pl(!!e,39018),"string"==typeof e){let t=0;const n=Zc.exec(e);if(pl(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:tu(e.seconds),nanos:tu(e.nanos)}}function tu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function nu(e){return"string"==typeof e?$c.fromBase64String(e):$c.fromUint8Array(e)}const ru="server_timestamp",iu="__type__",au="__previous_value__",ou="__local_write_time__";function su(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[iu])||void 0===t?void 0:t.stringValue)===ru}function lu(e){const t=e.mapValue.fields[au];return su(t)?lu(t):t}function cu(e){const t=eu(e.mapValue.fields[ou].timestampValue);return new Xl(t.seconds,t.nanos)}class uu{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const du="(default)";class hu{constructor(e,t){this.projectId=e,this.database=t||du}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===du}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}const fu="__type__",pu="__max__",mu={mapValue:{fields:{__type__:{stringValue:pu}}}},gu="__vector__",yu="value";function vu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?su(e)?4:Ru(e)?9007199254740991:Ou(e)?10:11:hl(28295,{value:e})}function bu(e,t){if(e===t)return!0;const n=vu(e);if(n!==vu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cu(e).isEqual(cu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=eu(e.timestampValue),r=eu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return nu(e.bytesValue).isEqual(nu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return tu(e.geoPointValue.latitude)===tu(t.geoPointValue.latitude)&&tu(e.geoPointValue.longitude)===tu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tu(e.integerValue)===tu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=tu(e.doubleValue),r=tu(t.doubleValue);return n===r?fc(n)===fc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Rl(e.arrayValue.values||[],t.arrayValue.values||[],bu);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bc(n)!==Bc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bu(n[i],r[i])))return!1;return!0}(e,t);default:return hl(52216,{left:e})}}function wu(e,t){return void 0!==(e.values||[]).find(e=>bu(e,t))}function Su(e,t){if(e===t)return 0;const n=vu(e),r=vu(t);if(n!==r)return Nl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=tu(e.integerValue||e.doubleValue),r=tu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ku(e.timestampValue,t.timestampValue);case 4:return ku(cu(e),cu(t));case 5:return Al(e.stringValue,t.stringValue);case 6:return function(e,t){const n=nu(e),r=nu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Nl(n[i],r[i]);if(0!==e)return e}return Nl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Nl(tu(e.latitude),tu(t.latitude));return 0!==n?n:Nl(tu(e.longitude),tu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return xu(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o[yu])||void 0===n?void 0:n.arrayValue,c=null===(r=s[yu])||void 0===r?void 0:r.arrayValue,u=Nl((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:xu(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===mu.mapValue&&t===mu.mapValue)return 0;if(e===mu.mapValue)return 1;if(t===mu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Al(r[o],a[o]);if(0!==e)return e;const t=Su(n[r[o]],i[a[o]]);if(0!==t)return t}return Nl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw hl(23264,{he:n})}}function ku(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Nl(e,t);const n=eu(e),r=eu(t),i=Nl(n.seconds,r.seconds);return 0!==i?i:Nl(n.nanos,r.nanos)}function xu(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Su(n[i],r[i]);if(e)return e}return Nl(n.length,r.length)}function Tu(e){return Eu(e)}function Eu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=eu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return nu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Vl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Eu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Eu(e.fields[i]));return n+"}"}(e.mapValue):hl(61005,{value:e})}function _u(e){switch(vu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lu(e);return t?16+_u(t):16;case 5:return 2*e.stringValue.length;case 6:return nu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+_u(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Hc(e.fields,(e,n)=>{t+=e.length+_u(n)}),t}(e.mapValue);default:throw hl(13486,{value:e})}}function Iu(e){return!!e&&"integerValue"in e}function Cu(e){return!!e&&"arrayValue"in e}function Nu(e){return!!e&&"nullValue"in e}function Au(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Du(e){return!!e&&"mapValue"in e}function Ou(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[fu])||void 0===t?void 0:t.stringValue)===gu}function Pu(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Hc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Pu(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pu(e.arrayValue.values[n]);return t}return c({},e)}function Ru(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===pu}class Lu{constructor(e){this.value=e}static empty(){return new Lu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Du(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=zl.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Pu(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Du(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Hc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Lu(Pu(this.value))}}function ju(e){const t=[];return Hc(e.fields,(e,n)=>{const r=new zl([e]);if(Du(n)){const e=ju(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Xc(t)}class Mu{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Mu(e,0,Jl.min(),Jl.min(),Jl.min(),Lu.empty(),0)}static newFoundDocument(e,t,n,r){return new Mu(e,1,t,Jl.min(),n,r,0)}static newNoDocument(e,t){return new Mu(e,2,t,Jl.min(),Jl.min(),Lu.empty(),0)}static newUnknownDocument(e,t){return new Mu(e,3,t,Jl.min(),Jl.min(),Lu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Jl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Fu{constructor(e,t){this.position=e,this.inclusive=t}}function zu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Vl.comparator(Vl.fromName(o.referenceValue),n.key):Su(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Vu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!bu(e.position[n],t.position[n]))return!1;return!0}class Uu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Bu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Hu{}class qu extends Hu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new $u(e,t,n):"array-contains"===t?new nd(e,n):"in"===t?new rd(e,n):"not-in"===t?new id(e,n):"array-contains-any"===t?new ad(e,n):new qu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Zu(e,n):new ed(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Su(t,this.value)):null!==t&&vu(this.value)===vu(t)&&this.matchesComparison(Su(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hl(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ku extends Hu{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ku(e,t)}matches(e){return Wu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wu(e){return"and"===e.op}function Gu(e){return Qu(e)&&Wu(e)}function Qu(e){for(const t of e.filters)if(t instanceof Ku)return!1;return!0}function Yu(e){if(e instanceof qu)return e.field.canonicalString()+e.op.toString()+Tu(e.value);if(Gu(e))return e.filters.map(e=>Yu(e)).join(",");{const t=e.filters.map(e=>Yu(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Xu(e,t){return e instanceof qu?function(e,t){return t instanceof qu&&e.op===t.op&&e.field.isEqual(t.field)&&bu(e.value,t.value)}(e,t):e instanceof Ku?function(e,t){return t instanceof Ku&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Xu(n,t.filters[r]),!0)}(e,t):void hl(19439)}function Ju(e){return e instanceof qu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Tu(e.value))}(e):e instanceof Ku?function(e){return e.op.toString()+" {"+e.getFilters().map(Ju).join(" ,")+"}"}(e):"Filter"}class $u extends qu{constructor(e,t,n){super(e,t,n),this.key=Vl.fromName(n.referenceValue)}matches(e){const t=Vl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Zu extends qu{constructor(e,t){super(e,"in",t),this.keys=td("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ed extends qu{constructor(e,t){super(e,"not-in",t),this.keys=td("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function td(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Vl.fromName(e.referenceValue))}class nd extends qu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cu(t)&&wu(t.arrayValue,this.value)}}class rd extends qu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wu(this.value.arrayValue,t)}}class id extends qu{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!wu(this.value.arrayValue,t)}}class ad extends qu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>wu(this.value.arrayValue,e))}}class od{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function sd(e){return new od(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ld(e){const t=ml(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Yu(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),hc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Tu(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Tu(e)).join(",")),t.Te=e}return t.Te}function cd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Bu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Xu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vu(e.startAt,t.startAt)&&Vu(e.endAt,t.endAt)}function ud(e){return Vl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class dd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hd(e,t,n,r,i,a,o,s){return new dd(e,t,n,r,i,a,o,s)}function fd(e){return new dd(e)}function pd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function md(e){return null!==e.collectionGroup}function gd(e){const t=ml(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Qc(zl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Uu(r,n))}),e.has(zl.keyField().canonicalString())||t.Ie.push(new Uu(zl.keyField(),n))}return t.Ie}function yd(e){const t=ml(e);return t.Ee||(t.Ee=vd(t,gd(e))),t.Ee}function vd(e,t){if("F"===e.limitType)return sd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Uu(e.field,t)});const n=e.endAt?new Fu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Fu(e.startAt.position,e.startAt.inclusive):null;return sd(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function bd(e,t,n){return new dd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wd(e,t){return cd(yd(e),yd(t))&&e.limitType===t.limitType}function Sd(e){return"".concat(ld(yd(e)),"|lt:").concat(e.limitType)}function kd(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Ju(e)).join(", "),"]")),hc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Tu(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Tu(e)).join(",")),"Target(".concat(t,")")}(yd(e)),"; limitType=").concat(e.limitType,")")}function xd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of gd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=zu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,gd(e),t))&&!(e.endAt&&!function(e,t,n){const r=zu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,gd(e),t))}(e,t)}function Td(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ed(e){return(t,n)=>{let r=!1;for(const i of gd(e)){const e=_d(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _d(e,t,n){const r=e.field.isKeyField()?Vl.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Su(r,i):hl(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hl(19790,{direction:e.dir})}}class Id{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return qc(this.inner)}size(){return this.innerSize}}const Cd=new Kc(Vl.comparator);function Nd(){return Cd}const Ad=new Kc(Vl.comparator);function Dd(){let e=Ad;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Od(e){let t=Ad;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Pd(){return Ld()}function Rd(){return Ld()}function Ld(){return new Id(e=>e.toString(),(e,t)=>e.isEqual(t))}const jd=new Kc(Vl.comparator),Md=new Qc(Vl.comparator);function Fd(){let e=Md;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const zd=new Qc(Nl);function Vd(){return zd}function Ud(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(t)?"-0":t}}function Bd(e){return{integerValue:""+e}}function Hd(e,t){return pc(t)?Bd(t):Ud(e,t)}class qd{constructor(){this._=void 0}}function Kd(e,t,n){return e instanceof Qd?function(e,t){const n={fields:{[iu]:{stringValue:ru},[ou]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&su(t)&&(t=lu(t)),t&&(n.fields[au]=t),{mapValue:n}}(n,t):e instanceof Yd?Xd(e,t):e instanceof Jd?$d(e,t):function(e,t){const n=Gd(e,t),r=eh(n)+eh(e.Ae);return Iu(n)&&Iu(e.Ae)?Bd(r):Ud(e.serializer,r)}(e,t)}function Wd(e,t,n){return e instanceof Yd?Xd(e,t):e instanceof Jd?$d(e,t):n}function Gd(e,t){return e instanceof Zd?function(e){return Iu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Qd extends qd{}class Yd extends qd{constructor(e){super(),this.elements=e}}function Xd(e,t){const n=th(t);for(const r of e.elements)n.some(e=>bu(e,r))||n.push(r);return{arrayValue:{values:n}}}class Jd extends qd{constructor(e){super(),this.elements=e}}function $d(e,t){let n=th(t);for(const r of e.elements)n=n.filter(e=>!bu(e,r));return{arrayValue:{values:n}}}class Zd extends qd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function eh(e){return tu(e.integerValue||e.doubleValue)}function th(e){return Cu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class nh{constructor(e,t){this.version=e,this.transformResults=t}}class rh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rh}static exists(e){return new rh(void 0,e)}static updateTime(e){return new rh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ah{}function oh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gh(e.key,rh.none()):new dh(e.key,e.data,rh.none());{const n=e.data,r=Lu.empty();let i=new Qc(zl.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new hh(e.key,r,new Xc(i.toArray()),rh.none())}}function sh(e,t,n){e instanceof dh?function(e,t,n){const r=e.value.clone(),i=ph(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hh?function(e,t,n){if(!ih(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ph(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lh(e,t,n,r){return e instanceof dh?function(e,t,n,r){if(!ih(e.precondition,t))return n;const i=e.value.clone(),a=mh(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hh?function(e,t,n,r){if(!ih(e.precondition,t))return n;const i=mh(e.fieldTransforms,r,t),a=t.data;return a.setAll(fh(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return ih(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ch(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Gd(r.transform,e||null);null!=i&&(null===n&&(n=Lu.empty()),n.set(r.field,i))}return n||null}function uh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Rl(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Yd&&t instanceof Yd||e instanceof Jd&&t instanceof Jd?Rl(e.elements,t.elements,bu):e instanceof Zd&&t instanceof Zd?bu(e.Ae,t.Ae):e instanceof Qd&&t instanceof Qd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dh extends ah{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class hh extends ah{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ph(e,t,n){const r=new Map;pl(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Wd(o,s,n[i]))}return r}function mh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Kd(e,a,t))}return r}class gh extends ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yh extends ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&sh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=lh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=lh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Rd();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=oh(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Jl.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fd())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(e,t)=>uh(e,t))&&Rl(this.baseMutations,e.baseMutations,(e,t)=>uh(e,t))}}class bh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){pl(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=jd;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new bh(e,t,n,r)}}class wh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Sh{constructor(e,t){this.count=e,this.unchangedNames=t}}var kh,xh;function Th(e){switch(e){case gl.OK:return hl(64938);case gl.CANCELLED:case gl.UNKNOWN:case gl.DEADLINE_EXCEEDED:case gl.RESOURCE_EXHAUSTED:case gl.INTERNAL:case gl.UNAVAILABLE:case gl.UNAUTHENTICATED:return!1;case gl.INVALID_ARGUMENT:case gl.NOT_FOUND:case gl.ALREADY_EXISTS:case gl.PERMISSION_DENIED:case gl.FAILED_PRECONDITION:case gl.ABORTED:case gl.OUT_OF_RANGE:case gl.UNIMPLEMENTED:case gl.DATA_LOSS:return!0;default:return hl(15467,{code:e})}}function Eh(e){if(void 0===e)return cl("GRPC error has no .code"),gl.UNKNOWN;switch(e){case kh.OK:return gl.OK;case kh.CANCELLED:return gl.CANCELLED;case kh.UNKNOWN:return gl.UNKNOWN;case kh.DEADLINE_EXCEEDED:return gl.DEADLINE_EXCEEDED;case kh.RESOURCE_EXHAUSTED:return gl.RESOURCE_EXHAUSTED;case kh.INTERNAL:return gl.INTERNAL;case kh.UNAVAILABLE:return gl.UNAVAILABLE;case kh.UNAUTHENTICATED:return gl.UNAUTHENTICATED;case kh.INVALID_ARGUMENT:return gl.INVALID_ARGUMENT;case kh.NOT_FOUND:return gl.NOT_FOUND;case kh.ALREADY_EXISTS:return gl.ALREADY_EXISTS;case kh.PERMISSION_DENIED:return gl.PERMISSION_DENIED;case kh.FAILED_PRECONDITION:return gl.FAILED_PRECONDITION;case kh.ABORTED:return gl.ABORTED;case kh.OUT_OF_RANGE:return gl.OUT_OF_RANGE;case kh.UNIMPLEMENTED:return gl.UNIMPLEMENTED;case kh.DATA_LOSS:return gl.DATA_LOSS;default:return hl(39323,{code:e})}}(xh=kh||(kh={}))[xh.OK=0]="OK",xh[xh.CANCELLED=1]="CANCELLED",xh[xh.UNKNOWN=2]="UNKNOWN",xh[xh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xh[xh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xh[xh.NOT_FOUND=5]="NOT_FOUND",xh[xh.ALREADY_EXISTS=6]="ALREADY_EXISTS",xh[xh.PERMISSION_DENIED=7]="PERMISSION_DENIED",xh[xh.UNAUTHENTICATED=16]="UNAUTHENTICATED",xh[xh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xh[xh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xh[xh.ABORTED=10]="ABORTED",xh[xh.OUT_OF_RANGE=11]="OUT_OF_RANGE",xh[xh.UNIMPLEMENTED=12]="UNIMPLEMENTED",xh[xh.INTERNAL=13]="INTERNAL",xh[xh.UNAVAILABLE=14]="UNAVAILABLE",xh[xh.DATA_LOSS=15]="DATA_LOSS";let _h=null;function Ih(){return new TextEncoder}const Ch=new Bs([4294967295,4294967295],0);function Nh(e){const t=Ih().encode(e),n=new Hs;return n.update(t),new Uint8Array(n.digest())}function Ah(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Bs([n,r],0),new Bs([i,a],0)]}class Dh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Oh("Invalid padding: ".concat(t));if(n<0)throw new Oh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Oh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Oh("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Bs.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Bs.fromNumber(n)));return 1===r.compare(Ch)&&(r=new Bs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Nh(e),[n,r]=Ah(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Dh(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=Nh(e),[n,r]=Ah(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Rh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ph(Jl.min(),r,new Kc(Nl),Nd(),Fd())}}class Rh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Rh(n,t,Fd(),Fd(),Fd())}}class Lh{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class jh{constructor(e,t){this.targetId=e,this.Ce=t}}class Mh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$c.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Fh{constructor(){this.ve=0,this.Fe=Uh(),this.Me=$c.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fd(),t=Fd(),n=Fd();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hl(38017,{changeType:i})}}),new Rh(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Uh()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pl(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zh{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nd(),this.Je=Vh(),this.He=Vh(),this.Ye=new Kc(Nl)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:hl(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(ud(a))if(0===n){const e=new Vl(a.path);this.et(t,e,Mu.newNoDocument(e,Jl.min()))}else pl(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=_h)||void 0===i||i.lt(function(e,t,n,r,i){var a,o,s,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null===d||void 0===d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(o=null===d||void 0===d||null===(s=d.bits)||void 0===s||null===(s=s.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=nu(n).toUint8Array()}catch(e){if(e instanceof Jc)return ul("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Dh(a,r,i)}catch(e){return ul(e instanceof Oh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&ud(i.target)){const t=new Vl(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Mu.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Fd();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Ph(e,t,this.Ye,this.je,n);return this.je=Nd(),this.Je=Vh(),this.He=Vh(),this.Ye=new Kc(Nl),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Fh,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qc(Nl),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qc(Nl),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||ll("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Fh),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Vh(){return new Kc(Vl.comparator)}function Uh(){return new Kc(Vl.comparator)}const Bh={asc:"ASCENDING",desc:"DESCENDING"},Hh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qh={and:"AND",or:"OR"};class Kh{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wh(e,t){return e.useProto3Json||hc(t)?t:{value:t}}function Gh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Yh(e,t){return Gh(e,t.toTimestamp())}function Xh(e){return pl(!!e,49232),Jl.fromTimestamp(function(e){const t=eu(e);return new Xl(t.seconds,t.nanos)}(e))}function Jh(e,t){return $h(e,t).canonicalString()}function $h(e,t){const n=function(e){return new Ml(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Zh(e){const t=Ml.fromString(e);return pl(wf(t),10190,{key:t.toString()}),t}function ef(e,t){return Jh(e.databaseId,t.path)}function tf(e,t){const n=Zh(t);if(n.get(1)!==e.databaseId.projectId)throw new yl(gl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yl(gl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vl(of(n))}function nf(e,t){return Jh(e.databaseId,t)}function rf(e){const t=Zh(e);return 4===t.length?Ml.emptyPath():of(t)}function af(e){return new Ml(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function of(e){return pl(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function sf(e,t,n){return{name:ef(e,t),fields:n.value.mapValue.fields}}function lf(e,t){let n;if(t instanceof dh)n={update:sf(e,t.key,t.value)};else if(t instanceof gh)n={delete:ef(e,t.key)};else if(t instanceof hh)n={update:sf(e,t.key,t.data),updateMask:bf(t.fieldMask)};else{if(!(t instanceof yh))return hl(16599,{Vt:t.type});n={verify:ef(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Qd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Yd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Jd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zd)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw hl(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Yh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hl(27497)}(e,t.precondition)),n}function cf(e,t){return{documents:[nf(e,t.path)]}}function uf(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nf(e,i);const a=function(e){if(0!==e.length)return vf(Ku.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:gf(e.field),direction:ff(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Wh(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function df(e){let t=rf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pl(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=hf(e);return t instanceof Ku&&Gu(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new Uu(yf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,hc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Fu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Fu(n,t)}(n.endAt)),hd(t,i,o,a,s,"F",l,c)}function hf(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=yf(e.unaryFilter.field);return qu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=yf(e.unaryFilter.field);return qu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yf(e.unaryFilter.field);return qu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=yf(e.unaryFilter.field);return qu.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return hl(61313);default:return hl(60726)}}(e):void 0!==e.fieldFilter?function(e){return qu.create(yf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return hl(58110);default:return hl(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ku.create(e.compositeFilter.filters.map(e=>hf(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hl(1026)}}(e.compositeFilter.op))}(e):hl(30097,{filter:e})}function ff(e){return Bh[e]}function pf(e){return Hh[e]}function mf(e){return qh[e]}function gf(e){return{fieldPath:e.canonicalString()}}function yf(e){return zl.fromServerFormat(e.fieldPath)}function vf(e){return e instanceof qu?function(e){if("=="===e.op){if(Au(e.value))return{unaryFilter:{field:gf(e.field),op:"IS_NAN"}};if(Nu(e.value))return{unaryFilter:{field:gf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Au(e.value))return{unaryFilter:{field:gf(e.field),op:"IS_NOT_NAN"}};if(Nu(e.value))return{unaryFilter:{field:gf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gf(e.field),op:pf(e.op),value:e.value}}}(e):e instanceof Ku?function(e){const t=e.getFilters().map(e=>vf(e));return 1===t.length?t[0]:{compositeFilter:{op:mf(e.op),filters:t}}}(e):hl(54877,{filter:e})}function bf(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function wf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Sf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jl.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Jl.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$c.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Sf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kf{constructor(e){this.yt=e}}function xf(e){const t=df({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bd(t,t.limit,"L"):t}class Tf{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(tu(e.integerValue));else if("doubleValue"in e){const n=tu(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),fc(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=eu(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(nu(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ru(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ou(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):hl(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=yu,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(tu(a)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Vl.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Tf.Kt=new Tf;class Ef{constructor(){this.Cn=new _f}addToCollectionParentIndex(e,t){return this.Cn.add(t),sc.resolve()}getCollectionParents(e,t){return sc.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return sc.resolve()}deleteFieldIndex(e,t){return sc.resolve()}deleteAllFieldIndexes(e){return sc.resolve()}createTargetIndexes(e,t){return sc.resolve()}getDocumentsMatchingTarget(e,t){return sc.resolve(null)}getIndexType(e,t){return sc.resolve(0)}getFieldIndexes(e,t){return sc.resolve([])}getNextCollectionGroupToUpdate(e){return sc.resolve(null)}getMinOffset(e,t){return sc.resolve(nc.min())}getMinOffsetFromCollectionGroup(e,t){return sc.resolve(nc.min())}updateCollectionGroup(e,t,n){return sc.resolve()}updateIndexEntries(e,t){return sc.resolve()}}class _f{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qc(Ml.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qc(Ml.comparator)).toArray()}}new Uint8Array(0);const If={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cf=41943040;class Nf{static withCacheSize(e){return new Nf(e,Nf.DEFAULT_COLLECTION_PERCENTILE,Nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Nf.DEFAULT_COLLECTION_PERCENTILE=10,Nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nf.DEFAULT=new Nf(Cf,Nf.DEFAULT_COLLECTION_PERCENTILE,Nf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nf.DISABLED=new Nf(-1,0,0);class Af{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Af(0)}static cr(){return new Af(-1)}}const Df="LruGarbageCollector",Of=1048576;function Pf(e,t){let[n,r]=e,[i,a]=t;const o=Nl(n,i);return 0===o?Nl(r,a):o}class Rf{constructor(e){this.Ir=e,this.buffer=new Qc(Pf),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Pf(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lf{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){ll(Df,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){cc(e)?ll(Df,"Ignoring IndexedDB error during garbage collection: ",e):await oc(e)}await this.Vr(3e5)})}}class jf{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return sc.resolve(uc.ce);const n=new Rf(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ll("LruGarbageCollector","Garbage collection skipped; disabled"),sc.resolve(If)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ll("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),If):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ll("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),sl()<=Gn.DEBUG&&ll("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),sc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Mf(e,t){return new jf(e,t)}class Ff{constructor(){this.changes=new Id(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?sc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&lh(n.mutation,e,Xc.empty(),Xl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Fd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fd();const r=Pd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Dd();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Pd();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Fd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Nd();const a=Ld(),o=Ld();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof hh)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),lh(o.mutation,t,o.mutation.getFieldMask(),Xl.now())):a.set(t.key,Xc.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new zf(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Ld();let r=new Kc((e,t)=>e-t),i=Fd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||Xc.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||Fd()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Rd();l.forEach(e=>{if(!i.has(e)){const r=oh(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return sc.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Vl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):md(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):sc.resolve(Pd());let o=$l,s=i;return a.next(t=>sc.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?sc.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,Fd())).next(e=>({batchId:o,changes:Od(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vl(t)).next(e=>{let t=Dd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=Dd();return this.indexManager.getCollectionParents(e,i).next(o=>sc.forEach(o,o=>{const s=function(e,t){return new dd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Mu.newInvalidDocument(r)))});let n=Dd();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&lh(a.mutation,r,Xc.empty(),Xl.now()),xd(t,r)&&(n=n.insert(e,r))}),n})}}class Uf{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return sc.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Xh(e.createTime)}}(t)),sc.resolve()}getNamedQuery(e,t){return sc.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:xf(e.bundledQuery),readTime:Xh(e.readTime)}}(t)),sc.resolve()}}class Bf{constructor(){this.overlays=new Kc(Vl.comparator),this.qr=new Map}getOverlay(e,t){return sc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Pd();return sc.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),sc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),sc.resolve()}getOverlaysForCollection(e,t,n){const r=Pd(),i=t.length+1,a=new Vl(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return sc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Kc((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Pd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Pd(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return sc.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new wh(t,n));let i=this.qr.get(t);void 0===i&&(i=Fd(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class Hf{constructor(){this.sessionToken=$c.EMPTY_BYTE_STRING}getSessionToken(e){return sc.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,sc.resolve()}}class qf{constructor(){this.Qr=new Qc(Kf.$r),this.Ur=new Qc(Kf.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Kf(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Kf(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Vl(new Ml([])),n=new Kf(t,e),r=new Kf(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Vl(new Ml([])),n=new Kf(t,e),r=new Kf(t,e+1);let i=Fd();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Kf(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Kf{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Vl.comparator(e.key,t.key)||Nl(e.Yr,t.Yr)}static Kr(e,t){return Nl(e.Yr,t.Yr)||Vl.comparator(e.key,t.key)}}class Wf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qc(Kf.$r)}checkEmpty(e){return sc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new vh(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Zr=this.Zr.add(new Kf(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return sc.resolve(a)}lookupMutationBatch(e,t){return sc.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return sc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return sc.resolve(0===this.mutationQueue.length?dc:this.tr-1)}getAllMutationBatches(e){return sc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Kf(t,0),r=new Kf(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),sc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qc(Nl);return t.forEach(e=>{const t=new Kf(e,0),r=new Kf(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),sc.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Vl.isDocumentKey(i)||(i=i.child(""));const a=new Kf(new Vl(i),0);let o=new Qc(Nl);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},a),sc.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){pl(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return sc.forEach(t.mutations,r=>{const i=new Kf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Kf(t,0),r=this.Zr.firstAfterOrEqual(n);return sc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,sc.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Gf{constructor(e){this.ri=e,this.docs=new Kc(Vl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return sc.resolve(n?n.document.mutableCopy():Mu.newInvalidDocument(t))}getEntries(e,t){let n=Nd();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Mu.newInvalidDocument(e))}),sc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Nd();const a=t.path,o=new Vl(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||rc(tc(o),n)<=0||(r.has(o.key)||xd(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return sc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hl(9500)}ii(e,t){return sc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Qf(this)}getSize(e){return sc.resolve(this.size)}}class Qf extends Ff{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),sc.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Yf{constructor(e){this.persistence=e,this.si=new Id(e=>ld(e),cd),this.lastRemoteSnapshotVersion=Jl.min(),this.highestTargetId=0,this.oi=0,this._i=new qf,this.targetCount=0,this.ai=Af.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),sc.resolve()}getLastRemoteSnapshotVersion(e){return sc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return sc.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),sc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),sc.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Af(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,sc.resolve()}updateTargetData(e,t){return this.Pr(t),sc.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,sc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),sc.waitFor(i).next(()=>r)}getTargetCount(e){return sc.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return sc.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),sc.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),sc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),sc.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return sc.resolve(n)}containsKey(e,t){return sc.resolve(this._i.containsKey(t))}}class Xf{constructor(e,t){this.ui={},this.overlays={},this.ci=new uc(0),this.li=!1,this.li=!0,this.hi=new Hf,this.referenceDelegate=e(this),this.Pi=new Yf(this),this.indexManager=new Ef,this.remoteDocumentCache=function(e){return new Gf(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new kf(t),this.Ii=new Uf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Wf(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ll("MemoryPersistence","Starting transaction:",e);const r=new Jf(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return sc.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Jf extends ac{constructor(e){super(),this.currentSequenceNumber=e}}class $f{constructor(e){this.persistence=e,this.Ri=new qf,this.Vi=null}static mi(e){return new $f(e)}get fi(){if(this.Vi)return this.Vi;throw hl(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),sc.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),sc.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),sc.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sc.forEach(this.fi,n=>{const r=Vl.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,Jl.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return sc.or([()=>sc.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Zf{constructor(e,t){this.persistence=e,this.pi=new Id(e=>gc(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Mf(this,t)}static mi(e,t){return new Zf(e,t)}Ei(){}di(e){return sc.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return sc.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?sc.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Jl.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),sc.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),sc.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),sc.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),sc.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_u(e.data.value)),t}br(e,t,n){return sc.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return sc.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ep{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Fd(),r=Fd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ep(e,t.fromCache,n,r)}}class tp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class np{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Nn()?8:lc(In())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new tp;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(sl()<=Gn.DEBUG&&ll("QueryEngine","SDK will not create cache indexes for query:",kd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),sc.resolve()):(sl()<=Gn.DEBUG&&ll("QueryEngine","Query:",kd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(sl()<=Gn.DEBUG&&ll("QueryEngine","The SDK decides to create cache indexes for query:",kd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yd(t))):sc.resolve())}ys(e,t){if(pd(t))return sc.resolve(null);let n=yd(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=bd(t,null,"F"),n=yd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Fd(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,bd(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return pd(t)||r.isEqual(Jl.min())?sc.resolve(null):this.ps.getDocuments(e,n).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,n,r)?sc.resolve(null):(sl()<=Gn.DEBUG&&ll("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kd(t)),this.vs(e,a,t,ec(r,$l)).next(e=>e))})}Ds(e,t){let n=new Qc(Ed(e));return t.forEach((t,r)=>{xd(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return sl()<=Gn.DEBUG&&ll("QueryEngine","Using full collection scan to execute query:",kd(t)),this.ps.getDocumentsMatchingQuery(e,t,nc.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const rp="LocalStore";class ip{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Kc(Nl),this.xs=new Id(e=>ld(e),cd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vf(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ap(e,t,n,r){return new ip(e,t,n,r)}async function op(e,t){const n=ml(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=Fd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:a}))})})}function sp(e){const t=ml(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function lp(e,t,n){let r=Fd(),i=Fd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Nd();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Jl.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ll(rp,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{ks:r,qs:i}})}function cp(e,t){const n=ml(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=dc),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function up(e,t){const n=ml(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,sc.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Sf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function dp(e,t,n){const r=ml(e),i=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!cc(e))throw e;ll(rp,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function hp(e,t,n){const r=ml(e);let i=Jl.min(),a=Fd();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=ml(e),i=r.xs.get(n);return void 0!==i?sc.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,yd(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:Jl.min(),n?a:Fd())).next(e=>(fp(r,Td(t),e),{documents:e,Qs:a})))}function fp(e,t,n){let r=e.Os.get(t)||Jl.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class pp{constructor(){this.activeTargetIds=Vd()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mp{constructor(){this.Mo=new pp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gp{Oo(e){}shutdown(){}}const yp="ConnectivityMonitor";class vp{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ll(yp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ll(yp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bp=null;function wp(){return null===bp?bp=268435456+Math.round(2147483648*Math.random()):bp++,"0x"+bp.toString(16)}const Sp="RestConnection",kp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xp{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===du?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const a=wp(),o=this.zo(e,t.toUriEncodedString());ll(Sp,"Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(o),c=kn(l);return this.Jo(e,o,s,n,c).then(t=>(ll(Sp,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw ul(Sp,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+al,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=kp[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Tp{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ep="WebChannelConnection";class _p extends xp{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=wp();return new Promise((i,o)=>{const s=new Ws;s.setWithCredentials(!0),s.listenOnce(Qs.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Ys.NO_ERROR:const n=s.getResponseJson();ll(Ep,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case Ys.TIMEOUT:ll(Ep,"RPC '".concat(e,"' ").concat(a," timed out")),o(new yl(gl.DEADLINE_EXCEEDED,"Request time out"));break;case Ys.HTTP_ERROR:const r=s.getStatus();if(ll(Ep,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(gl).indexOf(t)>=0?t:gl.UNKNOWN}(n.status);o(new yl(e,n.message))}else o(new yl(gl.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new yl(gl.UNAVAILABLE,"Connection failed."));break;default:hl(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{ll(Ep,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);ll(Ep,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=wp(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Zs(),o=$s(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");ll(Ep,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);this.I_(u);let d=!1,h=!1;const f=new Tp({Yo:t=>{h?ll(Ep,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ll(Ep,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ll(Ep,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Gs.EventType.OPEN,()=>{h||(ll(Ep,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Gs.EventType.CLOSE,()=>{h||(h=!0,ll(Ep,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Gs.EventType.ERROR,t=>{h||(h=!0,ul(Ep,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new yl(gl.UNAVAILABLE,"The operation could not be completed")))}),p(u,Gs.EventType.MESSAGE,t=>{if(!h){var n;const i=t.data[0];pl(!!i,16349);const a=i,o=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ll(Ep,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=kh[e];if(void 0!==t)return Eh(t)}(t),i=o.message;void 0===n&&(n=gl.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.a_(new yl(n,i)),u.close()}else ll(Ep,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(o,Js.STAT_EVENT,t=>{t.stat===Xs.PROXY?ll(Ep,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xs.NOPROXY&&ll(Ep,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Ip(){return"undefined"!=typeof document?document:null}function Cp(e){return new Kh(e,!0)}class Np{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ll("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ap="PersistentStream";class Dp{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Np(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===gl.RESOURCE_EXHAUSTED?(cl(t.toString()),cl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===gl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new yl(gl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ll(Ap,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ll(Ap,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Op extends Dp{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hl(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(pl(void 0===t||"string"==typeof t,58123),$c.fromBase64String(t||"")):(pl(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),$c.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?gl.UNKNOWN:Eh(e.code);return new yl(t,e.message||"")}(o);n=new Mh(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=tf(e,r.document.name),a=Xh(r.document.updateTime),o=r.document.createTime?Xh(r.document.createTime):Jl.min(),s=new Lu({mapValue:{fields:r.document.fields}}),l=Mu.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Lh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=tf(e,r.document),a=r.readTime?Xh(r.readTime):Jl.min(),o=Mu.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Lh([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=tf(e,r.document),a=r.removedTargetIds||[];n=new Lh([],a,i,null)}else{if(!("filter"in t))return hl(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Sh(r,i),o=e.targetId;n=new jh(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Jl.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Jl.min():t.readTime?Xh(t.readTime):Jl.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=af(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ud(r)?{documents:cf(e,r)}:{query:uf(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Qh(e,t.resumeToken);const r=Wh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Jl.min())>0){n.readTime=Gh(e,t.snapshotVersion.toTimestamp());const r=Wh(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hl(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=af(this.serializer),t.removeTarget=e,this.q_(t)}}class Pp extends Dp{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pl(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pl(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){pl(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(pl(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Xh(e.updateTime):Xh(t);return n.isEqual(Jl.min())&&(n=Xh(t)),new nh(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Xh(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=af(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>lf(this.serializer,e))};this.q_(t)}}class Rp{}class Lp extends Rp{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new yl(gl.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Go(e,$h(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yl(gl.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Ho(e,$h(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yl(gl.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(cl(t),this.aa=!1):ll("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Mp="RemoteStore";class Fp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Gp(this)&&(ll(Mp,"Restarting streams for network reachability change."),await async function(e){const t=ml(e);t.Ea.add(4),await Vp(t),t.Ra.set("Unknown"),t.Ea.delete(4),await zp(t)}(this))})}),this.Ra=new jp(n,r)}}async function zp(e){if(Gp(e))for(const t of e.da)await t(!0)}async function Vp(e){for(const t of e.da)await t(!1)}function Up(e,t){const n=ml(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Wp(n)?Kp(n):hm(n).O_()&&Hp(n,t))}function Bp(e,t){const n=ml(e),r=hm(n);n.Ia.delete(t),r.O_()&&qp(n,t),0===n.Ia.size&&(r.O_()?r.L_():Gp(n)&&n.Ra.set("Unknown"))}function Hp(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Jl.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hm(e).Y_(t)}function qp(e,t){e.Va.Ue(t),hm(e).Z_(t)}function Kp(e){e.Va=new zh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),hm(e).start(),e.Ra.ua()}function Wp(e){return Gp(e)&&!hm(e).x_()&&e.Ia.size>0}function Gp(e){return 0===ml(e).Ea.size}function Qp(e){e.Va=void 0}async function Yp(e){e.Ra.set("Online")}async function Xp(e){e.Ia.forEach((t,n)=>{Hp(e,t)})}async function Jp(e,t){Qp(e),Wp(e)?(e.Ra.ha(t),Kp(e)):e.Ra.set("Unknown")}async function $p(e,t,n){if(e.Ra.set("Online"),t instanceof Mh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){ll(Mp,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Zp(e,n)}else if(t instanceof Lh?e.Va.Ze(t):t instanceof jh?e.Va.st(t):e.Va.tt(t),!n.isEqual(Jl.min()))try{const t=await sp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken($c.EMPTY_BYTE_STRING,r.snapshotVersion)),qp(e,t);const i=new Sf(r.target,t,n,r.sequenceNumber);Hp(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ll(Mp,"Failed to raise snapshot:",t),await Zp(e,t)}}async function Zp(e,t,n){if(!cc(t))throw t;e.Ea.add(1),await Vp(e),e.Ra.set("Offline"),n||(n=()=>sp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ll(Mp,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await zp(e)})}function em(e,t){return t().catch(n=>Zp(e,n,t))}async function tm(e){const t=ml(e),n=fm(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:dc;for(;nm(t);)try{const e=await cp(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,rm(t,e)}catch(e){await Zp(t,e)}im(t)&&am(t)}function nm(e){return Gp(e)&&e.Ta.length<10}function rm(e,t){e.Ta.push(t);const n=fm(e);n.O_()&&n.X_&&n.ea(t.mutations)}function im(e){return Gp(e)&&!fm(e).x_()&&e.Ta.length>0}function am(e){fm(e).start()}async function om(e){fm(e).ra()}async function sm(e){const t=fm(e);for(const n of e.Ta)t.ea(n.mutations)}async function lm(e,t,n){const r=e.Ta.shift(),i=bh.from(r,t,n);await em(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await tm(e)}async function cm(e,t){t&&fm(e).X_&&await async function(e,t){if(function(e){return Th(e)&&e!==gl.ABORTED}(t.code)){const n=e.Ta.shift();fm(e).B_(),await em(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await tm(e)}}(e,t),im(e)&&am(e)}async function um(e,t){const n=ml(e);n.asyncQueue.verifyOperationInProgress(),ll(Mp,"RemoteStore received new credentials");const r=Gp(n);n.Ea.add(3),await Vp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await zp(n)}async function dm(e,t){const n=ml(e);t?(n.Ea.delete(2),await zp(n)):t||(n.Ea.add(2),await Vp(n),n.Ra.set("Unknown"))}function hm(e){return e.ma||(e.ma=function(e,t,n){const r=ml(e);return r.sa(),new Op(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Yp.bind(null,e),t_:Xp.bind(null,e),r_:Jp.bind(null,e),H_:$p.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Wp(e)?Kp(e):e.Ra.set("Unknown")):(await e.ma.stop(),Qp(e))})),e.ma}function fm(e){return e.fa||(e.fa=function(e,t,n){const r=ml(e);return r.sa(),new Pp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:om.bind(null,e),r_:cm.bind(null,e),ta:sm.bind(null,e),na:lm.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await tm(e)):(await e.fa.stop(),e.Ta.length>0&&(ll(Mp,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class pm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new pm(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yl(gl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(e,t){if(cl("AsyncQueue","".concat(t,": ").concat(e)),cc(e))return new yl(gl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class gm{static emptySet(e){return new gm(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Vl.comparator(t.key,n.key):(e,t)=>Vl.comparator(e.key,t.key),this.keyedMap=Dd(),this.sortedSet=new Kc(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new gm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ym{constructor(){this.ga=new Kc(Vl.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):hl(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class vm{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new vm(e,t,gm.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class bm{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class wm{constructor(){this.queries=Sm(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ml(e),r=n.queries;n.queries=Sm(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new yl(gl.ABORTED,"Firestore shutting down"))}}function Sm(){return new Id(e=>Sd(e),wd)}async function km(e,t){const n=ml(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new bm,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=mm(e,"Initialization of query '".concat(kd(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&_m(n)}async function xm(e,t){const n=ml(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tm(e,t){const n=ml(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&_m(n)}function Em(e,t,n){const r=ml(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function _m(e){e.Ca.forEach(e=>{e.next()})}var Im,Cm;(Cm=Im||(Im={})).Ma="default",Cm.Cache="cache";class Nm{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new vm(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=vm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}class Am{constructor(e){this.key=e}}class Dm{constructor(e){this.key=e}}class Om{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fd(),this.mutatedKeys=Fd(),this.eu=Ed(e),this.tu=new gm(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new ym,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=xd(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hl(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const o=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==a.length||l?{snapshot:new vm(this.query,e.tu,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ym,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fd(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Dm(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Am(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Fd();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return vm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Pm="SyncEngine";class Rm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Lm{constructor(e){this.key=e,this.hu=!1}}class jm{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Id(e=>Sd(e),wd),this.Iu=new Map,this.Eu=new Set,this.du=new Kc(Vl.comparator),this.Au=new Map,this.Ru=new qf,this.Vu={},this.mu=new Map,this.fu=Af.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Mm(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ig(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await zm(r,t,n,!0),i}async function Fm(e,t){const n=ig(e);await zm(n,t,!0,!1)}async function zm(e,t,n,r){const i=await up(e.localStore,yd(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await Vm(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Up(e.remoteStore,i),s}async function Vm(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await hp(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return $m(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const a=await hp(e.localStore,t,!0),o=new Om(t,a.Qs),s=o.ru(a.documents),l=Rh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);$m(e,n,c.au);const u=new Rm(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Um(e,t,n){const r=ml(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!wd(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bp(r.remoteStore,i.targetId),Xm(r,i.targetId)}).catch(oc)):(Xm(r,i.targetId),await dp(r.localStore,i.targetId,!0))}async function Bm(e,t){const n=ml(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bp(n.remoteStore,r.targetId))}async function Hm(e,t){const n=ml(e);try{const e=await function(e,t){const n=ml(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken($c.EMPTY_BYTE_STRING,Jl.min()).withLastLimboFreeSnapshotVersion(Jl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Pi.updateTargetData(e,c))});let s=Nd(),l=Fd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(lp(e,a,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(Jl.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return sc.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(pl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?pl(r.hu,14607):e.removedDocuments.size>0&&(pl(r.hu,42227),r.hu=!1))}),await tg(n,e,t)}catch(e){await oc(e)}}function qm(e,t,n){const r=ml(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ml(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&_m(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Km(e,t,n){const r=ml(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new Kc(Vl.comparator);e=e.insert(a,Mu.newNoDocument(a,Jl.min()));const n=Fd().add(a),i=new Ph(Jl.min(),new Map,new Kc(Nl),e,n);await Hm(r,i),r.du=r.du.remove(a),r.Au.delete(t),eg(r)}else await dp(r.localStore,t,!1).then(()=>Xm(r,t,n)).catch(oc)}async function Wm(e,t){const n=ml(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ml(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=sc.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);pl(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Fd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ym(n,r,null),Qm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tg(n,e)}catch(e){await oc(e)}}async function Gm(e,t,n){const r=ml(e);try{const e=await function(e,t){const n=ml(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(pl(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ym(r,t,n),Qm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await tg(r,e)}catch(n){await oc(n)}}function Qm(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Ym(e,t,n){const r=ml(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Xm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Jm(e,t)})}function Jm(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Bp(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),eg(e))}function $m(e,t,n){for(const r of n)r instanceof Am?(e.Ru.addReference(r.key,t),Zm(e,r)):r instanceof Dm?(ll(Pm,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Jm(e,r.key)):hl(19791,{wu:r})}function Zm(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(ll(Pm,"New document in limbo: "+n),e.Eu.add(r),eg(e))}function eg(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Vl(Ml.fromString(t)),r=e.fu.next();e.Au.set(r,new Lm(n)),e.du=e.du.insert(n,r),Up(e.remoteStore,new Sf(yd(fd(n.path)),r,"TargetPurposeLimboResolution",uc.ce))}}async function tg(e,t,n){const r=ml(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{o.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ep.As(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=ml(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>sc.forEach(t,t=>sc.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>sc.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!cc(e))throw e;ll(rp,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,a))}async function ng(e,t){const n=ml(e);if(!n.currentUser.isEqual(t)){ll(Pm,"User change. New user:",t.toKey());const e=await op(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new yl(gl.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await tg(n,e.Ls)}}function rg(e,t){const n=ml(e),r=n.Au.get(t);if(r&&r.hu)return Fd().add(r.key);{let e=Fd();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function ig(e){const t=ml(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Km.bind(null,t),t.Pu.H_=Tm.bind(null,t.eventManager),t.Pu.yu=Em.bind(null,t.eventManager),t}function ag(e){const t=ml(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gm.bind(null,t),t}class og{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ap(this.persistence,new np,e.initialUser,this.serializer)}Cu(e){return new Xf($f.mi,this.serializer)}Du(e){return new mp}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}og.provider={build:()=>new og};class sg extends og{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pl(this.persistence.referenceDelegate instanceof Zf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Lf(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Nf.withCacheSize(this.cacheSizeBytes):Nf.DEFAULT;return new Xf(e=>Zf.mi(e,t),this.serializer)}}class lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>qm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ng.bind(null,this.syncEngine),await dm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new wm}createDatastore(e){const t=Cp(e.databaseInfo.databaseId),n=function(e){return new _p(e)}(e.databaseInfo);return function(e,t,n,r){return new Lp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Fp(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>qm(this.syncEngine,e,0),vp.v()?new vp:new gp)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new jm(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ml(e);ll(Mp,"RemoteStore shutting down."),t.Ea.add(5),await Vp(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}lg.provider={build:()=>new lg};class cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const ug="FirestoreClient";class dg{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=il.UNAUTHENTICATED,this.clientId=Cl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{ll(ug,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(ll(ug,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=mm(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function hg(e,t){e.asyncQueue.verifyOperationInProgress(),ll(ug,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await op(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function fg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pg(e);ll(ug,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>um(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>um(t.remoteStore,n)),e._onlineComponents=t}async function pg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ll(ug,"Using user provided OfflineComponentProvider");try{await hg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===gl.FAILED_PRECONDITION||e.code===gl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await hg(e,new og)}}else ll(ug,"Using default OfflineComponentProvider"),await hg(e,new sg(void 0));return e._offlineComponents}async function mg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ll(ug,"Using user provided OnlineComponentProvider"),await fg(e,e._uninitializedComponentsProvider._online)):(ll(ug,"Using default OnlineComponentProvider"),await fg(e,new lg))),e._onlineComponents}function gg(e){return mg(e).then(e=>e.syncEngine)}async function yg(e){const t=await mg(e),n=t.eventManager;return n.onListen=Mm.bind(null,t.syncEngine),n.onUnlisten=Um.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Fm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Bm.bind(null,t.syncEngine),n}function vg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new cg({next:s=>{a.Nu(),t.enqueueAndForget(()=>xm(e,o));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new yl(gl.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new yl(gl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Nm(fd(n.path),a,{includeMetadataChanges:!0,qa:!0});return km(e,o)}(await yg(e),e.asyncQueue,t,n,r)),r.promise}function bg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const wg=new Map,Sg="firestore.googleapis.com",kg=!0;class xg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new yl(gl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sg,this.ssl=kg}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:kg;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Cf;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Of)throw new yl(gl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new yl(gl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yl(gl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new yl(gl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new yl(gl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yl(gl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yl(gl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xg(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wl;switch(e.type){case"firstParty":return new Tl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yl(gl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wg.get(e);t&&(ll("ComponentProvider","Removing Datastore"),wg.delete(e),t.terminate())}(this),Promise.resolve()}}function Eg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Kl(e,Tg);const i=kn(t),a=e._getSettings(),o=c(c({},a),{},{emulatorOptions:e._getEmulatorOptions()}),s="".concat(t,":").concat(n);i&&(xn("https://".concat(s)),_n("Firestore",!0)),a.host!==Sg&&a.host!==s&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},a),{},{host:s,ssl:i,emulatorOptions:r});if(!Rn(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=il.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pn(JSON.stringify({alg:"none",type:"JWT"})),pn(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new yl(gl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new il(i)}e._authCredentials=new Sl(new bl(t,n))}}class _g{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _g(this.firestore,e,this._query)}}class Ig{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ig(this.firestore,e,this._key)}toJSON(){return{type:Ig._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Gl(t,Ig._jsonSchema))return new Ig(e,n||null,new Vl(Ml.fromString(t.referencePath)))}}Ig._jsonSchemaVersion="firestore/documentReference/1.0",Ig._jsonSchema={type:Wl("string",Ig._jsonSchemaVersion),referencePath:Wl("string")};class Cg extends _g{constructor(e,t,n){super(e,t,fd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ig(this.firestore,null,new Vl(e))}withConverter(e){return new Cg(this.firestore,e,this._path)}}function Ng(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Un(e),1===arguments.length&&(t=Cl.newId()),Ul("doc","path",t),e instanceof Tg){const n=Ml.fromString(t,...r);return Bl(n),new Ig(e,null,new Vl(n))}{if(!(e instanceof Ig||e instanceof Cg))throw new yl(gl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ml.fromString(t,...r));return Bl(n),new Ig(e.firestore,e instanceof Cg?e.converter:null,new Vl(n))}}const Ag="AsyncQueue";class Dg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Np(this,"async_queue_retry"),this._c=()=>{const e=Ip();e&&ll(Ag,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Ip();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ip();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new vl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cc(e))throw e;ll(Ag,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,cl("INTERNAL UNHANDLED ERROR: ",Og(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=pm.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&hl(47125,{Pc:Og(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Og(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Pg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Rg extends Tg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Dg,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dg(e),this._firestoreClient=void 0,await e}}}function Lg(e){if(e._terminated)throw new yl(gl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||jg(e),e._firestoreClient}function jg(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new uu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,bg(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new dg(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Mg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mg($c.fromBase64String(e))}catch(e){throw new yl(gl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Mg($c.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mg._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gl(e,Mg._jsonSchema))return Mg.fromBase64String(e.bytes)}}Mg._jsonSchemaVersion="firestore/bytes/1.0",Mg._jsonSchema={type:Wl("string",Mg._jsonSchemaVersion),bytes:Wl("string")};class Fg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new yl(gl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zg{constructor(e){this._methodName=e}}class Vg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yl(gl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yl(gl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nl(this._lat,e._lat)||Nl(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vg._jsonSchemaVersion}}static fromJSON(e){if(Gl(e,Vg._jsonSchema))return new Vg(e.latitude,e.longitude)}}Vg._jsonSchemaVersion="firestore/geoPoint/1.0",Vg._jsonSchema={type:Wl("string",Vg._jsonSchemaVersion),latitude:Wl("number"),longitude:Wl("number")};class Ug{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ug._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gl(e,Ug._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Ug(e.vectorValues);throw new yl(gl.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ug._jsonSchemaVersion="firestore/vectorValue/1.0",Ug._jsonSchema={type:Wl("string",Ug._jsonSchemaVersion),vectorValues:Wl("object")};const Bg=/^__.*__$/;class Hg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new hh(e,this.data,this.fieldMask,t,this.fieldTransforms):new dh(e,this.data,t,this.fieldTransforms)}}function qg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hl(40011,{Ac:e})}}class Kg{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kg(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ny(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(qg(this.Ac)&&Bg.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Wg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Cp(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Kg({Ac:e,methodName:t,Dc:n,path:zl.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gg(e){const t=e._freezeSettings(),n=Cp(e._databaseId);return new Wg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Qg(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);$g("Data must be an object, but it was:",o,r);const s=Xg(r,o);let l,c;if(a.merge)l=new Xc(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Zg(t,r,n);if(!o.contains(i))throw new yl(gl.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ry(e,i)||e.push(i)}l=new Xc(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Hg(new Lu(s),l,c)}function Yg(e,t){if(Jg(e=Un(e)))return $g("Unsupported field value:",t,e),Xg(e,t);if(e instanceof zg)return function(e,t){if(!qg(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Yg(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Un(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Hd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Xl.fromDate(e);return{timestampValue:Gh(t.serializer,n)}}if(e instanceof Xl){const n=new Xl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gh(t.serializer,n)}}if(e instanceof Vg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Mg)return{bytesValue:Qh(t.serializer,e._byteString)};if(e instanceof Ig){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Jh(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ug)return function(e,t){return{mapValue:{fields:{[fu]:{stringValue:gu},[yu]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Ud(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(ql(e)))}(e,t)}function Xg(e,t){const n={};return qc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hc(e,(e,r)=>{const i=Yg(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Jg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xl||e instanceof Vg||e instanceof Mg||e instanceof Ig||e instanceof zg||e instanceof Ug)}function $g(e,t,n){if(!Jg(n)||!Hl(n)){const r=ql(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Zg(e,t,n){if((t=Un(t))instanceof Fg)return t._internalPath;if("string"==typeof t)return ty(e,t);throw ny("Field path arguments must be of type string or ",e,!1,void 0,n)}const ey=new RegExp("[~\\*/\\[\\]]");function ty(e,t,n){if(t.search(ey)>=0)throw ny("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Fg(...t.split("."))._internalPath}catch(d){throw ny("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ny(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new yl(gl.INVALID_ARGUMENT,s+e+l)}function ry(e,t){return e.some(e=>e.isEqual(t))}class iy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ig(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ay(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ay extends iy{data(){return super.data()}}function oy(e,t){return"string"==typeof t?ty(e,t):t instanceof Fg?t._internalPath:t._delegate._internalPath}function sy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yl(gl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ly{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(vu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw hl(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Hc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[yu].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>tu(e.doubleValue));return new Ug(n)}convertGeoPoint(e){return new Vg(tu(e.latitude),tu(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=lu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const t=eu(e);return new Xl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ml.fromString(e);pl(wf(n),9688,{name:e});const r=new hu(n.get(1),n.get(3)),i=new Vl(n.popFirst(5));return r.isEqual(t)||cl("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function cy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class uy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dy extends iy{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new hy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(oy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yl(gl.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=dy._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}dy._jsonSchemaVersion="firestore/documentSnapshot/1.0",dy._jsonSchema={type:Wl("string",dy._jsonSchemaVersion),bundleSource:Wl("string","DocumentSnapshot"),bundleName:Wl("string"),bundle:Wl("string")};class hy extends dy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class fy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new uy(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new hy(this._firestore,this._userDataWriter,n.key,n,new uy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yl(gl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new hy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new uy(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new hy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new uy(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:py(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yl(gl.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fy._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function py(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hl(61501,{type:e})}}function my(e){e=Kl(e,Ig);const t=Kl(e.firestore,Rg);return vg(Lg(t),e._key).then(n=>wy(t,e,n))}fy._jsonSchemaVersion="firestore/querySnapshot/1.0",fy._jsonSchema={type:Wl("string",fy._jsonSchemaVersion),bundleSource:Wl("string","QuerySnapshot"),bundleName:Wl("string"),bundle:Wl("string")};class gy extends ly{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ig(this.firestore,null,t)}}function yy(e,t,n){e=Kl(e,Ig);const r=Kl(e.firestore,Rg),i=cy(e.converter,t,n);return by(r,[Qg(Gg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rh.none())])}function vy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=Un(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||Pg(n[a])||(i=n[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Pg(n[a])){var s,l,c;const e=n[a];n[a]=null===(s=e.next)||void 0===s?void 0:s.bind(e),n[a+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[a+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof Ig)d=Kl(e.firestore,Rg),h=fd(e._key.path),u={next:t=>{n[a]&&n[a](wy(d,e,t))},error:n[a+1],complete:n[a+2]};else{const t=Kl(e,_g);d=Kl(t.firestore,Rg),h=t._query;const r=new gy(d);u={next:e=>{n[a]&&n[a](new fy(d,r,t,e))},error:n[a+1],complete:n[a+2]},sy(e._query)}return function(e,t,n,r){const i=new cg(r),a=new Nm(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>km(await yg(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>xm(await yg(e),a))}}(Lg(d),h,o,u)}function by(e,t){return function(e,t){const n=new vl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=ag(e);try{const e=await function(e,t){const n=ml(e),r=Xl.now(),i=t.reduce((e,t)=>e.add(t.key),Fd());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Nd(),l=Fd();return n.Ns.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=ch(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new hh(e.key,t,ju(t.value.mapValue),rh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Od(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Kc(Nl)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await tg(r,e.changes),await tm(r.remoteStore)}catch(e){const t=mm(e,"Failed to persist write");n.reject(t)}}(await gg(e),t,n)),n.promise}(Lg(e),t)}function wy(e,t,n){const r=n.docs.get(t._key),i=new gy(e);return new dy(e,i,t._key,r,new uy(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){al=e}(ni),Jr(new Bn("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new Rg(new kl(e.getProvider("auth-internal")),new _l(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yl(gl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(e.options.projectId,t)}(a,r),a);return i=c({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ai(nl,rl,e),ai(nl,rl,"esm2020")}();const Sy=ri({apiKey:"AIzaSyByZTcOtdHQObh97tVgGM2J-nbyTE_G5hE",authDomain:"simpleone-1f97d.firebaseapp.com",projectId:"simpleone-1f97d",storageBucket:"simpleone-1f97d.firebasestorage.app",messagingSenderId:"674624721625",appId:"1:674624721625:web:802b18545beb7d6ddfa4c8",measurementId:"G-T25B4R2335"}),ky=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ii();const t=$r(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=$r(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Rn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ei(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ls,persistence:[Ko,Eo,Ao]}),r=wn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>zs)return;const r=null===t||void 0===t?void 0:t.token;Vs!==r&&(Vs=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Un(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Un(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=vn("auth");return a&&Ga(n,"http://".concat(a)),n}(Sy),xy=function(e,t){const n="object"==typeof e?e:ii(),r="string"==typeof e?e:t||du,i=$r(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=vn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Eg(i,...e)}return i}(Sy),Ty=new uo;!function(e,t){Un(e).setPersistence(t)}(ky,Eo);const Ey=function(){var e,t,n,i;const[a,o]=(0,r.useState)({}),[s,l]=(0,r.useState)(new Date),[d,h]=(0,r.useState)(()=>{const e=localStorage.getItem("activeTimers");return e?JSON.parse(e):{}}),[f,p]=(0,r.useState)({}),[m,g]=(0,r.useState)([]),[y,v]=(0,r.useState)(-1),[b,w]=(0,r.useState)([]),[S,k]=(0,r.useState)(null),[x,T]=(0,r.useState)(!1),[E,_]=(0,r.useState)(!0),[I,C]=(0,r.useState)("list"),[N,A]=(0,r.useState)(()=>{const e=localStorage.getItem("timerLogs");return e?JSON.parse(e):{}}),[D,O]=(0,r.useState)(null),[P,R]=(0,r.useState)(()=>{const e=localStorage.getItem("taskHistory");return e?JSON.parse(e):{}}),[L,j]=(0,r.useState)(null),[M,F]=(0,r.useState)(null),[z,V]=(0,r.useState)(""),[U,B]=(0,r.useState)(!1),[H,q]=(0,r.useState)(!1),[K,W]=(0,r.useState)(!1),[G,Q]=(0,r.useState)(!1),[Y,X]=(0,r.useState)({}),[J,$]=(0,r.useState)(!1),[Z,ee]=(0,r.useState)({}),[te,ne]=(0,r.useState)(()=>{const e=localStorage.getItem("trash");return e?JSON.parse(e):[]}),[re,ie]=(0,r.useState)(null),[ae,oe]=(0,r.useState)([]),[se,le]=(0,r.useState)(()=>{const e=localStorage.getItem("localPasswords");return e?JSON.parse(e):{}}),[ce,ue]=(0,r.useState)(null),[de,he]=(0,r.useState)(null),[fe,pe]=(0,r.useState)(null),[me,ge]=(0,r.useState)(null),[ye,ve]=(0,r.useState)(null),[be,we]=(0,r.useState)(new Date),[Se,ke]=(0,r.useState)(!1),[xe,Te]=(0,r.useState)(null),[Ee,_e]=(0,r.useState)(null),[Ie,Ce]=(0,r.useState)(0),[Ne,Ae]=(0,r.useState)(null),[De,Oe]=(0,r.useState)(!1),[Pe,Re]=(0,r.useState)(()=>{const e=localStorage.getItem("unassignedTimes");return e?JSON.parse(e):[]}),[Le,je]=(0,r.useState)(""),[Me,Fe]=(0,r.useState)(""),[ze,Ve]=(0,r.useState)([]),[Ue,Be]=(0,r.useState)(-1),[He,qe]=(0,r.useState)(!1),[Ke,We]=(0,r.useState)(null),[Ge,Qe]=(0,r.useState)(!1),[Ye,Xe]=(0,r.useState)(null),[Je,$e]=(0,r.useState)(null),[Ze,et]=(0,r.useState)(null),[tt,nt]=(0,r.useState)(null),rt=(0,r.useRef)(!1),it=(0,r.useRef)(null);(0,r.useEffect)(()=>{ce&&Ye&&Ye.spaceId===ce&&Xe(null)},[ce,Ye]);const at=(0,r.useRef)(null),ot=(0,r.useRef)(0);(0,r.useEffect)(()=>{document.body.className="light-mode"},[]);const st=()=>{const e=document.activeElement;e&&"TEXTAREA"===e.tagName&&(e=>{if(!e)return;const t=e.readOnly,n=e.inputMode;e.readOnly=!0,e.inputMode="none",e.focus({preventScroll:!0}),requestAnimationFrame(()=>{e.readOnly=t,e.inputMode=n})})(e)};(0,r.useEffect)(()=>{const e=e=>{e.target.closest(".task-row")&&e.preventDefault()};return document.addEventListener("contextmenu",e),()=>document.removeEventListener("contextmenu",e)},[]),(0,r.useEffect)(()=>{const e=()=>{Qe("ontouchstart"in window&&window.innerWidth<768)};if(e(),window.addEventListener("resize",e),!window.visualViewport)return;const t=()=>{const e=window.visualViewport.height,t=window.innerHeight-e;at.current&&clearTimeout(at.current),at.current=setTimeout(()=>{(t>=120&&ot.current<40||t<=40&&ot.current>=120)&&(ot.current=t)},120)};return window.visualViewport.addEventListener("resize",t),()=>{window.removeEventListener("resize",e),window.visualViewport.removeEventListener("resize",t),at.current&&clearTimeout(at.current)}},[]),(0,r.useEffect)(()=>{const e=e=>{if(e.altKey&&["1","2","3","4","5","6","7","8","9","0"].includes(e.key)){e.preventDefault();const t="0"===e.key?9:parseInt(e.key)-1;if(t<ae.length){const e=ae[t],n=se[e.id];n?Xe({spaceName:e.name,spacePassword:n,spaceId:e.id,onSuccess:()=>ue(e.id),onFail:()=>{}}):ue(e.id)}}else if(e.ctrlKey&&"1"===e.key)e.preventDefault(),C("day");else if(e.ctrlKey&&"2"===e.key)e.preventDefault(),C("month");else if(e.ctrlKey&&"3"===e.key)e.preventDefault(),C("timeline");else if(e.ctrlKey&&" "===e.key){e.preventDefault(),e.stopPropagation();const t=document.activeElement;if(t&&"TEXTAREA"===t.tagName){const e=parseInt(t.getAttribute("data-task-id")),n="".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"),"-").concat(String(s.getDate()).padStart(2,"0"));o(t=>{const r=c({},t),i=(r[n]||[]).find(t=>t.id===e);return i&&(i.completed=!i.completed,i.completed?i.completedAt=(new Date).toISOString():delete i.completedAt),r})}}};return window.addEventListener("keydown",e,!0),()=>window.removeEventListener("keydown",e,!0)},[s,ae,ce,se]),(0,r.useEffect)(()=>{const e=localStorage.getItem("dates");if(e){const t=JSON.parse(e),n={};Object.keys(t).forEach(e=>{n[e]=t[e].map(e=>c(c({},e),{},{spaceId:e.spaceId||"default"}))}),o(n)}const t=localStorage.getItem("spaces");let n=[{id:"default",name:"\uae30\ubcf8 \uacf5\uac04"}],r="default";if(t){const e=JSON.parse(t);n=e.spaces||[{id:"default",name:"\uae30\ubcf8 \uacf5\uac04"}],r=e.selectedSpaceId||"default"}oe(n);const i=localStorage.getItem("localPasswords"),a=i?JSON.parse(i):{};le(a);const s=n.find(e=>e.id===r),l=a[r];s&&l?Xe({spaceName:s.name,spacePassword:l,spaceId:r,onSuccess:()=>{ue(r)},onFail:()=>ue("default")}):ue(r);const u=localStorage.getItem("togglToken");u&&V(u);const d=ky.onAuthStateChanged(async e=>{if(e){k({id:e.uid,email:e.email}),T(!0);const t=Ng(xy,"users",e.uid),n=await my(t);if(n.exists()){const e=n.data(),t=(e.workspaces||{}).default||{};if(t.dates){const e={};Object.keys(t.dates).forEach(n=>{e[n]=t.dates[n].map(e=>c(c({},e),{},{spaceId:e.spaceId||"default"}))}),o(e),localStorage.setItem("dates",JSON.stringify(e))}if(e.spaces){const t=ce||"default";oe(e.spaces),localStorage.setItem("spaces",JSON.stringify({spaces:e.spaces,selectedSpaceId:t}))}e.togglToken&&(V(e.togglToken),localStorage.setItem("togglToken",e.togglToken)),e.quickTimer&&(_e(e.quickTimer.startTime),Ae(e.quickTimer.taskId||null))}vy(t,e=>{if(e.exists()){const t=e.data(),n=(t.workspaces||{}).default||{};if(rt.current)return;if(rt.current=!0,n.dates){const e={};Object.keys(n.dates).forEach(t=>{e[t]=n.dates[t].map(e=>c(c({},e),{},{spaceId:e.spaceId||"default"}))}),o(e),localStorage.setItem("dates",JSON.stringify(e))}if(t.spaces){const e=ce||"default";oe(t.spaces),localStorage.setItem("spaces",JSON.stringify({spaces:t.spaces,selectedSpaceId:e}))}t.togglToken&&(V(t.togglToken),localStorage.setItem("togglToken",t.togglToken)),t.quickTimer?(_e(t.quickTimer.startTime),Ae(t.quickTimer.taskId||null)):null===t.quickTimer&&(_e(null),Ae(null)),setTimeout(()=>{rt.current=!1},100)}})}});return()=>d()},[]),(0,r.useEffect)(()=>{localStorage.setItem("activeTimers",JSON.stringify(d))},[d]),(0,r.useEffect)(()=>{localStorage.setItem("unassignedTimes",JSON.stringify(Pe))},[Pe]),(0,r.useEffect)(()=>{localStorage.setItem("timerLogs",JSON.stringify(N))},[N]),(0,r.useEffect)(()=>{if(!(Object.values(d).some(e=>!1!==e)||Ee))return;const e=setInterval(()=>{p(e=>{const t={};return Object.keys(d).forEach(e=>{d[e]&&(t[e]=Math.floor((Date.now()-d[e])/1e3))}),t}),Ee&&Ce(Math.floor((Date.now()-Ee)/1e3))},1e3);return()=>clearInterval(e)},[d,Ee]),(0,r.useEffect)(()=>{if(localStorage.setItem("dates",JSON.stringify(a)),S&&x&&!rt.current){const e=setTimeout(async()=>{const e=document.activeElement,t=window.scrollY,n=Ng(xy,"users",S.id),r=Ee?{startTime:Ee,taskId:Ne||null}:null,i=await my(n),o=(i.exists()?i.data():{}).backupHistory||[],s={timestamp:Date.now(),dates:a,spaces:ae,togglToken:z};o.unshift(s),o.length>10&&o.splice(10),yy(n,{workspaces:{default:{dates:a}},spaces:ae,togglToken:z,quickTimer:r,backupHistory:o},{merge:!0}).then(()=>{window.scrollTo(0,t),e&&"TEXTAREA"===e.tagName&&e.focus({preventScroll:!0})})},3e3);return()=>clearTimeout(e)}},[a,S,x,ae,ce,z,Ee,Ne]),(0,r.useEffect)(()=>{localStorage.setItem("spaces",JSON.stringify({spaces:ae,selectedSpaceId:ce}));const e=ae.map(e=>c(c({},e),{},{password:null}));if(S&&x&&!rt.current){yy(Ng(xy,"users",S.id),{spaces:e},{merge:!0})}},[ae,ce,S,x]),(0,r.useEffect)(()=>{localStorage.setItem("localPasswords",JSON.stringify(se))},[se]),(0,r.useEffect)(()=>{if(ce&&ae.length>0){const e=ae.find(e=>e.id===ce);if(e&&e.password){prompt('"'.concat(e.name,'" \ube44\ubc00\ubc88\ud638:'))!==e.password&&(alert("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."),ue("default"))}}},[]);const lt=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(o(e),t){const t=m.slice(0,y+1);t.push(JSON.parse(JSON.stringify(e))),g(t),v(t.length-1)}},ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;console.log("[Enter] \uc2dc\uc791"),w([]),console.log("[Enter] isMutatingList = true");const r=c({},a);r[e]||(r[e]=[]);const i=Date.now();it.current=i,console.log("[Enter] \uc0c8 \ud560\uc77c \uc0dd\uc131:",i);const o={id:i,text:"",todayTime:0,totalTime:0,todayGoal:0,totalGoal:0,completed:!1,indentLevel:0,spaceId:ce||"default",type:"task"};if(t.length>0){const n=r[e].find(e=>e.id===t[0]);if(n){o.indentLevel=(n.indentLevel||0)+1;const i=r[e].findIndex(e=>e.id===t[0]);r[e].splice(i+1,0,o)}}else if(-1===n)r[e].push(o);else{const t=r[e][n];o.indentLevel=t?t.indentLevel:0,r[e].splice(n+1,0,o)}lt(r),console.log("[Enter] saveTasks \uc644\ub8cc"),console.log("[Enter] requestAnimationFrame 1"),requestAnimationFrame(()=>{console.log("[Enter] requestAnimationFrame 2"),requestAnimationFrame(()=>{console.log("[Enter] \ud3ec\ucee4\uc2a4 \uc2dc\ub3c4");const e=document.querySelector('textarea[data-task-id="'.concat(o.id,'"]'));if(console.log("[Enter] textarea \ucc3e\uc74c:",!!e),e){e.focus({preventScroll:!0});try{e.setSelectionRange(0,0)}catch(t){}console.log("[Enter] \ud3ec\ucee4\uc2a4 \uc644\ub8cc, activeElement:",document.activeElement.getAttribute("data-task-id"))}console.log("[Enter] \ub05d")})})},ut=(e,t)=>{st();const n=window.scrollY,r=c({},a),i=[...te];if(b.length>0)b.forEach(t=>{const n=r[e].findIndex(e=>e.id===t);if(-1!==n){const t=r[e][n];i.push({task:t,dateKey:e,deletedAt:Date.now()}),r[e].splice(n,1)}}),w([]);else{const n=Array.isArray(t)?t[0]:t,a=r[e].findIndex(e=>e.id===n);if(-1!==a){const t=r[e][a];i.push({task:t,dateKey:e,deletedAt:Date.now()}),r[e].splice(a,1)}}o(r),lt(r),ne(i),localStorage.setItem("trash",JSON.stringify(i)),setTimeout(()=>{window.scrollTo(0,n)},0)},dt=(e,t,n)=>{console.log("moveTask \ud638\ucd9c:",{taskId:t,direction:n});const r=document.activeElement,i=r&&"TEXTAREA"===r.tagName?r.selectionStart:0;st();const o=window.scrollY,s=c({},a),l=s[e];if(console.log("selectedTasks.length:",b.length,"selectedTasks:",b),b.length>0)console.log("\ub2e4\uc911 \uc120\ud0dd \ubd84\uae30"),b.forEach(e=>{const t=l.find(t=>t.id===e);t&&("indent"===n?t.indentLevel=(t.indentLevel||0)+1:"outdent"===n&&t.indentLevel>0&&(t.indentLevel-=1))});else{const e=l.findIndex(e=>e.id===t);console.log("\ub2e8\uc77c \uc791\uc5c5: idx =",e,"taskId =",t,"tasks.length =",l.length);const r=l[e];r&&(console.log("\uc791\uc5c5:",r.text,"indentLevel:",r.indentLevel),"indent"===n?r.indentLevel=(r.indentLevel||0)+1:"outdent"===n&&r.indentLevel>0&&(r.indentLevel-=1),console.log("\ubcc0\uacbd \ud6c4:",r.indentLevel))}lt(s),setTimeout(()=>{window.scrollTo(0,o);const e=document.querySelector('textarea[data-task-id="'.concat(t,'"]'));if(e&&r&&"TEXTAREA"===r.tagName){e.focus({preventScroll:!0});try{e.setSelectionRange(i,i)}catch(n){}}We(t)},0)},ht=(e,t,n,r)=>{const i=c({},a);let s=i[e];for(let a=0;a<t.length-1;a++)s=s.find(e=>e.id===t[a]).children;if(s=s.find(e=>e.id===t[t.length-1]),"todayTime"===n&&s.text){const e=r-s.todayTime;s.todayTime=r,Object.keys(i).forEach(t=>{const n=t=>{t.forEach(t=>{t.text===s.text&&(t.totalTime+=e),t.children&&n(t.children)})};i[t]&&n(i[t])})}else if("totalTime"===n&&s.text)Object.keys(i).forEach(e=>{const t=e=>{e.forEach(e=>{e.text===s.text&&(e.totalTime=r),e.children&&t(e.children)})};i[e]&&t(i[e])});else if(s[n]=r,"completed"===n&&!0===r?s.completedAt=(new Date).toISOString():"completed"===n&&!1===r&&delete s.completedAt,"text"===n&&r.trim()&&0===s.totalTime){let e=0;Object.keys(a).forEach(t=>{const n=a[t].find(e=>e.text===r.trim());n&&n.totalTime>e&&(e=n.totalTime)}),e>0&&(s.totalTime=e)}if(o(i),lt(i),"text"===n&&r.trim()){const e=c({},P);e[r.trim()]={todayGoal:s.todayGoal,totalGoal:s.totalGoal,totalTime:s.totalTime},R(e),localStorage.setItem("taskHistory",JSON.stringify(e))}},ft=async(e,t)=>{const n="".concat(e,"-").concat(t.join("-"));if(d[n]){const r=d[n],i=Date.now(),s=Math.floor((i-r)/1e3),l=Y[n],u=c({},a);let m=u[e];for(let e=0;e<t.length-1;e++)m=m.find(n=>n.id===t[e]).children;const g=m.find(e=>e.id===t[t.length-1]);g.todayTime+=s,g.completed=!0,g.completedAt=(new Date).toISOString(),g.completed=!0,g.completedAt=(new Date).toISOString();const y=g.text;Object.keys(u).forEach(e=>{const t=e=>{e.forEach(e=>{e.text===y&&(e.totalTime+=s),e.children&&t(e.children)})};u[e]&&t(u[e])}),o(u),lt(u);const v=c({},N);if(v[e]||(v[e]=[]),v[e].push({taskName:g.text||"(\uc81c\ubaa9 \uc5c6\uc74c)",startTime:new Date(r).toISOString(),endTime:new Date(i).toISOString(),duration:s}),A(v),z&&l&&s>=1){const e=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{if(!(await fetch("/api/toggl?token=".concat(encodeURIComponent(z),"&entryId=").concat(l),{method:"PATCH",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Toggl \uc885\ub8cc \uc2e4\ud328");const e=c({},Y);delete e[n],X(e)}catch(r){if(console.error("Toggl \uc885\ub8cc \uc2e4\ud328 (\uc2dc\ub3c4 ".concat(t+1,"/3):"),r),t<2)setTimeout(()=>e(t+1),2e3);else{console.log("Toggl \uac15\uc81c \uc885\ub8cc \uc2dc\ub3c4");try{const e=await fetch("/api/toggl?token=".concat(encodeURIComponent(z)),{method:"GET"});let t=null;const n=e.headers.get("content-type");if(n&&n.includes("application/json"))t=await e.json();else{const t=await e.text();console.error("Toggl API \uc751\ub2f5\uc774 JSON\uc774 \uc544\ub2d9\ub2c8\ub2e4:",t)}e.ok&&t&&t.id&&await fetch("/api/toggl?token=".concat(encodeURIComponent(z),"&entryId=").concat(t.id),{method:"PATCH"})}catch(i){console.error("Toggl \uac15\uc81c \uc885\ub8cc \uc2e4\ud328:",i)}const e=c({},Y);delete e[n],X(e)}}};e()}const b=c({},d);b[n]=!1,h(b);const w=c({},f);w[n]=0,p(w)}else if(h(c(c({},d),{},{[n]:Date.now()})),p(c(c({},f),{},{[n]:0})),z)try{const i=await fetch("/api/toggl?token=".concat(encodeURIComponent(z)),{method:"GET"});let o=null;const s=i.headers.get("content-type");if(s&&s.includes("application/json"))o=await i.json();else{const e=await i.text();console.error("Toggl API \uc751\ub2f5\uc774 JSON\uc774 \uc544\ub2d9\ub2c8\ub2e4:",e)}i.ok&&o&&o.id&&await fetch("/api/toggl?token=".concat(encodeURIComponent(z),"&entryId=").concat(o.id),{method:"PATCH"});let l=c({},a)[e];for(let e=0;e<t.length-1;e++)l=l.find(n=>n.id===t[e]).children;const u=l.find(e=>e.id===t[t.length-1]),d=await fetch("/api/toggl?token=".concat(encodeURIComponent(z)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:u.text||"(\uc81c\ubaa9 \uc5c6\uc74c)",start:(new Date).toISOString(),duration:-1,created_with:"SimpleOne"})});let h=null;const f=d.headers.get("content-type");if(!f||!f.includes("application/json")){const e=await d.text();return console.error("Toggl API \uc751\ub2f5\uc774 JSON\uc774 \uc544\ub2d9\ub2c8\ub2e4:",e),void alert("Toggl \uc5f0\ub3d9 \uc2e4\ud328: "+e.substring(0,100))}var r;if(h=await d.json(),d.ok)X(c(c({},Y),{},{[n]:h.id}));else console.error("Toggl API \uc5d0\ub7ec:",h),alert("Toggl \uc5f0\ub3d9 \uc2e4\ud328: "+((null===(r=h)||void 0===r?void 0:r.error)||JSON.stringify(h)))}catch(i){console.error("Toggl \uc2dc\uc791 \uc2e4\ud328:",i),alert("Toggl \uc5f0\ub3d9 \uc2e4\ud328: "+i.message)}},pt=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return t>0?"".concat(t,"h ").concat(n,"m ").concat(r,"s"):n>0?"".concat(n,"m ").concat(r,"s"):"".concat(r,"s")},mt=e=>{const t=(a[e]||[]).filter(e=>(e.spaceId||"default")===ce),n=e=>{let t=0,r=0;return e.forEach(e=>{t++,e.completed&&r++;const i=n(e.children||[]);t+=i.total,r+=i.completed}),{total:t,completed:r}};return n(t)},gt=(e,t)=>{var n;const r=null===(n=a[e])||void 0===n?void 0:n.find(e=>e.id===t);if(!r)return[];const i=[];return Object.keys(a).forEach(e=>{const t=a[e]||[],n=t.findIndex(e=>e.text===r.text&&(e.spaceId||"default")===(r.spaceId||"default"));if(-1!==n){const r=t[n].indentLevel||0;for(let a=n+1;a<t.length;a++){const n=t[a];if((n.indentLevel||0)<=r)break;(n.indentLevel||0)===r+1&&i.push(c(c({},n),{},{dateKey:e}))}}}),i},yt=()=>{const e=N[vt]||[],t=[];e.forEach(e=>{const n=new Date(e.startTime),r=new Date(e.endTime);t.push({text:e.taskName,completedTime:"".concat(String(n.getHours()).padStart(2,"0"),":").concat(String(n.getMinutes()).padStart(2,"0"),"-").concat(String(r.getHours()).padStart(2,"0"),":").concat(String(r.getMinutes()).padStart(2,"0")),sortTime:r.getTime(),id:"log-".concat(e.startTime)})});return(a[vt]||[]).filter(e=>(e.spaceId||"default")===ce&&e.completed).forEach(n=>{if(n.completedAt){const r=new Date(n.completedAt);"".concat(r.getFullYear(),"-").concat(String(r.getMonth()+1).padStart(2,"0"),"-").concat(String(r.getDate()).padStart(2,"0"))!==vt||e.find(e=>e.taskName===n.text)||t.push({text:n.text,completedTime:"".concat(String(r.getHours()).padStart(2,"0"),":").concat(String(r.getMinutes()).padStart(2,"0")),sortTime:r.getTime(),id:"task-".concat(n.id)})}}),t.sort((e,t)=>e.sortTime-t.sortTime)},vt="".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"),"-").concat(String(s.getDate()).padStart(2,"0")),bt=async()=>{try{await function(e){return Un(e).signOut()}(ky),k(null),T(!1)}catch(e){alert("\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328: "+e.message)}};return He?(0,u.jsx)("div",{className:"App",children:(0,u.jsx)("div",{className:"popup-overlay",children:(0,u.jsxs)("div",{className:"popup",style:{maxWidth:"400px"},children:[(0,u.jsx)("h3",{children:"\ud83d\udcc1 \uacf5\uac04 \uc120\ud0dd"}),(0,u.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginBottom:"10px"},children:ae.map(e=>(0,u.jsx)("div",{style:{padding:"12px",marginBottom:"8px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",cursor:"pointer",border:"1px solid rgba(255,255,255,0.1)"},onClick:()=>{const t=se[e.id];t?(qe(!1),Xe({spaceName:e.name,spacePassword:t,spaceId:e.id,onSuccess:()=>ue(e.id),onFail:()=>ue("default")})):(ue(e.id),qe(!1))},children:(0,u.jsxs)("div",{style:{fontSize:"16px",fontWeight:"bold"},children:[e.name," ",se[e.id]&&"\ud83d\udd12"]})},e.id))})]})})}):Ye?(0,u.jsx)("div",{className:"App",children:(0,u.jsx)("div",{className:"popup-overlay",children:(0,u.jsxs)("div",{className:"popup",style:{maxWidth:"300px"},children:[(0,u.jsx)("h3",{children:"\ud83d\udd12 \ube44\ubc00\ubc88\ud638"}),(0,u.jsx)("select",{value:Ye.spaceId,onChange:e=>{const t=ae.find(t=>t.id===e.target.value),n=se[e.target.value];t&&(n?Xe({spaceName:t.name,spacePassword:n,spaceId:t.id,onSuccess:Ye.onSuccess,onFail:Ye.onFail}):(Xe(null),ue(t.id)))},style:{width:"100%",padding:"8px",marginBottom:"10px",fontSize:"14px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"inherit",boxSizing:"border-box"},children:ae.map(e=>(0,u.jsxs)("option",{value:e.id,children:[e.name,se[e.id]&&" \ud83d\udd12"]},e.id))}),(0,u.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \uc785\ub825",autoFocus:!0,style:{width:"100%",padding:"8px",marginBottom:"10px",fontSize:"14px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"inherit",boxSizing:"border-box"},onKeyDown:e=>{"Enter"===e.key&&(e.target.value===Ye.spacePassword?(Xe(null),ue(Ye.spaceId)):(alert("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."),e.target.value=""))}}),(0,u.jsx)("div",{className:"popup-buttons",children:(0,u.jsx)("button",{onClick:e=>{const t=e.target.parentElement.parentElement.querySelector('input[type="password"]');t.value===Ye.spacePassword?(Xe(null),ue(Ye.spaceId)):(alert("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."),t.value="")},children:"\ud655\uc778"})})]})})}):(0,u.jsxs)("div",{className:"App",children:[de&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>he(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),style:{maxWidth:"500px"},children:[(0,u.jsxs)("h3",{children:["\ud83d\udccb ",(null===(e=a[de.dateKey])||void 0===e||null===(t=e.find(e=>e.id===de.taskId))||void 0===t?void 0:t.text)||"\ud560\uc77c"," - \ud558\uc704\ud560\uc77c"]}),(0,u.jsx)("button",{onClick:()=>he(null),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),(0,u.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginBottom:"10px"},children:(()=>{const e=gt(de.dateKey,de.taskId),t={};return e.forEach(e=>{const n=e.dateKey;t[n]||(t[n]=[]),t[n].push(e)}),Object.keys(t).sort().map(e=>(0,u.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,u.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"8px",fontWeight:"bold"},children:e}),t[e].map(e=>(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",marginBottom:"4px",background:"rgba(255,255,255,0.03)",borderRadius:"4px"},children:[(0,u.jsx)("input",{type:"checkbox",checked:e.completed,onChange:t=>ht(e.dateKey,[e.id],"completed",t.target.checked)}),(0,u.jsx)("input",{type:"text",value:e.text,onChange:t=>ht(e.dateKey,[e.id],"text",t.target.value),style:{flex:1,background:"transparent",border:"none",color:e.completed?"#4CAF50":"inherit",fontSize:"14px",outline:"none"}})]},e.id))]},e))})()}),(0,u.jsxs)("div",{className:"popup-buttons",children:[(0,u.jsx)("button",{onClick:()=>{((e,t)=>{const n=c({},a),r=n[e]||[],i=r.findIndex(e=>e.id===t);if(-1===i)return;const o=r[i],s={id:Date.now(),text:"",todayTime:0,totalTime:0,todayGoal:0,totalGoal:0,completed:!1,indentLevel:(o.indentLevel||0)+1,spaceId:ce||"default",type:"task"};r.splice(i+1,0,s),lt(n)})(de.dateKey,de.taskId)},children:"+ \ud558\uc704\ud560\uc77c \ucd94\uac00"}),(0,u.jsx)("button",{onClick:()=>he(null),children:"\ub2eb\uae30"})]})]})}),me&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>ge(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),style:{maxWidth:"500px"},children:[(0,u.jsxs)("h3",{children:["\ud83d\udeab ",me.taskName," - \ubc29\ud574\uc694\uc18c (",(e=>{const t=null===(e=a[me.dateKey])||void 0===e?void 0:e.find(e=>e.id===me.taskId);return((null===t||void 0===t?void 0:t.obstacles)||[]).length})(),"\uac1c)"]}),(0,u.jsx)("button",{onClick:()=>ge(null),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),(0,u.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginBottom:"10px"},children:(e=>{const t=null===(e=a[me.dateKey])||void 0===e?void 0:e.find(e=>e.id===me.taskId);return((null===t||void 0===t?void 0:t.obstacles)||[]).map((e,t)=>(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",marginBottom:"4px",background:"rgba(255,255,255,0.03)",borderRadius:"4px"},children:[(0,u.jsx)("input",{type:"text",value:e.text,onChange:e=>{const n=c({},a),r=n[me.dateKey].find(e=>e.id===me.taskId);r&&r.obstacles&&(r.obstacles[t].text=e.target.value,o(n),lt(n))},style:{flex:1,background:"transparent",border:"none",color:"inherit",fontSize:"14px",outline:"none"}}),(0,u.jsx)("button",{onClick:()=>{const e=c({},a),n=e[me.dateKey].find(e=>e.id===me.taskId);n&&n.obstacles&&(n.obstacles.splice(t,1),o(e),lt(e))},style:{background:"none",border:"none",color:"#dc3545",cursor:"pointer",fontSize:"16px"},children:"\u2715"})]},e.timestamp))})()}),(0,u.jsxs)("div",{className:"popup-buttons",children:[(0,u.jsx)("button",{onClick:()=>{const e=c({},a),t=e[me.dateKey].find(e=>e.id===me.taskId);t&&(t.obstacles||(t.obstacles=[]),t.obstacles.push({text:"",timestamp:Date.now()}),o(e),lt(e))},children:"+ \ubc29\ud574\uc694\uc18c \ucd94\uac00"}),(0,u.jsx)("button",{onClick:()=>ge(null),children:"\ub2eb\uae30"})]})]})}),Se&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>ke(!1),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),style:{maxWidth:"500px"},children:[(0,u.jsx)("h3",{children:"\u23f1\ufe0f \uc791\uc5c5 \uc120\ud0dd"}),(0,u.jsx)("button",{onClick:()=>ke(!1),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),(0,u.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginBottom:"10px"},children:(()=>{const e=(a[vt]||[]).filter(e=>(e.spaceId||"default")===ce);return 0===e.length?(0,u.jsx)("p",{style:{fontSize:"14px",color:"#888",textAlign:"center",padding:"20px"},children:"\uc791\uc5c5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):e.map(e=>{const t=Ne===e.id;return(0,u.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",marginBottom:"4px",background:t?"rgba(76,175,80,0.2)":"rgba(255,255,255,0.03)",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},onClick:t=>{t.stopPropagation(),Ae(Number(e.id)),Fe(e.text),ke(!1)},children:(0,u.jsx)("span",{style:{flex:1,textAlign:"left"},children:e.text||"(\uc81c\ubaa9 \uc5c6\uc74c)"})},e.id)})})()}),(0,u.jsx)("div",{className:"popup-buttons",children:(0,u.jsx)("button",{onClick:()=>ke(!1),children:"\ub2eb\uae30"})})]})}),U&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>B(!1),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("h3",{children:"\u23f1\ufe0f Toggl API"}),(0,u.jsx)("input",{type:"text",value:z,onChange:e=>V(e.target.value),placeholder:"API Token",style:{width:"100%",padding:"8px",marginBottom:"10px"}}),(0,u.jsxs)("div",{className:"popup-buttons",children:[(0,u.jsx)("button",{onClick:()=>{localStorage.setItem("togglToken",z),B(!1)},children:"\uc800\uc7a5"}),(0,u.jsx)("button",{onClick:()=>B(!1),children:"\ucde8\uc18c"})]})]})}),M&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>F(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("h3",{children:"\u23f0 \ud0c0\uc784\ub77c\uc778 \uc218\uc815"}),(0,u.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,u.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"\uc2dc\uc791 \uc2dc\uac04"}),(0,u.jsx)("input",{type:"time",value:new Date(M.log.startTime).toTimeString().slice(0,5),onChange:e=>{const[t,n]=e.target.value.split(":"),r=new Date(M.log.startTime);r.setHours(parseInt(t),parseInt(n),0),F(c(c({},M),{},{log:c(c({},M.log),{},{startTime:r.toISOString()})}))},style:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #555"}})]}),(0,u.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,u.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"\uc885\ub8cc \uc2dc\uac04"}),(0,u.jsx)("input",{type:"time",value:new Date(M.log.endTime).toTimeString().slice(0,5),onChange:e=>{const[t,n]=e.target.value.split(":"),r=new Date(M.log.endTime);r.setHours(parseInt(t),parseInt(n),0),F(c(c({},M),{},{log:c(c({},M.log),{},{endTime:r.toISOString()})}))},style:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #555"}})]}),(0,u.jsxs)("div",{className:"popup-buttons",children:[(0,u.jsx)("button",{onClick:()=>{const e=c({},N),t=new Date(M.log.startTime),n=new Date(M.log.endTime),r=Math.floor((n-t)/1e3);e[M.dateKey][M.logIndex]=c(c({},M.log),{},{duration:r}),A(e),F(null)},children:"\ud655\uc778"}),(0,u.jsx)("button",{onClick:()=>{const e=c({},N);e[M.dateKey].splice(M.logIndex,1),A(e),F(null)},children:"\uc0ad\uc81c"}),(0,u.jsx)("button",{onClick:()=>F(null),children:"\ucde8\uc18c"})]})]})}),L&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>j(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("h3",{children:"today"===L.type?"\ud83d\udcc5 \uc624\ub298 \uc2dc\uac04":"\u23f1\ufe0f \ucd1d \uc2dc\uac04"}),"today"===L.type&&(0,u.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,u.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px",display:"block"},children:"\uc2dc\uc791 \uc2dc\uac04"}),(0,u.jsxs)("div",{style:{display:"flex",gap:"5px",alignItems:"center"},children:[(0,u.jsx)("input",{type:"time",value:L.startTime||"",onChange:e=>j(c(c({},L),{},{startTime:e.target.value})),style:{flex:1,padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"inherit"}}),L.startTime&&(0,u.jsx)("button",{onClick:()=>j(c(c({},L),{},{startTime:""})),style:{padding:"8px 12px",fontSize:"14px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"inherit",cursor:"pointer"},children:"\u2715"})]})]}),(0,u.jsxs)("div",{className:"popup-inputs",style:{display:"flex",gap:"5px",alignItems:"center"},children:[(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,u.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"\uc2dc"}),(0,u.jsx)("input",{type:"number",min:"0",placeholder:"00",value:String(Math.floor(L.time/3600)).padStart(2,"0"),onChange:e=>{const t=parseInt(e.target.value)||0,n=Math.floor(L.time%3600/60),r=L.time%60;j(c(c({},L),{},{time:3600*t+60*n+r}))},onClick:e=>e.target.select(),style:{width:"60px",fontSize:"24px",textAlign:"center"}})]}),(0,u.jsx)("span",{style:{fontSize:"24px",marginTop:"20px"},children:":"}),(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,u.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"\ubd84"}),(0,u.jsx)("input",{type:"number",min:"0",max:"59",placeholder:"00",value:String(Math.floor(L.time%3600/60)).padStart(2,"0"),onChange:e=>{const t=e.target.value,n=Math.floor(L.time/3600),r=Math.min(parseInt(t)||0,59),i=L.time%60;j(c(c({},L),{},{time:3600*n+60*r+i}))},onClick:e=>e.target.select(),style:{width:"60px",fontSize:"24px",textAlign:"center"}})]}),(0,u.jsx)("span",{style:{fontSize:"24px",marginTop:"20px"},children:":"}),(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,u.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px"},children:"\ucd08"}),(0,u.jsx)("input",{type:"number",min:"0",max:"59",placeholder:"00",value:String(L.time%60).padStart(2,"0"),onChange:e=>{const t=e.target.value,n=Math.floor(L.time/3600),r=Math.floor(L.time%3600/60),i=Math.min(parseInt(t)||0,59);j(c(c({},L),{},{time:3600*n+60*r+i}))},onClick:e=>e.target.select(),style:{width:"60px",fontSize:"24px",textAlign:"center"}})]})]}),(0,u.jsxs)("div",{className:"popup-buttons",children:[(0,u.jsx)("button",{onClick:()=>{const e="today"===L.type?"todayTime":"totalTime";if(ht(L.dateKey,L.path,e,L.time),"today"===L.type)if(L.startTime)ht(L.dateKey,L.path,"startTime",L.startTime);else{const e=c({},a),t=e[L.dateKey].find(e=>e.id===L.path[0]);t&&(delete t.startTime,o(e))}j(null)},children:"\ud655\uc778"}),(0,u.jsx)("button",{onClick:()=>j(null),children:"\ucde8\uc18c"})]})]})}),D&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>O(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("h3",{children:"\ud83c\udfaf \ubaa9\ud45c \uc2dc\uac04"}),(0,u.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,u.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px",display:"block"},children:"\uc624\ub298 \ubaa9\ud45c"}),(0,u.jsxs)("div",{className:"popup-inputs",style:{display:"flex",gap:"5px",alignItems:"center",justifyContent:"center"},children:[(0,u.jsx)("input",{type:"number",min:"0",placeholder:"00",value:String(Math.floor(D.todayGoal/3600)).padStart(2,"0"),onChange:e=>{const t=parseInt(e.target.value)||0,n=Math.floor(D.todayGoal%3600/60),r=D.todayGoal%60;O(c(c({},D),{},{todayGoal:3600*t+60*n+r}))},onClick:e=>e.target.select(),style:{width:"50px",fontSize:"20px",textAlign:"center"}}),(0,u.jsx)("span",{style:{fontSize:"20px"},children:":"}),(0,u.jsx)("input",{type:"number",min:"0",max:"59",placeholder:"00",value:String(Math.floor(D.todayGoal%3600/60)).padStart(2,"0"),onChange:e=>{const t=Math.floor(D.todayGoal/3600),n=Math.min(parseInt(e.target.value)||0,59),r=D.todayGoal%60;O(c(c({},D),{},{todayGoal:3600*t+60*n+r}))},onClick:e=>e.target.select(),style:{width:"50px",fontSize:"20px",textAlign:"center"}}),(0,u.jsx)("span",{style:{fontSize:"20px"},children:":"}),(0,u.jsx)("input",{type:"number",min:"0",max:"59",placeholder:"00",value:String(D.todayGoal%60).padStart(2,"0"),onChange:e=>{const t=Math.floor(D.todayGoal/3600),n=Math.floor(D.todayGoal%3600/60),r=Math.min(parseInt(e.target.value)||0,59);O(c(c({},D),{},{todayGoal:3600*t+60*n+r}))},onClick:e=>e.target.select(),style:{width:"50px",fontSize:"20px",textAlign:"center"}})]})]}),(0,u.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,u.jsx)("label",{style:{fontSize:"12px",marginBottom:"4px",display:"block"},children:"\ucd1d \ubaa9\ud45c"}),(0,u.jsxs)("div",{className:"popup-inputs",style:{display:"flex",gap:"5px",alignItems:"center",justifyContent:"center"},children:[(0,u.jsx)("input",{type:"number",min:"0",placeholder:"00",value:String(Math.floor(D.totalGoal/3600)).padStart(2,"0"),onChange:e=>{const t=parseInt(e.target.value)||0,n=Math.floor(D.totalGoal%3600/60),r=D.totalGoal%60;O(c(c({},D),{},{totalGoal:3600*t+60*n+r}))},onClick:e=>e.target.select(),style:{width:"50px",fontSize:"20px",textAlign:"center"}}),(0,u.jsx)("span",{style:{fontSize:"20px"},children:":"}),(0,u.jsx)("input",{type:"number",min:"0",max:"59",placeholder:"00",value:String(Math.floor(D.totalGoal%3600/60)).padStart(2,"0"),onChange:e=>{const t=Math.floor(D.totalGoal/3600),n=Math.min(parseInt(e.target.value)||0,59),r=D.totalGoal%60;O(c(c({},D),{},{totalGoal:3600*t+60*n+r}))},onClick:e=>e.target.select(),style:{width:"50px",fontSize:"20px",textAlign:"center"}}),(0,u.jsx)("span",{style:{fontSize:"20px"},children:":"}),(0,u.jsx)("input",{type:"number",min:"0",max:"59",placeholder:"00",value:String(D.totalGoal%60).padStart(2,"0"),onChange:e=>{const t=Math.floor(D.totalGoal/3600),n=Math.floor(D.totalGoal%3600/60),r=Math.min(parseInt(e.target.value)||0,59);O(c(c({},D),{},{totalGoal:3600*t+60*n+r}))},onClick:e=>e.target.select(),style:{width:"50px",fontSize:"20px",textAlign:"center"}})]})]}),(0,u.jsxs)("div",{className:"popup-buttons",children:[(0,u.jsx)("button",{onClick:()=>{ht(D.dateKey,D.path,"todayGoal",D.todayGoal),ht(D.dateKey,D.path,"totalGoal",D.totalGoal),O(null)},children:"\ud655\uc778"}),(0,u.jsx)("button",{onClick:()=>O(null),children:"\ucde8\uc18c"})]})]})}),xe&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>Te(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px",width:"90vw"},children:[(0,u.jsxs)("h3",{children:["\ud83d\udcca ",xe.taskName," \uae30\ub85d"]}),(0,u.jsx)("button",{onClick:()=>Te(null),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),(0,u.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,u.jsx)("h4",{style:{fontSize:"14px",marginBottom:"10px"},children:"90\uc77c \ud788\ud2b8\ub9f5"}),(0,u.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(15, 1fr)",gap:"2px"},children:Array.from({length:90},(e,t)=>{const n=new Date;n.setDate(n.getDate()-(89-t));const r="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"),"-").concat(String(n.getDate()).padStart(2,"0")),i=a[r]||[],o=i.findIndex(e=>e.text===xe.taskName),s=i[o],l=!!s,c=null===s||void 0===s?void 0:s.completed;let d=[];if(s&&-1!==o){const e=s.indentLevel||0;for(let t=o+1;t<i.length;t++){const n=i[t];if((n.indentLevel||0)<=e)break;d.push(n)}}const h=d.filter(e=>e.completed).length,f=d.length;return(0,u.jsx)("div",{style:{width:"100%",paddingBottom:"100%",background:c?"#4CAF50":l?"#FFA726":"#333",borderRadius:"2px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},title:"".concat(r,": ").concat(c?"\uc644\ub8cc":l?"\uc9c4\ud589\uc911":"\uc5c6\uc74c").concat(f>0?" (\ud558\uc704: ".concat(h,"/").concat(f,")"):""),children:f>0&&(0,u.jsxs)("span",{style:{position:"absolute",fontSize:"10px",color:"white",fontWeight:"bold",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[h,"/",f]})},t)})}),(0,u.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"10px",fontSize:"12px",justifyContent:"center"},children:[(0,u.jsxs)("span",{children:[(0,u.jsx)("span",{style:{display:"inline-block",width:"12px",height:"12px",background:"#4CAF50",borderRadius:"2px",marginRight:"4px"}}),"\uc644\ub8cc"]}),(0,u.jsxs)("span",{children:[(0,u.jsx)("span",{style:{display:"inline-block",width:"12px",height:"12px",background:"#FFA726",borderRadius:"2px",marginRight:"4px"}}),"\uc9c4\ud589\uc911"]}),(0,u.jsxs)("span",{children:[(0,u.jsx)("span",{style:{display:"inline-block",width:"12px",height:"12px",background:"#333",borderRadius:"2px",marginRight:"4px"}}),"\uc5c6\uc74c"]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{style:{fontSize:"14px",marginBottom:"10px"},children:"\ub0a0\uc9dc\ubcc4 \uae30\ub85d"}),(0,u.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto"},children:(()=>{const e=[];return Object.keys(a).sort().reverse().forEach(t=>{const n=a[t].find(e=>e.text===xe.taskName);n&&e.push({dateKey:t,task:n})}),0===e.length?(0,u.jsx)("p",{style:{fontSize:"14px",color:"#888",textAlign:"center",padding:"20px"},children:"\uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):e.map(e=>{let{dateKey:t,task:n}=e;const r=a[t]||[],i=r.findIndex(e=>e.text===xe.taskName);let s=[];if(-1!==i){const e=n.indentLevel||0;for(let t=i+1;t<r.length;t++){const n=r[t];if((n.indentLevel||0)<=e)break;s.push(n)}}return(0,u.jsxs)("div",{style:{padding:"8px",marginBottom:"4px",background:"rgba(255,255,255,0.03)",borderRadius:"4px",fontSize:"13px"},children:[(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,u.jsx)("span",{style:{fontWeight:"bold"},children:t}),n.completed&&(0,u.jsx)("span",{style:{color:"#4CAF50"},children:"\u2713 \uc644\ub8cc"})]}),(0,u.jsxs)("div",{style:{marginTop:"4px",color:"#888",fontSize:"12px"},children:["\uc624\ub298: ",pt(n.todayTime)," | \ucd1d: ",pt(n.totalTime),n.todayGoal>0&&" | \ubaa9\ud45c: ".concat(pt(n.todayGoal))]}),s.length>0&&(0,u.jsxs)("div",{style:{marginTop:"6px",paddingLeft:"8px",borderLeft:"2px solid #444"},children:[(0,u.jsxs)("div",{style:{fontSize:"11px",color:"#aaa",marginBottom:"4px"},children:["\ud558\uc704\ud560\uc77c (",s.filter(e=>e.completed).length,"/",s.length,")"]}),s.map((e,n)=>(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"11px",marginBottom:"2px"},children:[(0,u.jsx)("input",{type:"checkbox",checked:e.completed,onChange:n=>ht(t,[e.id],"completed",n.target.checked),style:{width:"12px",height:"12px"}}),(0,u.jsx)("input",{type:"text",value:e.text,onChange:n=>ht(t,[e.id],"text",n.target.value),onKeyDown:r=>{if("Enter"===r.key){r.preventDefault();const n=c({},a),i={id:Date.now(),text:"",todayTime:0,totalTime:0,todayGoal:0,totalGoal:0,completed:!1,indentLevel:e.indentLevel||0,spaceId:e.spaceId||"default"},s=n[t].findIndex(t=>t.id===e.id);n[t].splice(s+1,0,i),o(n),lt(n)}else if("Backspace"===r.key){const{selectionStart:n,selectionEnd:i,value:s}=r.target;if(0===n&&0===i&&""===s){r.preventDefault();const n=c({},a),i=n[t].findIndex(t=>t.id===e.id);-1!==i&&(n[t].splice(i,1),o(n),lt(n))}}else if("ArrowUp"===r.key){if(r.preventDefault(),n>0){const e=s[n-1],t=r.target.parentElement.parentElement.querySelector('input[data-sub-id="'.concat(e.id,'"]'));t&&t.focus()}}else if("ArrowDown"===r.key&&(r.preventDefault(),n<s.length-1)){const e=s[n+1],t=r.target.parentElement.parentElement.querySelector('input[data-sub-id="'.concat(e.id,'"]'));t&&t.focus()}},"data-sub-id":e.id,style:{flex:1,background:"transparent",border:"none",color:e.completed?"#4CAF50":"#888",fontSize:"11px",padding:"2px"}})]},e.id)),(0,u.jsx)("button",{onClick:()=>{const e=c({},a),r={id:Date.now(),text:"",todayTime:0,totalTime:0,todayGoal:0,totalGoal:0,completed:!1,indentLevel:(n.indentLevel||0)+1,spaceId:n.spaceId||"default"};e[t].splice(i+s.length+1,0,r),o(e),lt(e)},style:{marginTop:"4px",padding:"2px 6px",fontSize:"10px",background:"#4CAF50",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"+ \ud558\uc704\ud560\uc77c \ucd94\uac00"})]})]},t)})})()})]}),(0,u.jsx)("div",{className:"popup-buttons",style:{marginTop:"20px"},children:(0,u.jsx)("button",{onClick:()=>Te(null),children:"\ub2eb\uae30"})})]})}),re&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>ie(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("h3",{children:"\ud83d\uddd1\ufe0f \uc0ad\uc81c \ud655\uc778"}),(0,u.jsx)("p",{children:"\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),(0,u.jsxs)("div",{className:"popup-buttons",children:[(0,u.jsx)("button",{onClick:()=>{ut(re.dateKey,re.taskId),ie(null)},children:"\uc0ad\uc81c"}),(0,u.jsx)("button",{onClick:()=>ie(null),children:"\ucde8\uc18c"})]})]})}),ye&&void 0!==ye.taskIndex&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>ve(null),onContextMenu:e=>e.preventDefault()}),(0,u.jsxs)("div",{className:"context-menu",style:{position:"fixed",left:Math.min(ye.x,window.innerWidth-200),top:Math.min(ye.y,window.innerHeight-400),zIndex:10002},children:[(0,u.jsx)("div",{className:"context-menu-item",onClick:()=>{const e=document.querySelector('textarea[data-task-id="'.concat(ye.taskId,'"]'));e&&(e.readOnly=!1,e.focus(),e.setSelectionRange(e.value.length,e.value.length)),ve(null)},children:"\u270f\ufe0f \ud3b8\uc9d1"}),(0,u.jsx)("div",{className:"context-menu-item",onClick:()=>{const e=a[ye.dateKey].find(e=>e.id===ye.taskId);e&&ht(ye.dateKey,[ye.taskId],"completed",!e.completed),ve(null)},children:null!==(n=a[ye.dateKey])&&void 0!==n&&null!==(i=n.find(e=>e.id===ye.taskId))&&void 0!==i&&i.completed?"\u274c \uc644\ub8cc \ucde8\uc18c":"\u2705 \uc644\ub8cc"}),(0,u.jsx)("div",{className:"context-menu-item",onClick:()=>{he({dateKey:ye.dateKey,taskId:ye.taskId}),ve(null)},children:"\ud83d\udccb \ud558\uc704\ud560\uc77c"}),(0,u.jsx)("div",{className:"context-menu-item",onClick:()=>{const e=a[ye.dateKey].find(e=>e.id===ye.taskId);e&&e.text&&Te({taskName:e.text}),ve(null)},children:"\ud83d\udcca \ubaa8\uc544\ubcf4\uae30"}),(0,u.jsxs)("div",{className:"context-menu-item",onClick:()=>{const e=a[ye.dateKey].find(e=>e.id===ye.taskId);e&&ge({dateKey:ye.dateKey,taskId:ye.taskId,taskName:e.text}),ve(null)},children:["\ud83d\udeab \ubc29\ud574\uc694\uc18c ",(e=>{const t=null===(e=a[ye.dateKey])||void 0===e?void 0:e.find(e=>e.id===ye.taskId),n=((null===t||void 0===t?void 0:t.obstacles)||[]).length;return n>0?"(".concat(n,")"):""})()]}),(0,u.jsx)("div",{className:"context-menu-item",onClick:()=>{nt({dateKey:ye.dateKey,taskId:ye.taskId}),ve(null)},children:"\ud83d\udcc5 \ub0a0\uc9dc \ubcc0\uacbd"}),(0,u.jsx)("div",{className:"context-menu-item",onClick:()=>{window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&ut(ye.dateKey,ye.taskId),ve(null)},style:{color:"#dc3545"},children:"\ud83d\uddd1\ufe0f \uc0ad\uc81c"})]})]}),De&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>Oe(!1),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),style:{maxWidth:"400px"},children:[(0,u.jsxs)("h3",{children:["\u23f1\ufe0f ",pt(De.seconds)," \uae30\ub85d"]}),(0,u.jsx)("button",{onClick:()=>Oe(!1),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),(0,u.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,u.jsx)("p",{style:{fontSize:"14px",color:"#888",marginBottom:"10px",textAlign:"left"},children:"\uc5b4\ub5a4 \uc791\uc5c5\uc744 \ud558\uc168\ub098\uc694?"}),(0,u.jsx)("input",{type:"text",value:Le,onChange:e=>je(e.target.value),placeholder:"\uc791\uc5c5 \uc774\ub984 \uc785\ub825",style:{width:"100%",padding:"8px",marginBottom:"10px",fontSize:"14px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"inherit",boxSizing:"border-box"},onKeyDown:async e=>{if("Enter"===e.key&&e.target.value.trim()){const n=e.target.value.trim(),r=c({},a);r[vt]||(r[vt]=[]);let i=r[vt].find(e=>e.text===n&&(e.spaceId||"default")===ce);i||(i={id:Date.now(),text:n,todayTime:0,totalTime:0,todayGoal:0,totalGoal:0,completed:!1,indentLevel:0,spaceId:ce||"default"},r[vt].push(i)),i.todayTime+=De.seconds,i.completed=!0,i.completedAt=(new Date).toISOString();const s=i.text;Object.keys(r).forEach(e=>{const t=e=>{e.forEach(e=>{e.text===s&&(e.totalTime+=De.seconds),e.children&&t(e.children)})};r[e]&&t(r[e])}),o(r),lt(r);const l=c({},N);if(l[vt]||(l[vt]=[]),l[vt].push({taskName:i.text,startTime:new Date(De.startTime).toISOString(),endTime:new Date(De.startTime+1e3*De.seconds).toISOString(),duration:De.seconds}),A(l),z)try{const e=await fetch("/api/toggl?token=".concat(encodeURIComponent(z)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:i.text,start:new Date(De.startTime).toISOString(),duration:De.seconds,created_with:"SimpleOne"})});e.ok||console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",await e.json())}catch(t){console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",t)}Oe(!1)}}}),(0,u.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto"},children:(a[vt]||[]).filter(e=>(e.spaceId||"default")===ce).map(e=>(0,u.jsx)("div",{style:{padding:"8px",marginBottom:"4px",background:"rgba(255,255,255,0.03)",borderRadius:"4px",cursor:"pointer",fontSize:"14px",textAlign:"left"},onClick:()=>(e=>{if(!De)return;const t=De.seconds,n=c({},a),r=n[vt].find(t=>t.id===e);if(r){r.todayTime+=t,r.completed=!0,r.completedAt=(new Date).toISOString();const e=r.text;Object.keys(n).forEach(r=>{const i=n=>{n.forEach(n=>{n.text===e&&(n.totalTime+=t),n.children&&i(n.children)})};n[r]&&i(n[r])}),o(n),lt(n);const i=c({},N);i[vt]||(i[vt]=[]),i[vt].push({taskName:r.text||"(\uc81c\ubaa9 \uc5c6\uc74c)",startTime:new Date(De.startTime).toISOString(),endTime:new Date(De.startTime+1e3*t).toISOString(),duration:t}),A(i)}Oe(!1)})(e.id),children:e.text||"(\uc81c\ubaa9 \uc5c6\uc74c)"},e.id))})]}),(0,u.jsxs)("div",{className:"popup-buttons",children:[(0,u.jsx)("button",{onClick:async()=>{if(De)if(Le.trim()){const t=Le.trim(),n=c({},a);n[vt]||(n[vt]=[]);let r=n[vt].find(e=>e.text===t&&(e.spaceId||"default")===ce);r||(r={id:Date.now(),text:t,todayTime:0,totalTime:0,todayGoal:0,totalGoal:0,completed:!1,indentLevel:0,spaceId:ce||"default"},n[vt].push(r)),r.todayTime+=De.seconds,r.completed=!0,r.completedAt=(new Date).toISOString();const i=r.text;Object.keys(n).forEach(e=>{const t=e=>{e.forEach(e=>{e.text===i&&(e.totalTime+=De.seconds),e.children&&t(e.children)})};n[e]&&t(n[e])}),o(n),lt(n);const s=c({},N);if(s[vt]||(s[vt]=[]),s[vt].push({taskName:r.text,startTime:new Date(De.startTime).toISOString(),endTime:new Date(De.startTime+1e3*De.seconds).toISOString(),duration:De.seconds}),A(s),z)try{const e=await fetch("/api/toggl?token=".concat(encodeURIComponent(z)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:r.text,start:new Date(De.startTime).toISOString(),duration:De.seconds,created_with:"SimpleOne"})});if(!e.ok){const t=e.headers.get("content-type");if(t&&t.includes("application/json"))console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",await e.json());else{const t=await e.text();console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",t)}}}catch(e){console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",e)}Oe(!1),je("")}else{const e=[...Pe,{dateKey:vt,seconds:De.seconds,startTime:De.startTime,timestamp:Date.now(),text:""}];Re(e),Oe(!1),je("")}},children:Le.trim()?"\uc644\ub8cc":"\ub098\uc911\uc5d0"}),(0,u.jsx)("button",{onClick:()=>Oe(!1),children:"\ucde8\uc18c"})]})]})}),G&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>Q(!1),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),children:[(0,u.jsxs)("h3",{children:["\ud83d\uddd1\ufe0f \ud734\uc9c0\ud1b5 (",te.length,")"]}),(0,u.jsx)("button",{onClick:()=>Q(!1),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),te.length>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"10px"},children:te.map((e,t)=>(0,u.jsxs)("div",{style:{display:"flex",gap:"5px",marginBottom:"5px",fontSize:"12px",alignItems:"center",padding:"8px",background:"rgba(255,255,255,0.05)",borderRadius:"4px"},children:[(0,u.jsx)("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.task.text||"(\uc81c\ubaa9 \uc5c6\uc74c)"}),(0,u.jsx)("button",{onClick:()=>(e=>{const t=[...te],n=t[e],r=c({},a);r[n.dateKey]||(r[n.dateKey]=[]),r[n.dateKey].push(n.task),t.splice(e,1),o(r),lt(r),ne(t),localStorage.setItem("trash",JSON.stringify(t))})(t),className:"settings-btn",style:{width:"auto",padding:"4px 8px",margin:0,background:"none",border:"none",fontSize:"18px",cursor:"pointer"},children:"\u21b6"})]},t))}),(0,u.jsxs)("div",{className:"settings-section",style:{borderBottom:"none",paddingBottom:"0",display:"flex",gap:"5px"},children:[(0,u.jsx)("button",{onClick:()=>{window.confirm("\ud734\uc9c0\ud1b5\uc744 \ube44\uc6b0\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(ne([]),localStorage.setItem("trash",JSON.stringify([])))},className:"settings-btn",style:{background:"#dc3545"},children:"\ube44\uc6b0\uae30"}),(0,u.jsx)("button",{onClick:()=>Q(!1),className:"settings-btn",children:"\ub2eb\uae30"})]})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{style:{fontSize:"14px",color:"#888",textAlign:"center",padding:"20px"},children:"\ud734\uc9c0\ud1b5\uc774 \ube44\uc5b4\uc788\uc2b5\ub2c8\ub2e4."}),(0,u.jsx)("div",{className:"settings-section",style:{borderBottom:"none",paddingBottom:"0"},children:(0,u.jsx)("button",{onClick:()=>Q(!1),className:"settings-btn",children:"\ub2eb\uae30"})})]})]})}),Je&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>$e(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),style:{maxWidth:"350px"},children:[(0,u.jsxs)("h3",{children:['\ud83d\udd12 "',Je.spaceName,'" \ube44\ubc00\ubc88\ud638 ',Je.hasPassword?"\ubcc0\uacbd":"\uc124\uc815"]}),(0,u.jsx)("button",{onClick:()=>$e(null),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),Je.hasPassword&&(0,u.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,u.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"\ud604\uc7ac \ube44\ubc00\ubc88\ud638"}),(0,u.jsx)("input",{type:"password",placeholder:"\ud604\uc7ac \ube44\ubc00\ubc88\ud638 \uc785\ub825",id:"current-password",style:{width:"100%",padding:"8px",fontSize:"14px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"inherit",boxSizing:"border-box"}})]}),(0,u.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,u.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"\uc0c8 \ube44\ubc00\ubc88\ud638"}),(0,u.jsx)("input",{type:"password",placeholder:"\uc0c8 \ube44\ubc00\ubc88\ud638 \uc785\ub825",id:"new-password",style:{width:"100%",padding:"8px",fontSize:"14px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"inherit",boxSizing:"border-box"}})]}),(0,u.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,u.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"12px"},children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,u.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \ub2e4\uc2dc \uc785\ub825",id:"confirm-password",style:{width:"100%",padding:"8px",fontSize:"14px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"inherit",boxSizing:"border-box"}})]}),(0,u.jsxs)("div",{className:"popup-buttons",children:[(0,u.jsx)("button",{onClick:()=>{const e=document.getElementById("current-password"),t=document.getElementById("new-password"),n=document.getElementById("confirm-password");Je.hasPassword&&e.value!==Je.currentPassword?alert("\ud604\uc7ac \ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4."):t.value?t.value===n.value?(le(c(c({},se),{},{[Je.spaceId]:t.value})),$e(null)):alert("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):alert("\uc0c8 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},children:"\ud655\uc778"}),Je.hasPassword&&(0,u.jsx)("button",{onClick:()=>{if(window.confirm("\ube44\ubc00\ubc88\ud638\ub97c \uc81c\uac70\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){const e=c({},se);delete e[Je.spaceId],le(e),$e(null)}},style:{background:"#dc3545"},children:"\uc81c\uac70"}),(0,u.jsx)("button",{onClick:()=>$e(null),children:"\ucde8\uc18c"})]})]})}),K&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>W(!1),children:(0,u.jsxs)("div",{className:"popup settings-popup",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("h3",{children:"\ud83d\udcc1 \uacf5\uac04 \uad00\ub9ac"}),(0,u.jsx)("button",{onClick:()=>W(!1),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),(0,u.jsx)("div",{className:"settings-section",children:ae.map(e=>(0,u.jsxs)("div",{style:{display:"flex",gap:"5px",marginBottom:"8px",alignItems:"center"},children:[(0,u.jsxs)("span",{style:{flex:1,fontSize:"14px"},children:[e.name,se[e.id]&&" \ud83d\udd12"]}),(0,u.jsx)("button",{onClick:()=>{W(!1),setTimeout(()=>(e=>{const t=ae.find(t=>t.id===e);if(!t)return;const n=prompt("\uacf5\uac04 \uc774\ub984 \ubcc0\uacbd:",t.name);n&&n!==t.name&&oe(ae.map(t=>t.id===e?c(c({},t),{},{name:n}):t))})(e.id),100)},className:"settings-btn",style:{width:"auto",padding:"4px 8px",margin:0},children:"\u270e"}),(0,u.jsx)("button",{onClick:()=>{W(!1),setTimeout(()=>(e=>{const t=ae.find(t=>t.id===e);if(!t)return;const n=se[e];$e({spaceId:e,spaceName:t.name,hasPassword:!!n,currentPassword:n||null})})(e.id),100)},className:"settings-btn",style:{width:"auto",padding:"4px 8px",margin:0},children:"\ud83d\udd12"}),(0,u.jsx)("button",{onClick:()=>(e=>{if("default"===e)return void alert("\uae30\ubcf8 \uacf5\uac04\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");if(Object.values(a).some(t=>t.some(t=>(t.spaceId||"default")===e)))return void alert("\uacf5\uac04\uc5d0 \ud560\uc77c\uc774 \uc788\uc5b4 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");const t=ae.find(t=>t.id===e);window.confirm('"'.concat(t.name,'" \uacf5\uac04\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?'))&&(oe(ae.filter(t=>t.id!==e)),ce===e&&ue("default"))})(e.id),className:"settings-btn",style:{width:"auto",padding:"4px 8px",margin:0},children:"\xd7"})]},e.id))}),(0,u.jsx)("div",{className:"settings-section",style:{borderBottom:"none",paddingBottom:"0"},children:(0,u.jsx)("button",{onClick:()=>{W(!1),setTimeout(()=>(()=>{const e=prompt("\uc0c8 \uacf5\uac04 \uc774\ub984:");if(!e)return;const t="space-".concat(Date.now());oe([...ae,{id:t,name:e,password:null}]),ue(t)})(),100)},className:"settings-btn",children:"+ \uc0c8 \uacf5\uac04"})})]})}),Ze&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>et(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),style:{maxWidth:"500px"},children:[(0,u.jsx)("h3",{children:"\u2601\ufe0f \ubc31\uc5c5 \ubaa9\ub85d"}),(0,u.jsx)("button",{onClick:()=>et(null),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),(0,u.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto",marginBottom:"10px"},children:Ze.map((e,t)=>{const n=new Date(e.timestamp),r="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"),"-").concat(String(n.getDate()).padStart(2,"0")," ").concat(String(n.getHours()).padStart(2,"0"),":").concat(String(n.getMinutes()).padStart(2,"0")),i=Object.values(e.dates||{}).reduce((e,t)=>e+t.length,0);return(0,u.jsxs)("div",{style:{padding:"12px",marginBottom:"8px",background:"rgba(255,255,255,0.05)",borderRadius:"8px",cursor:"pointer",border:"1px solid rgba(255,255,255,0.1)"},onClick:()=>(e=>{if(e.dates){const t={};Object.keys(e.dates).forEach(n=>{t[n]=e.dates[n].map(e=>c(c({},e),{},{spaceId:e.spaceId||"default"}))}),o(t)}e.spaces&&oe(e.spaces),e.togglToken&&V(e.togglToken),et(null),alert("\u2705 \ubcf5\uc6d0 \uc644\ub8cc!")})(e),children:[(0,u.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"4px"},children:r}),(0,u.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["\ud560\uc77c ",i,"\uac1c | \uacf5\uac04 ",(e.spaces||[]).length,"\uac1c"]})]},t)})}),(0,u.jsx)("div",{className:"popup-buttons",children:(0,u.jsx)("button",{onClick:()=>et(null),children:"\ucde8\uc18c"})})]})}),tt&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>nt(null),children:(0,u.jsxs)("div",{className:"popup",onClick:e=>e.stopPropagation(),style:{padding:"20px"},children:[(0,u.jsx)("h3",{children:"\ub0a0\uc9dc \ubcc0\uacbd"}),(0,u.jsx)(un,{onChange:e=>{const t="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"));if(t!==tt.dateKey){const e=c({},a),n=e[tt.dateKey].findIndex(e=>e.id===tt.taskId);if(-1!==n){const r=e[tt.dateKey][n];e[tt.dateKey].splice(n,1),e[t]||(e[t]=[]),e[t].push(r),lt(e)}}nt(null)},value:new Date(tt.dateKey),calendarType:"gregory"}),(0,u.jsx)("button",{onClick:()=>nt(null),style:{marginTop:"10px",width:"100%"},children:"\ucde8\uc18c"})]})}),H&&(0,u.jsx)("div",{className:"popup-overlay",onClick:()=>q(!1),children:(0,u.jsxs)("div",{className:"popup settings-popup",onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("h3",{children:"\u2699\ufe0f \uc124\uc815"}),(0,u.jsx)("button",{onClick:()=>q(!1),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#888"},children:"\u2715"}),(0,u.jsxs)("div",{className:"settings-section",children:[(0,u.jsx)("h4",{children:"\ud83d\udcbe \uc7a5\uce58 \uc800\uc7a5"}),(0,u.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[(0,u.jsx)("button",{onClick:async()=>{const e=JSON.stringify({dates:a,spaces:ae,selectedSpaceId:ce,timerLogs:N},null,2),t=new Blob([e],{type:"application/json"});if(window.showSaveFilePicker)try{const e=await window.showSaveFilePicker({suggestedName:"simpleone-".concat((new Date).toISOString().split("T")[0],".json"),types:[{description:"JSON Files",accept:{"application/json":[".json"]}}]}),n=await e.createWritable();await n.write(t),await n.close()}catch(n){"AbortError"!==n.name&&console.error(n)}else{const e=URL.createObjectURL(t),n=document.createElement("a");n.href=e,n.download="simpleone-".concat((new Date).toISOString().split("T")[0],".json"),n.click(),URL.revokeObjectURL(e)}},className:"settings-btn",style:{width:"auto",flex:1},children:"\ud83d\udcbe \uc800\uc7a5"}),(0,u.jsx)("input",{type:"file",accept:".json",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);t.dates&&o(t.dates),t.spaces&&(oe(t.spaces),ue(t.selectedSpaceId||"default")),t.timerLogs&&A(t.timerLogs),alert("\ubd88\ub7ec\uc624\uae30 \uc644\ub8cc!")}catch(t){alert("\ud30c\uc77c \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")}},e.readAsText(t)}},style:{display:"none"},id:"file-input"}),(0,u.jsx)("button",{onClick:()=>document.getElementById("file-input").click(),className:"settings-btn",style:{width:"auto",flex:1},children:"\ud83d\udcc2 \ubd88\ub7ec\uc624\uae30"})]})]}),(0,u.jsxs)("div",{className:"settings-section",children:[(0,u.jsxs)("h4",{children:["\u2601\ufe0f \ud074\ub77c\uc6b0\ub4dc \ubc31\uc5c5 ",S&&J&&(0,u.jsx)("span",{style:{fontSize:"14px",marginLeft:"5px",color:"#4ade80"},children:"\u25cf"})]}),S?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{style:{fontSize:"12px",marginBottom:"10px"},children:S.email}),(0,u.jsxs)("div",{style:{display:"flex",gap:"5px"},children:[(0,u.jsx)("button",{onClick:async()=>{if(S)try{$(!0);const e=Ng(xy,"users",S.id);await yy(e,{workspaces:{default:{dates:a}},spaces:ae,togglToken:z},{merge:!0}),$(!1),alert("\u2705 \uc5c5\ub85c\ub4dc \uc644\ub8cc!")}catch(e){console.error("\uc5c5\ub85c\ub4dc \uc5d0\ub7ec:",e),$(!1),alert("\u274c \uc5c5\ub85c\ub4dc \uc2e4\ud328: "+e.message)}else alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")},className:"settings-btn",style:{width:"auto",flex:1},children:"\u2b06\ufe0f \uc5c5\ub85c\ub4dc"}),(0,u.jsx)("button",{onClick:async()=>{if(S)try{$(!0);const e=Ng(xy,"users",S.id),t=await my(e);if(t.exists()){const e=t.data(),n=e.backupHistory||[];if(n.length>0)q(!1),et(n),$(!1);else{const t=(e.workspaces||{}).default||{};if(t.dates){const e={};Object.keys(t.dates).forEach(n=>{e[n]=t.dates[n].map(e=>c(c({},e),{},{spaceId:e.spaceId||"default"}))}),o(e)}e.spaces&&oe(e.spaces),e.togglToken&&V(e.togglToken),$(!1),alert("\u2705 \ub2e4\uc6b4\ub85c\ub4dc \uc644\ub8cc!")}}else $(!1),alert("\u26a0\ufe0f \uc800\uc7a5\ub41c \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")}catch(e){console.error("\ub2e4\uc6b4\ub85c\ub4dc \uc5d0\ub7ec:",e),$(!1),alert("\u274c \ub2e4\uc6b4\ub85c\ub4dc \uc2e4\ud328: "+e.message)}else alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")},className:"settings-btn",style:{width:"auto",flex:1},children:"\u2b07\ufe0f \ub2e4\uc6b4\ub85c\ub4dc"}),(0,u.jsx)("button",{onClick:async()=>{try{await bt()}catch(e){alert("\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328: "+e.message)}},className:"settings-btn",style:{width:"auto",flex:1},children:"\ub85c\uadf8\uc544\uc6c3"})]})]}):(0,u.jsx)("button",{onClick:async()=>{try{const e=await async function(e,t,n){if(Zr(e.app))return Promise.reject(_i(e,"operation-not-supported-in-this-environment"));const r=La(e);Ni(e,t,so);const i=Jo(r,n);return new is(r,"signInViaPopup",t,i).executeNotNull()}(ky,Ty);k({id:e.user.uid,email:e.user.email}),T(!0);const t=Ng(xy,"users",e.user.uid),n=await my(t);if(n.exists()){const e=n.data(),t=(e.workspaces||{}).default||{};if(t.dates){const e={};Object.keys(t.dates).forEach(n=>{e[n]=t.dates[n].map(e=>c(c({},e),{},{spaceId:e.spaceId||"default"}))}),o(e)}e.spaces&&oe(e.spaces),e.togglToken&&V(e.togglToken)}vy(t,e=>{if(e.exists()){const t=e.data(),n=(t.workspaces||{}).default||{};if(rt.current=!0,n.dates){const e={};Object.keys(n.dates).forEach(t=>{e[t]=n.dates[t].map(e=>c(c({},e),{},{spaceId:e.spaceId||"default"}))}),o(e)}t.spaces&&oe(t.spaces),t.togglToken&&V(t.togglToken),setTimeout(()=>{rt.current=!1},100)}})}catch(e){alert("Firebase \ub85c\uadf8\uc778 \uc2e4\ud328: "+e.message)}},className:"settings-btn",children:"\u2601\ufe0f \ub85c\uadf8\uc778"})]}),(0,u.jsxs)("div",{className:"settings-section",children:[(0,u.jsxs)("h4",{children:["\u23f1\ufe0f Toggl \uc5f0\ub3d9 ",z&&Object.values(Y).length>0&&(0,u.jsx)("span",{style:{fontSize:"14px",marginLeft:"5px",color:"#4ade80"},children:"\u25cf"})]}),(0,u.jsx)("input",{type:"text",value:z,onChange:e=>V(e.target.value),placeholder:"API Token",style:{width:"100%",padding:"8px",marginBottom:"10px",boxSizing:"border-box"}}),(0,u.jsx)("button",{onClick:()=>{localStorage.setItem("togglToken",z),alert("\uc800\uc7a5 \uc644\ub8cc!")},className:"settings-btn",children:"\uc800\uc7a5"})]}),(0,u.jsx)("div",{className:"settings-section",style:{borderBottom:"none",paddingBottom:"0"},children:(0,u.jsx)("button",{onClick:()=>q(!1),className:"settings-btn",children:"\ub2eb\uae30"})})]})}),(0,u.jsxs)("div",{className:"header",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{style:{margin:0},children:"Simple One"}),(0,u.jsx)("div",{children:(0,u.jsxs)("select",{value:ce,onChange:e=>{if("__manage__"===e.target.value)W(!0),e.target.value=ce;else{const t=ae.find(t=>t.id===e.target.value),n=se[e.target.value];if(t&&n){const r=e.target.value;Xe({spaceName:t.name,spacePassword:n,spaceId:r,onSuccess:()=>ue(r),onFail:()=>{}})}else ue(e.target.value)}},style:{padding:"4px 8px",fontSize:"14px"},title:"Alt+1~0: \uacf5\uac04 \ube60\ub978 \uc120\ud0dd",children:[ae.map((e,t)=>(0,u.jsx)("option",{value:e.id,children:e.name},e.id)),(0,u.jsx)("option",{value:"__manage__",children:"\u2699\ufe0f \uacf5\uac04 \uad00\ub9ac"})]})})]}),(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[S&&(0,u.jsxs)("span",{style:{fontSize:"16px"},children:["\u2601\ufe0f",J&&(0,u.jsx)("span",{style:{fontSize:"10px",color:"#4ade80",marginLeft:"2px"},children:"\u25cf"})]}),z&&(0,u.jsxs)("span",{style:{fontSize:"16px"},children:["\u23f1\ufe0f",Object.values(Y).length>0&&(0,u.jsx)("span",{style:{fontSize:"10px",color:"#4ade80",marginLeft:"2px"},children:"\u25cf"})]}),(0,u.jsx)("button",{onClick:()=>Q(!0),className:"icon-btn",title:"\ud734\uc9c0\ud1b5",children:"\ud83d\uddd1\ufe0f"}),(0,u.jsx)("button",{onClick:()=>q(!0),className:"icon-btn",title:"\uc124\uc815",children:"\u2699\ufe0f"})]})]}),(0,u.jsxs)("div",{className:"view-controls",children:[(0,u.jsx)("button",{onClick:()=>_(!E),className:"icon-btn",title:"\uce98\ub9b0\ub354",children:E?"\u25b2":"\u25bc"}),(0,u.jsxs)("div",{className:"view-mode-btns",children:[(0,u.jsx)("button",{onClick:()=>C("list"),className:"icon-btn ".concat("list"===I?"active":""),title:"\ubaa9\ub85d",children:"\ud83d\udccb"}),(0,u.jsx)("button",{onClick:()=>C("month"),className:"icon-btn ".concat("month"===I?"active":""),title:"\uc6d4\ubcc4",children:"\ud83d\udcca"}),(0,u.jsx)("button",{onClick:()=>C("timeline"),className:"icon-btn ".concat("timeline"===I?"active":""),title:"\ud0c0\uc784\ub77c\uc778",children:"\ud83d\udd52"})]}),E&&(0,u.jsx)("div",{className:"calendar-container",children:(0,u.jsxs)("div",{style:{position:"relative"},children:[(0,u.jsx)(un,{value:s,onChange:l,calendarType:"gregory",showNavigation:!0,activeStartDate:be,onActiveStartDateChange:e=>{let{activeStartDate:t}=e;return we(t)},tileContent:e=>{let{date:t,view:n}=e;if("month"!==n)return null;const r="".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")),i=mt(r);return i.total>0?(0,u.jsxs)("div",{className:"tile-stats",children:[i.completed,"/",i.total]}):null}}),(0,u.jsx)("button",{className:"calendar-today-btn",onClick:()=>{const e=new Date;l(e),we(e),C("list")},children:"\ud83d\udcc5"})]})})]}),"timeline"===I?(0,u.jsxs)("div",{className:"timeline-view",children:[(0,u.jsxs)("h2",{children:[vt," \ud0c0\uc784\ub77c\uc778"]}),(()=>{const e=(N[vt]||[]).filter(e=>{const t=(a[vt]||[]).find(t=>t.text===e.taskName);return!t||(t.spaceId||"default")===ce}),t=(a[vt]||[]).filter(e=>e.completed&&e.completedAt&&(e.spaceId||"default")===ce);return 0===[...e.map(e=>({type:"log",data:e})),...t.map(e=>({type:"task",data:e}))].length?(0,u.jsx)("p",{children:"\uc624\ub298 \uae30\ub85d\ub41c \ud0c0\uc774\uba38\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,u.jsxs)("div",{className:"timeline-container",children:[e.map((e,t)=>{const n=new Date(e.startTime),r=new Date(e.endTime),i=n.getHours(),a=n.getMinutes(),o=r.getHours(),s=r.getMinutes(),l=e.duration,c=(60*i+a)/1440*100,d=l/60/1440*100,h=i===o&&a===s;return(0,u.jsxs)("div",{className:"timeline-item",style:{top:"".concat(c,"%"),height:"".concat(Math.max(d,.5),"%")},onClick:()=>F({dateKey:vt,logIndex:t,log:e}),children:[(0,u.jsx)("span",{className:"timeline-time",children:h?"".concat(String(i).padStart(2,"0"),":").concat(String(a).padStart(2,"0")):"".concat(String(i).padStart(2,"0"),":").concat(String(a).padStart(2,"0"),"-").concat(String(o).padStart(2,"0"),":").concat(String(s).padStart(2,"0"))}),(0,u.jsx)("span",{className:"timeline-task",children:e.taskName}),(0,u.jsxs)("span",{className:"timeline-duration",children:["(",pt(l),")"]})]},"log-".concat(t))}),t.map((e,t)=>{const n=new Date(e.completedAt),r=n.getHours(),i=n.getMinutes(),a=e.todayTime,o=new Date(n.getTime()-1e3*a),s=o.getHours(),l=o.getMinutes(),c=(60*s+l)/1440*100,d=a/60/1440*100,h=s===r&&l===i;return(0,u.jsxs)("div",{className:"timeline-item timeline-completed",style:{top:"".concat(c,"%"),height:"".concat(Math.max(d,.5),"%"),minHeight:"30px"},children:[(0,u.jsx)("span",{className:"timeline-time",children:h?"".concat(String(s).padStart(2,"0"),":").concat(String(l).padStart(2,"0")):"".concat(String(s).padStart(2,"0"),":").concat(String(l).padStart(2,"0"),"-").concat(String(r).padStart(2,"0"),":").concat(String(i).padStart(2,"0"))}),(0,u.jsxs)("span",{className:"timeline-task",children:["\u2713 ",e.text]}),(0,u.jsxs)("span",{className:"timeline-duration",children:["(",pt(a),")"]})]},"task-".concat(e.id))}),(0,u.jsx)("div",{className:"timeline-hours",children:Array.from({length:24},(e,t)=>(0,u.jsxs)("div",{className:"timeline-hour",style:{top:"".concat(t/24*100,"%")},children:[String(t).padStart(2,"0"),":00"]},t))})]})})()]}):"list"===I?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",margin:"20px 0"},children:[(0,u.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,u.jsx)("button",{onClick:Ee?async()=>{if(!Ee)return void console.log("quickTimer \uc5c6\uc74c");const e=Math.floor((Date.now()-Ee)/1e3),t=Ne?Number(Ne):null;if(console.log("stopQuickTimer \ud638\ucd9c:",{quickTimerText:Me,numericTaskId:t,seconds:e,dateKey:vt}),Me.trim()){console.log("quickTimerText \uc788\uc74c, \uc0c8 \ud560\uc77c \uc0dd\uc131:",Me.trim()),rt.current=!0;const t=c({},a);t[vt]||(t[vt]=[]);let n=t[vt].find(e=>e.text===Me.trim()&&(e.spaceId||"default")===ce);n||(n={id:Date.now(),text:Me.trim(),todayTime:0,totalTime:0,todayGoal:0,totalGoal:0,completed:!1,indentLevel:0,spaceId:ce||"default"},t[vt].push(n)),n.todayTime+=e,n.completed=!0,n.completedAt=(new Date).toISOString();const i=n.text;Object.keys(t).forEach(n=>{const r=t=>{t.forEach(t=>{t.text===i&&(t.totalTime+=e),t.children&&r(t.children)})};t[n]&&r(t[n])}),localStorage.setItem("dates",JSON.stringify(t)),o(t),lt(t,!1);const s=c({},N);if(s[vt]||(s[vt]=[]),s[vt].push({taskName:n.text,startTime:new Date(Ee).toISOString(),endTime:(new Date).toISOString(),duration:e}),A(s),console.log("\ud560\uc77c \uc0dd\uc131 \uc644\ub8cc:",n),z)try{const t=await fetch("/api/toggl?token=".concat(encodeURIComponent(z)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:n.text,start:new Date(Ee).toISOString(),duration:e,created_with:"SimpleOne"})});if(!t.ok){const e=t.headers.get("content-type");if(e&&e.includes("application/json"))console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",await t.json());else{const e=await t.text();console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",e)}}}catch(r){console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",r)}setTimeout(()=>{rt.current=!1},1e3)}else{if(!t){if(console.log("\ud14d\uc2a4\ud2b8\ub3c4 taskId\ub3c4 \uc5c6\uc74c, \ud31d\uc5c5 \ud45c\uc2dc"),Oe({seconds:e,startTime:Ee}),je(""),_e(null),Ce(0),Ae(null),Fe(""),S&&x){yy(Ng(xy,"users",S.id),{quickTimer:null},{merge:!0})}return}{var n;console.log("numericTaskId \uc788\uc74c, \uae30\uc874 \ud560\uc77c\uc5d0 \uc2dc\uac04 \ucd94\uac00:",t),rt.current=!0;const i=c({},a),s=null===(n=i[vt])||void 0===n?void 0:n.find(e=>e.id===t);if(s){s.todayTime+=e,s.completed=!0,s.completedAt=(new Date).toISOString();const t=s.text;Object.keys(i).forEach(n=>{const r=n=>{n.forEach(n=>{n.text===t&&(n.totalTime+=e),n.children&&r(n.children)})};i[n]&&r(i[n])}),localStorage.setItem("dates",JSON.stringify(i)),o(i),lt(i,!1);const n=c({},N);if(n[vt]||(n[vt]=[]),n[vt].push({taskName:s.text||"(\uc81c\ubaa9 \uc5c6\uc74c)",startTime:new Date(Ee).toISOString(),endTime:(new Date).toISOString(),duration:e}),A(n),z)try{const t=await fetch("/api/toggl?token=".concat(encodeURIComponent(z)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:s.text||"(\uc81c\ubaa9 \uc5c6\uc74c)",start:new Date(Ee).toISOString(),duration:e,created_with:"SimpleOne"})});t.ok||console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",await t.json())}catch(r){console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",r)}}setTimeout(()=>{rt.current=!1},1e3)}}if(_e(null),Ce(0),Ae(null),Fe(""),S&&x){yy(Ng(xy,"users",S.id),{quickTimer:null},{merge:!0})}}:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=Date.now();_e(t),Ce(0);const n=e?Number(e):null;if(Ae(n),S&&x){yy(Ng(xy,"users",S.id),{quickTimer:{startTime:t,taskId:n}},{merge:!0})}},style:{padding:"16px 48px",background:Ee?"#dc3545":"#4CAF50",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:Ee?"\u23f8 \uba48\ucd94\uae30 (".concat(pt(Ie),")"):"\u25b6 Do"}),Ee&&(0,u.jsx)("button",{onClick:()=>{if(window.confirm("\ud0c0\uc774\uba38\ub97c \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(_e(null),Ce(0),Ae(null),S&&x)){yy(Ng(xy,"users",S.id),{quickTimer:null},{merge:!0})}},style:{padding:"12px 16px",fontSize:"14px",borderRadius:"8px",border:"1px solid rgba(220,53,69,0.5)",background:"rgba(220,53,69,0.1)",color:"#dc3545",cursor:"pointer"},children:"\u2715"})]}),(0,u.jsxs)("div",{style:{width:"100%",maxWidth:"600px",display:"flex",gap:"8px",alignItems:"center",position:"relative"},children:[(0,u.jsxs)("div",{style:{flex:1,position:"relative"},children:[(0,u.jsx)("input",{type:"text",value:Me,onChange:e=>{Fe(e.target.value),Be(-1);const t=e.target.value.toLowerCase();if(t){const e=[];Object.keys(a).forEach(n=>{(a[n]||[]).forEach(n=>{n.text&&n.text.toLowerCase().includes(t)&&!e.find(e=>e.text===n.text)&&e.push(n)})}),Ve(e.slice(0,5))}else Ve([])},onKeyDown:e=>{if("ArrowDown"===e.key)e.preventDefault(),Be(e=>e<ze.length-1?e+1:e);else if("ArrowUp"===e.key)e.preventDefault(),Be(e=>e>0?e-1:-1);else if("Enter"===e.key){if(e.preventDefault(),Ue>=0&&ze[Ue]){const e=ze[Ue];Fe(e.text),Ve([]),Be(-1)}else if(Me.trim()){const e=Ne;if(_e(Date.now()),Ce(0),S&&x){yy(Ng(xy,"users",S.id),{quickTimer:Date.now(),quickTimerTaskId:e},{merge:!0})}}}else"Escape"===e.key&&(Ve([]),Be(-1))},onFocus:()=>{const e=Me.toLowerCase();if(e){const t=[];Object.keys(a).forEach(n=>{(a[n]||[]).forEach(n=>{n.text&&n.text.toLowerCase().includes(e)&&!t.find(e=>e.text===n.text)&&t.push(n)})}),Ve(t.slice(0,5))}},onBlur:()=>{setTimeout(()=>{Ve([]),Be(-1)},200)},id:"quick-timer-input",placeholder:"\uc9c0\uae08 \ubb50 \ud558\uace0 \uc788\ub098\uc694?",style:{width:"100%",padding:"12px 16px",fontSize:"16px",borderRadius:"12px",border:"2px solid rgba(255,215,0,0.3)",background:"rgba(255,215,0,0.05)",color:"inherit",outline:"none",textAlign:"left",boxSizing:"border-box",fontWeight:"500"}}),ze.length>0&&(0,u.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#222",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",marginTop:"4px",padding:"8px",zIndex:1e3,maxHeight:"200px",overflowY:"auto"},children:ze.map((e,t)=>(0,u.jsx)("div",{onMouseDown:t=>{t.preventDefault(),Fe(e.text),Ve([]),Be(-1)},style:{padding:"8px",cursor:"pointer",background:t===Ue?"rgba(255,215,0,0.2)":"rgba(255,255,255,0.05)",marginBottom:t<ze.length-1?"4px":"0",borderRadius:"4px",fontSize:"14px"},children:e.text},e.id))})]}),(0,u.jsx)("button",{onClick:()=>ke(!0),style:{padding:"12px 16px",fontSize:"18px",fontWeight:"bold",borderRadius:"12px",border:"none",background:"#FFD700",color:"white",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"+"})]})]}),Pe.filter(e=>e.dateKey===vt).length>0&&(0,u.jsxs)("div",{style:{margin:"20px 0",padding:"16px",borderRadius:"12px",background:"rgba(255,193,7,0.1)",border:"1px solid rgba(255,193,7,0.3)"},children:[(0,u.jsx)("h3",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#FFC107"},children:"\u23f1\ufe0f \ubbf8\uc9c0\uc815 \uc2dc\uac04"}),Pe.filter(e=>e.dateKey===vt).map((e,t)=>{const n=Pe.findIndex(t=>t.timestamp===e.timestamp);return(0,u.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,u.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"13px",color:"#888",marginBottom:"4px"},children:[(0,u.jsx)("span",{children:pt(e.seconds)}),(0,u.jsx)("button",{onClick:()=>{const e=[...Pe];e.splice(n,1),Re(e)},style:{background:"none",border:"none",color:"#dc3545",cursor:"pointer",fontSize:"16px",padding:"0 4px"},children:"\u2715"})]}),(0,u.jsx)("input",{type:"text",defaultValue:e.text||"",placeholder:"\uc791\uc5c5 \uc774\ub984 \uc785\ub825 \ub610\ub294 \uc544\ub798\uc5d0\uc11c \uc120\ud0dd",style:{width:"100%",padding:"6px",marginBottom:"4px",fontSize:"13px",borderRadius:"4px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.05)",color:"inherit",boxSizing:"border-box"},onKeyDown:async t=>{if("Enter"===t.key&&t.target.value.trim()){const i=t.target.value.trim(),s=c({},a);s[e.dateKey]||(s[e.dateKey]=[]);let l=s[e.dateKey].find(e=>e.text===i&&(e.spaceId||"default")===ce);l||(l={id:Date.now(),text:i,todayTime:0,totalTime:0,todayGoal:0,totalGoal:0,completed:!1,indentLevel:0,spaceId:ce||"default"},s[e.dateKey].push(l)),l.todayTime+=e.seconds,l.completed=!0,l.completedAt=(new Date).toISOString();const u=l.text;Object.keys(s).forEach(t=>{const n=t=>{t.forEach(t=>{t.text===u&&(t.totalTime+=e.seconds),t.children&&n(t.children)})};s[t]&&n(s[t])}),o(s),lt(s);const d=c({},N);if(d[e.dateKey]||(d[e.dateKey]=[]),d[e.dateKey].push({taskName:l.text,startTime:new Date(e.startTime).toISOString(),endTime:new Date(e.startTime+1e3*e.seconds).toISOString(),duration:e.seconds}),A(d),z)try{const t=await fetch("/api/toggl?token=".concat(encodeURIComponent(z)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:l.text,start:new Date(e.startTime).toISOString(),duration:e.seconds,created_with:"SimpleOne"})});t.ok||console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",await t.json())}catch(r){console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",r)}const h=[...Pe];h.splice(n,1),Re(h),t.target.value=""}}}),(0,u.jsxs)("select",{onChange:e=>{e.target.value&&(async(e,t)=>{const n=Pe[e],r=c({},a),i=r[n.dateKey].find(e=>e.id===t);if(i){i.todayTime+=n.seconds,i.completed=!0,i.completedAt=(new Date).toISOString();const e=i.text;Object.keys(r).forEach(t=>{const i=t=>{t.forEach(t=>{t.text===e&&(t.totalTime+=n.seconds),t.children&&i(t.children)})};r[t]&&i(r[t])}),o(r),lt(r);const t=c({},N);if(t[n.dateKey]||(t[n.dateKey]=[]),t[n.dateKey].push({taskName:i.text||"(\uc81c\ubaa9 \uc5c6\uc74c)",startTime:new Date(n.startTime).toISOString(),endTime:new Date(n.startTime+1e3*n.seconds).toISOString(),duration:n.seconds}),A(t),z)try{const e=await fetch("/api/toggl?token=".concat(encodeURIComponent(z)),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:i.text||"(\uc81c\ubaa9 \uc5c6\uc74c)",start:new Date(n.startTime).toISOString(),duration:n.seconds,created_with:"SimpleOne"})});if(!e.ok){const t=e.headers.get("content-type");if(t&&t.includes("application/json"))console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",await e.json());else{const t=await e.text();console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",t)}}}catch(l){console.error("Toggl \uc800\uc7a5 \uc2e4\ud328:",l)}}const s=[...Pe];s.splice(e,1),Re(s)})(n,parseInt(e.target.value))},style:{width:"100%",padding:"6px",fontSize:"13px",borderRadius:"4px"},children:[(0,u.jsx)("option",{value:"",children:"\ub610\ub294 \uae30\uc874 \uc791\uc5c5 \uc120\ud0dd..."}),(a[vt]||[]).filter(e=>(e.spaceId||"default")===ce).map(e=>(0,u.jsx)("option",{value:e.id,children:e.text||"(\uc81c\ubaa9 \uc5c6\uc74c)"},e.id))]})]},e.timestamp)})]}),(0,u.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px",padding:"20px 0"},children:[(e=>{const t=(null===(e=a[vt])||void 0===e?void 0:e.filter(e=>(e.spaceId||"default")===ce))||[],n=t.filter(e=>!e.completed),r=t.filter(e=>e.completed);return(0,u.jsxs)(u.Fragment,{children:[n.map((e,t,n)=>{const r="".concat(vt,"-").concat(e.id),i=f[r]||0,s=Object.values(N).flat().filter(t=>t.taskName===e.text).length,l=d[r];return(0,u.jsxs)("div",{draggable:!0,onDragStart:t=>{pe(e.id),t.dataTransfer.effectAllowed="move"},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:t=>{if(t.preventDefault(),fe&&fe!==e.id){const t=c({},a),n=t[vt],r=n.findIndex(e=>e.id===fe),i=n.findIndex(t=>t.id===e.id);if(-1!==r&&-1!==i){const[e]=n.splice(r,1);n.splice(i,0,e),o(t),lt(t)}}pe(null)},onDragEnd:()=>pe(null),onContextMenu:r=>{r.preventDefault(),ve({x:r.clientX,y:r.clientY,taskId:e.id,dateKey:vt,taskIndex:t,totalTasks:n.length})},onClick:t=>{"TEXTAREA"===t.target.tagName||"BUTTON"===t.target.tagName||t.target.closest("textarea")||ft(vt,[e.id])},style:{background:"white",borderRadius:"16px",padding:"20px",boxShadow:l?"0 8px 24px rgba(255,215,0,0.4)":"0 4px 12px rgba(0,0,0,0.08)",transition:"all 0.3s",border:l?"2px solid #FFD700":"2px solid transparent",cursor:"pointer",position:"relative"},onTouchStart:r=>{const i=r.touches[0];r.currentTarget.dataset.touchStartTime=Date.now(),r.currentTarget.dataset.touchStartX=i.clientX,r.currentTarget.dataset.touchStartY=i.clientY;const a=setTimeout(()=>{ve({x:i.clientX,y:i.clientY,taskId:e.id,dateKey:vt,taskIndex:t,totalTasks:n.length}),r.currentTarget.dataset.isLongPress="true"},500);r.currentTarget.dataset.longPressTimer=a},onTouchEnd:t=>{const n=t.currentTarget.dataset.longPressTimer,r="true"===t.currentTarget.dataset.isLongPress,i=parseInt(t.currentTarget.dataset.touchStartTime),a=Date.now()-i;n&&clearTimeout(parseInt(n)),!r&&a<500&&"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&"BUTTON"!==t.target.tagName&&"DIV"!==t.target.tagName&&ft(vt,[e.id]),t.currentTarget.dataset.isLongPress="false"},onTouchMove:e=>{const t=e.touches[0],n=parseFloat(e.currentTarget.dataset.touchStartX),r=parseFloat(e.currentTarget.dataset.touchStartY),i=Math.abs(t.clientX-n),a=Math.abs(t.clientY-r);(i>10||a>10)&&e.currentTarget.dataset.longPressTimer&&clearTimeout(parseInt(e.currentTarget.dataset.longPressTimer))},children:[(0,u.jsxs)("div",{style:{position:"relative",marginBottom:"12px"},children:[(0,u.jsx)("textarea",{value:e.text,readOnly:!0,onChange:t=>{ht(vt,[e.id],"text",t.target.value)},onInput:t=>{t.target.style.height="auto",t.target.style.height=t.target.scrollHeight+"px";const n=t.target.value.toLowerCase(),r=document.getElementById("suggestions-".concat(e.id));if(n&&r){const t=[];Object.keys(a).forEach(r=>{(a[r]||[]).forEach(r=>{r.text&&r.text.toLowerCase().includes(n)&&r.text!==e.text&&!t.find(e=>e.text===r.text)&&t.push(r)})}),t.length>0?(r.innerHTML=t.slice(0,5).map(t=>'<div style="padding: 8px; cursor: pointer; background: rgba(0,0,0,0.02); margin-bottom: 4px; border-radius: 4px; font-size: 14px; color: #333;" onmousedown="event.preventDefault(); const ta = document.querySelector(\'textarea[data-task-id='.concat(e.id,"]'); ta.value='").concat(t.text.replace(/'/g,"\\'").replace(/"/g,"&quot;"),"'; ta.dispatchEvent(new Event('change', { bubbles: true })); setTimeout(() => document.getElementById('suggestions-").concat(e.id,"').style.display='none', 0);\" ontouchstart=\"event.preventDefault(); const ta = document.querySelector('textarea[data-task-id=").concat(e.id,"]'); ta.value='").concat(t.text.replace(/'/g,"\\'").replace(/"/g,"&quot;"),"'; ta.dispatchEvent(new Event('change', { bubbles: true })); setTimeout(() => document.getElementById('suggestions-").concat(e.id,"').style.display='none', 0);\">").concat(t.text,"</div>")).join(""),r.style.display="block"):r.style.display="none"}else r&&(r.style.display="none")},onKeyDown:t=>{if("Enter"===t.key){t.preventDefault();const r=n.findIndex(t=>t.id===e.id);ct(vt,[],r)}else"Backspace"===t.key&&""===t.target.value&&0===t.target.selectionStart&&(t.preventDefault(),ut(vt,e.id))},onFocus:e=>{e.stopPropagation()},onClick:t=>{t.stopPropagation(),ft(vt,[e.id])},onBlur:()=>{setTimeout(()=>{const t=document.getElementById("suggestions-".concat(e.id));t&&(t.style.display="none")},300)},placeholder:"\uc6d0\ud558\ub294 \uac83",rows:1,"data-task-id":e.id,ref:e=>{e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},style:{fontSize:"18px",fontWeight:"600",color:"#333",width:"100%",border:"none",background:"transparent",outline:"none",resize:"none",overflow:"hidden",fontFamily:"inherit",lineHeight:"1.4",cursor:"pointer",userSelect:"none"}}),(0,u.jsx)("div",{id:"suggestions-".concat(e.id),style:{display:"none",position:"absolute",bottom:"100%",left:0,right:0,background:"white",border:"1px solid #ddd",borderRadius:"8px",marginBottom:"4px",padding:"8px",zIndex:1e3,maxHeight:"150px",overflowY:"auto",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})]}),(0,u.jsxs)("div",{style:{display:"flex",gap:"12px",fontSize:"14px",color:"#666",marginBottom:"8px"},children:[(0,u.jsx)("span",{children:l?"\u23f8 ".concat(pt(e.todayTime+i)):"\u25b6 ".concat(pt(e.todayTime))}),(0,u.jsxs)("span",{children:["\ucd1d ",pt(e.totalTime)]})]}),s>0&&(0,u.jsxs)("div",{style:{fontSize:"13px",color:"#888"},children:["\u2728 ",s,"\ubc88"]}),(0,u.jsx)("div",{style:{position:"absolute",bottom:"12px",right:"12px",display:"flex",gap:"6px",alignItems:"center"},children:(()=>{const t=gt(vt,e.id);let n=[];return Object.keys(a).forEach(t=>{var r;const i=null===(r=a[t])||void 0===r?void 0:r.find(t=>t.text===e.text&&(t.spaceId||"default")===(e.spaceId||"default"));i&&i.obstacles&&(n=n.concat(i.obstacles))}),(0,u.jsxs)(u.Fragment,{children:[t.length>0&&(0,u.jsxs)("span",{onClick:t=>{t.stopPropagation(),he({dateKey:vt,taskId:e.id})},style:{fontSize:"11px",color:"#666",cursor:"pointer",padding:"2px 4px",background:"rgba(0,0,0,0.05)",borderRadius:"4px"},title:"\ud558\uc704\ud560\uc77c",children:["\ud83d\udccb(",t.length,")"]}),n.length>0&&(0,u.jsxs)("span",{onClick:t=>{t.stopPropagation(),ge({dateKey:vt,taskId:e.id,taskName:e.text})},style:{fontSize:"11px",color:"#666",cursor:"pointer",padding:"2px 4px",background:"rgba(0,0,0,0.05)",borderRadius:"4px"},title:"\ubc29\ud574\uc694\uc18c",children:["\ud83d\udeab(",n.length,")"]})]})})()})]},e.id)}),r.length>0&&n.length>0&&(0,u.jsx)("div",{style:{gridColumn:"1 / -1",height:"3px",background:"linear-gradient(to right, transparent, #FFD700 20%, #FFD700 80%, transparent)",margin:"24px 0",borderRadius:"2px",boxShadow:"0 2px 8px rgba(255,215,0,0.3)"}}),r.map((e,t,n)=>{const r="".concat(vt,"-").concat(e.id),i=f[r]||0,s=Object.values(N).flat().filter(t=>t.taskName===e.text).length,l=d[r];return(0,u.jsxs)("div",{draggable:!0,onDragStart:t=>{pe(e.id),t.dataTransfer.effectAllowed="move"},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:t=>{if(t.preventDefault(),fe&&fe!==e.id){const t=c({},a),n=t[vt],r=n.findIndex(e=>e.id===fe),i=n.findIndex(t=>t.id===e.id);if(-1!==r&&-1!==i){const[e]=n.splice(r,1);n.splice(i,0,e),o(t),lt(t)}}pe(null)},onDragEnd:()=>pe(null),onContextMenu:r=>{r.preventDefault(),ve({x:r.clientX,y:r.clientY,taskId:e.id,dateKey:vt,taskIndex:t,totalTasks:n.length})},onClick:t=>{"TEXTAREA"===t.target.tagName||"BUTTON"===t.target.tagName||t.target.closest("textarea")||ft(vt,[e.id])},style:{background:"white",borderRadius:"16px",padding:"20px",boxShadow:l?"0 8px 24px rgba(255,215,0,0.4)":"0 4px 12px rgba(0,0,0,0.08)",transition:"all 0.3s",border:l?"2px solid #FFD700":"2px solid transparent",cursor:"pointer",position:"relative"},onTouchStart:r=>{const i=r.touches[0];r.currentTarget.dataset.touchStartTime=Date.now(),r.currentTarget.dataset.touchStartX=i.clientX,r.currentTarget.dataset.touchStartY=i.clientY;const a=setTimeout(()=>{ve({x:i.clientX,y:i.clientY,taskId:e.id,dateKey:vt,taskIndex:t,totalTasks:n.length}),r.currentTarget.dataset.isLongPress="true"},500);r.currentTarget.dataset.longPressTimer=a},onTouchEnd:t=>{const n=t.currentTarget.dataset.longPressTimer,r="true"===t.currentTarget.dataset.isLongPress,i=parseInt(t.currentTarget.dataset.touchStartTime),a=Date.now()-i;n&&clearTimeout(parseInt(n)),!r&&a<500&&"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&"BUTTON"!==t.target.tagName&&"DIV"!==t.target.tagName&&ft(vt,[e.id]),t.currentTarget.dataset.isLongPress="false"},onTouchMove:e=>{const t=e.touches[0],n=parseFloat(e.currentTarget.dataset.touchStartX),r=parseFloat(e.currentTarget.dataset.touchStartY),i=Math.abs(t.clientX-n),a=Math.abs(t.clientY-r);(i>10||a>10)&&e.currentTarget.dataset.longPressTimer&&clearTimeout(parseInt(e.currentTarget.dataset.longPressTimer))},children:[(0,u.jsxs)("div",{style:{position:"relative",marginBottom:"12px"},children:[(0,u.jsx)("textarea",{value:e.text,readOnly:!0,onChange:t=>{ht(vt,[e.id],"text",t.target.value)},onInput:t=>{t.target.style.height="auto",t.target.style.height=t.target.scrollHeight+"px";const n=t.target.value.toLowerCase(),r=document.getElementById("suggestions-".concat(e.id));if(n&&r){const t=[];Object.keys(a).forEach(r=>{(a[r]||[]).forEach(r=>{r.text&&r.text.toLowerCase().includes(n)&&r.text!==e.text&&!t.find(e=>e.text===r.text)&&t.push(r)})}),t.length>0?(r.innerHTML=t.slice(0,5).map(t=>'<div style="padding: 8px; cursor: pointer; background: rgba(0,0,0,0.02); margin-bottom: 4px; border-radius: 4px; font-size: 14px; color: #333;" onmousedown="event.preventDefault(); const ta = document.querySelector(\'textarea[data-task-id='.concat(e.id,"]'); ta.value='").concat(t.text.replace(/'/g,"\\'").replace(/"/g,"&quot;"),"'; ta.dispatchEvent(new Event('change', { bubbles: true })); setTimeout(() => document.getElementById('suggestions-").concat(e.id,"').style.display='none', 0);\" ontouchstart=\"event.preventDefault(); const ta = document.querySelector('textarea[data-task-id=").concat(e.id,"]'); ta.value='").concat(t.text.replace(/'/g,"\\'").replace(/"/g,"&quot;"),"'; ta.dispatchEvent(new Event('change', { bubbles: true })); setTimeout(() => document.getElementById('suggestions-").concat(e.id,"').style.display='none', 0);\">").concat(t.text,"</div>")).join(""),r.style.display="block"):r.style.display="none"}else r&&(r.style.display="none")},onKeyDown:t=>{if("Enter"===t.key){t.preventDefault();const r=n.findIndex(t=>t.id===e.id);ct(vt,[],r)}else"Backspace"===t.key&&""===t.target.value&&0===t.target.selectionStart&&(t.preventDefault(),ut(vt,e.id))},onFocus:e=>{e.stopPropagation()},onClick:t=>{t.stopPropagation(),ft(vt,[e.id])},onBlur:()=>{setTimeout(()=>{const t=document.getElementById("suggestions-".concat(e.id));t&&(t.style.display="none")},300)},placeholder:"\uc6d0\ud558\ub294 \uac83",rows:1,"data-task-id":e.id,ref:e=>{e&&(e.style.height="auto",e.style.height=e.scrollHeight+"px")},style:{fontSize:"18px",fontWeight:"600",color:"#333",width:"100%",border:"none",background:"transparent",outline:"none",resize:"none",overflow:"hidden",fontFamily:"inherit",lineHeight:"1.4",cursor:"pointer",userSelect:"none"}}),(0,u.jsx)("div",{id:"suggestions-".concat(e.id),style:{display:"none",position:"absolute",bottom:"100%",left:0,right:0,background:"white",border:"1px solid #ddd",borderRadius:"8px",marginBottom:"4px",padding:"8px",zIndex:1e3,maxHeight:"150px",overflowY:"auto",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}})]}),(0,u.jsxs)("div",{style:{display:"flex",gap:"12px",fontSize:"14px",color:"#666",marginBottom:"8px"},children:[(0,u.jsx)("span",{children:l?"\u23f8 ".concat(pt(e.todayTime+i)):"\u25b6 ".concat(pt(e.todayTime))}),(0,u.jsxs)("span",{children:["\ucd1d ",pt(e.totalTime)]})]}),s>0&&(0,u.jsxs)("div",{style:{fontSize:"13px",color:"#888"},children:["\u2728 ",s,"\ubc88"]})]},e.id)})]})})(),(0,u.jsx)("div",{onClick:()=>ct(vt),style:{background:"rgba(255,255,255,0.5)",borderRadius:"16px",padding:"20px",border:"2px dashed #ccc",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"#999",minHeight:"120px"},children:"+"})]}),(0,u.jsxs)("div",{className:"completed-timeline",children:[(0,u.jsx)("h3",{children:"\u2713 \uc624\ub298 \ud55c \uac83\ub4e4"}),(0,u.jsx)("div",{className:"timeline-items",children:yt().length>0?yt().map(e=>{const t=(e=>{if(!e)return 0;let t=0;const n=new Date;for(let r=0;r<365;r++){const i=new Date(n);i.setDate(n.getDate()-r);const o="".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"),"-").concat(String(i.getDate()).padStart(2,"0"));if(!(a[o]||[]).find(t=>t.text===e&&t.completed))break;t++}return t})(e.text),n=e.id.startsWith("log-");return(0,u.jsxs)("div",{className:"timeline-item-compact",style:{display:"flex",alignItems:"center",gap:"8px",position:"relative"},onMouseEnter:e=>{const t=e.currentTarget.querySelector("button");t&&(t.style.opacity=1,t.style.pointerEvents="auto")},onMouseLeave:e=>{const t=e.currentTarget.querySelector("button");t&&(t.style.opacity=0,t.style.pointerEvents="none")},children:[(0,u.jsx)("span",{className:"timeline-time",children:e.completedTime}),t>1&&(0,u.jsxs)("span",{className:"streak",children:["\ud83d\udd25 ",t,"\uc77c"]}),(0,u.jsx)("span",{className:"timeline-task-name",style:{flex:1,userSelect:"none"},children:e.text}),(0,u.jsx)("button",{onClick:()=>{if(n){const t=e.id.replace("log-",""),n=c({},N),r=n[vt].findIndex(e=>e.startTime===t);-1!==r&&(n[vt].splice(r,1),A(n))}else{const t=parseInt(e.id.replace("task-","")),n=c({},a),r=n[vt].find(e=>e.id===t);r&&(r.completed=!1,delete r.completedAt,o(n),lt(n))}},style:{background:"none",border:"none",color:"#dc3545",cursor:"pointer",fontSize:"14px",padding:"4px",opacity:0,pointerEvents:"none"},children:"\u2715"})]},e.id)}):(0,u.jsx)("p",{style:{fontSize:"14px",color:"#888",textAlign:"center",padding:"0 0 8px 0",margin:"0"},children:"\uc644\ub8cc\ub41c \uc791\uc5c5\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})})]})]}):(0,u.jsxs)("div",{className:"month-view",children:[(0,u.jsxs)("h2",{children:[s.getFullYear(),"\ub144 ",s.getMonth()+1,"\uc6d4"]}),Array.from({length:31},(e,t)=>{var n,r;const i=t+1,o="".concat(s.getFullYear(),"-").concat(String(s.getMonth()+1).padStart(2,"0"),"-").concat(String(i).padStart(2,"0")),d=mt(o);return(0,u.jsxs)("div",{className:"month-day",children:[(0,u.jsxs)("div",{className:"month-day-header",onClick:()=>{l(new Date(s.getFullYear(),s.getMonth(),i)),C("list")},children:[(0,u.jsxs)("strong",{children:[i,"\uc77c"]}),d.total>0&&(0,u.jsxs)("span",{className:"month-day-stats",children:[d.completed,"/",d.total]})]}),(0,u.jsxs)("div",{className:"month-tasks",children:[null===(n=a[o])||void 0===n?void 0:n.filter(e=>(e.spaceId||"default")===ce).slice(0,Z[o]?void 0:3).map(e=>{var t;const n=((null===(t=N[o])||void 0===t?void 0:t.filter(t=>t.taskName===e.text))||[]).map(e=>{const t=new Date(e.startTime),n=new Date(e.endTime);return"".concat(String(t.getHours()).padStart(2,"0"),":").concat(String(t.getMinutes()).padStart(2,"0"),"-").concat(String(n.getHours()).padStart(2,"0"),":").concat(String(n.getMinutes()).padStart(2,"0"))}).join(", ");return(0,u.jsxs)("div",{className:"month-task",style:{opacity:e.completed?.5:1},children:[e.text||"(\uc81c\ubaa9 \uc5c6\uc74c)",n&&(0,u.jsx)("span",{className:"month-task-time",children:n})]},e.id)}),(null===(r=a[o])||void 0===r?void 0:r.filter(e=>(e.spaceId||"default")===ce).length)>3&&!Z[o]&&(0,u.jsxs)("div",{className:"month-task-more",onClick:e=>{e.stopPropagation(),ee(c(c({},Z),{},{[o]:!0}))},children:["+",a[o].filter(e=>(e.spaceId||"default")===ce).length-3,"\uac1c \ub354"]})]})]},i)})]}),Ge&&Ke&&(e=>{const t=null===(e=a[vt])||void 0===e?void 0:e.find(e=>e.id===Ke),n="".concat(vt,"-").concat(Ke),r=f[n]||0,i=ye&&ye.taskId===Ke;return(0,u.jsx)("div",{className:"keyboard-menu",children:i?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault();const t=document.querySelector('textarea[data-task-id="'.concat(Ke,'"]'));t&&(t.readOnly=!1,t.focus(),t.setSelectionRange(t.value.length,t.value.length)),ve(null)},children:"\u270f\ufe0f"}),(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),t&&t.text&&Te({taskName:t.text}),ve(null)},children:"\ud83d\udcca"}),t&&(t.indentLevel||0)>0&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault();const n="habit"===t.type?"task":"habit";ht(vt,[t.id],"type",n),ve(null),setTimeout(()=>{const e=document.querySelector('textarea[data-task-id="'.concat(Ke,'"]'));e&&e.focus({preventScroll:!0})},0)},children:"\ud83d\udd04"}),(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault();const n="environment"===t.type?"task":"environment";ht(vt,[t.id],"type",n),ve(null),setTimeout(()=>{const e=document.querySelector('textarea[data-task-id="'.concat(Ke,'"]'));e&&e.focus({preventScroll:!0})},0)},children:"\ud83c\udf0d"})]}),(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),nt({dateKey:vt,taskId:Ke}),ve(null)},children:"\ud83d\udcc5"}),(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),ve(null),setTimeout(()=>{const e=document.querySelector('textarea[data-task-id="'.concat(Ke,'"]'));e&&e.focus({preventScroll:!0})},0)},children:"\u2715"})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),t&&j({dateKey:vt,path:[t.id],type:"today",time:t.todayTime})},children:["\ud83d\udcc5 ",t&&pt(t.todayTime+(d[n]?r:0))]}),t&&t.totalTime>t.todayTime&&(0,u.jsxs)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),j({dateKey:vt,path:[t.id],type:"total",time:t.totalTime})},children:["\u23f1\ufe0f ",pt(t.totalTime)]}),(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),t&&O({dateKey:vt,path:[t.id],todayGoal:t.todayGoal,totalGoal:t.totalGoal})},children:"\ud83c\udfaf"}),(0,u.jsx)("button",{className:"keyboard-menu-btn timer",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),ft(vt,[Ke]),setTimeout(()=>{const e=document.querySelector('textarea[data-task-id="'.concat(Ke,'"]'));e&&e.focus({preventScroll:!0})},0)},children:d[n]?"\u23f8":"\u25b6"}),(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),dt(vt,Ke,"indent")},children:">"}),(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),dt(vt,Ke,"outdent")},children:"<"}),(0,u.jsx)("button",{className:"keyboard-menu-btn",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),ve({x:0,y:0,taskId:Ke,dateKey:vt,isBottomMenu:!0}),setTimeout(()=>{const e=document.querySelector('textarea[data-task-id="'.concat(Ke,'"]'));e&&e.focus({preventScroll:!0})},0)},children:"\u22ef"}),(0,u.jsx)("button",{className:"keyboard-menu-btn delete",onMouseDown:e=>e.preventDefault(),onClick:e=>{e.preventDefault(),window.confirm('"'.concat((null===t||void 0===t?void 0:t.text)||"(\uc81c\ubaa9 \uc5c6\uc74c)",'" \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?'))&&(ut(vt,Ke),We(null))},children:"\ud83d\uddd1"})]})})})()]})},_y=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)})};i.createRoot(document.getElementById("root")).render((0,u.jsx)(r.StrictMode,{children:(0,u.jsx)(Ey,{})})),_y()})();
//# sourceMappingURL=main.5fdafea6.js.map